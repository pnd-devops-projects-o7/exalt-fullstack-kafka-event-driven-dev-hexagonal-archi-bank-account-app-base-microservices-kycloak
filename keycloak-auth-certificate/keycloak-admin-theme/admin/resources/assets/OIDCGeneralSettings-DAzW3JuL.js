import{jsx as e,jsxs as d,Fragment as p}from"react/jsx-runtime";import{useState as v}from"react";import{a as h,J as I,K as k,Y as b,N as _,q as T,a0 as y,I as m,Q as r,bn as w,W as F,e as H,c6 as C,c7 as D,ai as A,bX as M,c as q}from"./main-C047jAp3.js";import{D as S}from"./SwitchControl-87mhceN2.js";/* empty css                           */import{E as K}from"./ExpandableSection-CzJlltxl.js";import{C as N}from"./ClientIdSecret-D8YFRWLH.js";import{R as J,D as P}from"./RedirectUrl-BKPgDV71.js";const E=({label:t,children:n})=>{const{t:i}=h();return e(I,{label:i(t),fieldId:t,labelIcon:e(k,{helpText:i(`${t}Help`),fieldLabelId:t}),children:n})},V=({label:t,field:n,fieldType:i="string",isReadOnly:l=!1,defaultValue:o})=>{const{t:c}=h(),{control:u}=b();return e(E,{label:t,children:e(_,{name:n,defaultValue:o||(i==="string"?"false":!1),control:u,render:({field:g})=>e(T,{id:t,label:c("on"),labelOff:c("off"),isChecked:i==="string"?g.value==="true":g.value,onChange:(f,s)=>g.onChange(i==="string"?""+s:s),isDisabled:l,"aria-label":t})})})},z=({label:t,field:n,isReadOnly:i=!1})=>{const{register:l}=b();return e(E,{label:t,children:e(y,{id:t,"data-testid":t,readOnly:i,...l(n)})})},x=["plain","S256"],U=({readOnly:t})=>{const{t:n}=h(),{control:i}=b(),l=m({control:i,name:"config.validateSignature"}),o=m({control:i,name:"config.useJwksUrl"}),c=m({control:i,name:"config.pkceEnabled"});return d("div",{className:"pf-v5-c-form pf-m-horizontal",children:[e(r,{name:"config.authorizationUrl",label:n("authorizationUrl"),type:"url",readOnly:t,rules:{required:n("required")}}),e(r,{name:"config.tokenUrl",label:n("tokenUrl"),type:"url",readOnly:t,rules:{required:n("required")}}),e(r,{name:"config.logoutUrl",label:n("logoutUrl"),readOnly:t}),e(r,{name:"config.userInfoUrl",label:n("userInfoUrl"),readOnly:t}),e(r,{name:"config.issuer",label:n("issuer"),readOnly:t}),e(S,{name:"config.validateSignature",label:n("validateSignature"),isDisabled:t,stringify:!0}),l==="true"&&d(p,{children:[e(S,{name:"config.useJwksUrl",label:n("useJwksUrl"),isDisabled:t,stringify:!0}),o==="true"?e(w,{name:"config.jwksUrl",label:n("jwksUrl"),readOnly:t}):d(p,{children:[e(w,{name:"config.publicKeySignatureVerifier",label:n("validatingPublicKey")}),e(r,{name:"config.publicKeySignatureVerifierKeyId",label:n("validatingPublicKeyId"),readOnly:t})]})]}),e(S,{name:"config.pkceEnabled",label:n("pkceEnabled"),isDisabled:t,stringify:!0}),c==="true"&&e(F,{name:"config.pkceMethod",label:n("pkceMethod"),labelIcon:n("pkceMethodHelp"),controller:{defaultValue:x[0]},options:x.map(u=>({key:u,value:n(u)}))})]})},Y=({readOnly:t})=>{const{t:n}=h(),[i,l]=v(!1);return d(p,{children:[t&&e(K,{className:"keycloak__discovery-settings__metadata",toggleText:n(i?"hideMetaData":"showMetaData"),onToggle:()=>l(!i),isExpanded:i,children:e(U,{readOnly:t})}),!t&&e(U,{readOnly:t})]})},j=["client_secret_post","client_secret_basic","client_secret_jwt","private_key_jwt"],B=({create:t=!0})=>{const n=H().providers.clientSignature.providers,{t:i}=h(),{control:l}=b(),[o,c]=v(!1),[u,g]=v(!1),f=m({control:l,name:"config.clientAuthMethod"});return d(p,{children:[e(I,{label:i("clientAuthentication"),labelIcon:e(k,{helpText:i("clientAuthenticationHelp"),fieldLabelId:"clientAuthentication"}),fieldId:"clientAuthentication",children:e(_,{name:"config.clientAuthMethod",defaultValue:j[0],control:l,render:({field:s})=>e(C,{toggleId:"clientAuthentication",onToggle:()=>c(!o),onSelect:a=>{s.onChange(a),c(!1)},selections:s.value,variant:D.single,"aria-label":i("clientAuthentication"),isOpen:o,children:j.map(a=>e(A,{selected:a===s.value,value:a,children:i(`clientAuthentications.${a}`)},a))})})}),e(N,{secretRequired:f!=="private_key_jwt",create:t}),e(I,{label:i("clientAssertionSigningAlg"),labelIcon:e(k,{helpText:i("clientAssertionSigningAlgHelp"),fieldLabelId:"clientAssertionSigningAlg"}),fieldId:"clientAssertionSigningAlg",children:e(_,{name:"config.clientAssertionSigningAlg",defaultValue:"",control:l,render:({field:s})=>e(C,{maxHeight:200,toggleId:"clientAssertionSigningAlg",onToggle:()=>g(!u),onSelect:a=>{s.onChange(a.toString()),g(!1)},selections:s.value||i("algorithmNotSpecified"),variant:D.single,"aria-label":i("selectClientAssertionSigningAlg"),isOpen:u,children:[e(A,{selected:s.value==="",value:"",children:i("algorithmNotSpecified")},""),...M(n).map(a=>e(A,{selected:a===s.value,value:a,children:a},a))]})})}),(f==="private_key_jwt"||f==="client_secret_jwt")&&e(z,{field:"config.clientAssertionAudience",label:"clientAssertionAudience"}),f==="private_key_jwt"&&e(V,{field:"config.jwtX509HeadersEnabled",label:"jwtX509HeadersEnabled"})]})},Z=()=>{const{t}=h(),{tab:n}=q(),{control:i}=b(),l=m({control:i,name:"alias"});return d(p,{children:[e(J,{id:l}),e(r,{name:"alias",label:t("alias"),labelIcon:t("aliasHelp"),readOnly:n==="settings",rules:{required:t("required")}}),e(r,{name:"displayName",label:t("displayName")}),e(P,{})]})};export{Y as D,E as F,Z as O,V as S,z as T,B as a};
//# sourceMappingURL=OIDCGeneralSettings-DAzW3JuL.js.map
