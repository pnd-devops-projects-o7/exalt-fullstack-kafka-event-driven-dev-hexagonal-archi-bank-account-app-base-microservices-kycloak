import{jsxs as s,Fragment as B,jsx as e}from"react/jsx-runtime";import{u as C,d as k,a as v,$ as x,b as A,B as E,P as K,eE as S,L as d,de as I,T as L,f as P,eF as l,k as T}from"./main-C047jAp3.js";import{useState as c}from"react";import{u as V}from"./ConfirmDialog-d09hGFUk.js";import{V as w}from"./ViewHeader-Y2Z8ln-o.js";import"react-dom";function q(){const{adminClient:o}=C(),{realm:n}=k(),{t:a}=v(),{addAlert:g,addError:m}=x(),u=A(),[r,f]=c(0),z=()=>f(r+1),[p,y]=c();async function O(t,i,b){return await o.organizations.find({first:t,max:i,search:b})}const[D,h]=V({titleKey:"organizationDelete",messageKey:"organizationDeleteConfirm",continueButtonLabel:"delete",continueButtonVariant:E.danger,onConfirm:async()=>{try{await o.organizations.delById({id:p.id}),g(a("organizationDeletedSuccess")),z()}catch(t){m("organizationDeleteError",t)}}});return s(B,{children:[e(w,{titleKey:"organizationsList",subKey:"organizationsExplain",divider:!0}),s(K,{variant:"light",className:"pf-v5-u-p-0",children:[e(h,{}),e(S,{link:({organization:t,children:i})=>e(d,{to:I({realm:n,id:t.id,tab:"settings"}),children:i},t.id),loader:O,isPaginated:!0,toolbarItem:e(L,{children:e(P,{"data-testid":"addOrganization",component:t=>e(d,{...t,to:l({realm:n})}),children:a("createOrganization")})}),onDelete:t=>{y(t),D()},children:e(T,{message:a("emptyOrganizations"),instructions:a("emptyOrganizationsInstructions"),primaryActionText:a("createOrganization"),onPrimaryAction:()=>u(l({realm:n}))})},r)]})]})}export{q as default};
//# sourceMappingURL=OrganizationsSection-FYZmW6Ag.js.map
