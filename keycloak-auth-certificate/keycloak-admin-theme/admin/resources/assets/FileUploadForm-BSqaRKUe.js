import{jsxs as f,Fragment as L,jsx as l}from"react/jsx-runtime";import{useState as T}from"react";import{F as u}from"./FileUpload-2t3HfN2b.js";import{a as U,M as D,l as k,f as g,J as I,ew as R,d2 as b,d3 as w}from"./main-C047jAp3.js";import{C as y}from"./CodeEditor--AHMF_Ho.js";const S=({id:t,onChange:r,helpText:C="helpFileUpload",unWrap:s=!1,language:F,extension:x,...o})=>{const{t:n}=U(),c={value:"",filename:"",isLoading:!1,modal:!1},[e,a]=T(c),m=()=>a({...e,modal:!1}),p=(d,v)=>{a({...e,filename:v.name})},i=d=>{a({...e,value:d}),r(d)},h=()=>{a({...e,modal:!0})};return f(L,{children:[e.modal&&l(D,{variant:k.small,title:n("clearFile"),isOpen:!0,onClose:m,actions:[l(g,{variant:"primary","data-testid":"clear-button",onClick:()=>{a(c),r("")},children:n("clear")},"confirm"),l(g,{"data-testid":"cancel",variant:"link",onClick:m,children:n("cancel")},"cancel")],children:n("clearFileExplain")}),s&&l(u,{id:t,...o,type:"text",value:e.value,filename:e.filename,onFileInputChange:p,onDataChange:i,onTextChange:i,onClearClick:h,onReadStarted:()=>a({...e,isLoading:!0}),onReadFinished:()=>a({...e,isLoading:!1}),isLoading:e.isLoading,dropzoneProps:{accept:{"application/text":[x]}}}),!s&&f(I,{label:n("resourceFile"),fieldId:t,children:[l(u,{"data-testid":t,id:t,...o,type:"text",value:e.value,filename:e.filename,onFileInputChange:p,onDataChange:i,onTextChange:i,onClearClick:h,onReadStarted:()=>a({...e,isLoading:!0}),onReadFinished:()=>a({...e,isLoading:!1}),isLoading:e.isLoading,hideDefaultPreview:!0,children:!o.hideDefaultPreview&&l(y,{isLineNumbersVisible:!0,code:e.value,language:F,height:"128px",onChange:i,isReadOnly:!o.allowEditingUploadedText})}),l(R,{children:l(b,{children:l(w,{children:n(C)})})})]})]})};export{S as F};
//# sourceMappingURL=FileUploadForm-BSqaRKUe.js.map
