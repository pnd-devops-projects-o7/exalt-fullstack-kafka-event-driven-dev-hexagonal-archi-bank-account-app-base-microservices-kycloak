import{jsx as S,jsxs as re,Fragment as Ce}from"react/jsx-runtime";import{aq as Ds,ar as Pt,f as _e,B as ut,as as Hm,at as jf,a as ze,ao as Qf,z as Bm,u as nn,$ as Fs,j as wr,M as In,l as An,m as br,F as Mn,p as vt,C as Tn,au as Vm,P as Jf,R as Gm,Q as nr,W as Lc,k as Um,av as Pc,aw as $c,ax as Ym,ay as Wm,az as Km,aA as Zm,aB as eh,aC as Xm,aD as rn,aE as _r,aF as Rn,aG as th,aH as Ee,aI as xr,aJ as kn,aK as jm,aL as Os,aM as Qm,aN as nh,aO as Er,aP as Jm,aQ as qn,aR as rh,aS as zs,aT as Hs,aU as Bs,aV as ev,aW as tv,aX as nv,aY as Sr,aZ as Ln,a_ as ih,a$ as Pn,b0 as oh,b1 as rv,b2 as ah,b3 as Vs,b4 as Gs,b5 as sh,b6 as iv,b7 as ov,b8 as ch,b9 as Us,ba as av,bb as Ys,bc as uh,bd as Ws,be as sv,bf as cv,bg as uv,bh as lv,bi as dv,bj as lh,bk as Nr,bl as fv,ag as dh,bm as hv,D as Rt,bn as pv,A as gv,n as mv,o as vv,ai as yv,af as wv,ah as bv,bo as _v,bp as xv,G as fh,H as hh,d as Ev,c as Sv,b as Nv,al as Cv,an as Iv,a5 as Av,a6 as Mv,T as Yr}from"./main-C047jAp3.js";import*as Te from"react";import I,{useEffect as ce,useState as ae,useMemo as Oe,createContext as ph,memo as ue,forwardRef as gh,useRef as ee,useContext as Cr,useCallback as ve}from"react";import{u as Dc}from"./ConfirmDialog-d09hGFUk.js";import{V as Tv}from"./ViewHeader-Y2Z8ln-o.js";import{u as gs}from"./useToggle-K3Kx99tM.js";import{C as Rv,B as kv,D as qv}from"./DuplicateFlowModal-Be_pXQ0m.js";import{N as Lv}from"./NameDescription-D_42Crli.js";import{u as Pv,m as $v}from"./useLocaleSort-O4LGWO8i.js";import"react-dom";import{D as mh,a as Dv,b as Fv,c as Ov,d as zv}from"./Droppable-BCYJDQYz.js";import{s as Wr,D as vh,a as yh,b as wh,c as Kt,d as Hv}from"./DataListItemRow-BUcm7LGX.js";import{P as Bv}from"./pencil-alt-icon-Ccyinb6h.js";import{D as Vv}from"./DynamicComponents-CCNvrlYx.js";import{T as bh}from"./trash-icon-CWGekjFz.js";import{T as Fc}from"./Trans-C8a1WrTl.js";import"./ClientSelect-mboGti-R.js";import"./FileUpload-2t3HfN2b.js";import"./CodeEditor--AHMF_Ho.js";import"./copy-icon-D1BxihC2.js";import"./GroupPickerDialog-CRtxj-P-.js";import"./KeySelect-DvFB2tXI.js";import"./MultiLineInput-lQlb7SN3.js";import"./AddRoleMappingModal-BqwO7G2x.js";import"./translationFormatter-CkqjPJdy.js";import"./filter-icon-BeqpAxqe.js";const _h=e=>{var{className:t="",isExpanded:n=!1,"aria-controls":r="","aria-label":i="Details",rowid:o="",id:a,buttonProps:s}=e,c=Ds(e,["className","isExpanded","aria-controls","aria-label","rowid","id","buttonProps"]);return Te.createElement("div",Object.assign({className:Pt(Wr.dataListItemControl,t)},c),Te.createElement("div",{className:Pt(Wr.dataListToggle)},Te.createElement(_e,Object.assign({id:a,variant:ut.plain,"aria-controls":r!==""&&r,"aria-label":i,"aria-labelledby":i!=="Details"?null:`${o} ${a}`,"aria-expanded":n},s),Te.createElement("div",{className:Pt(Wr.dataListToggleIcon)},Te.createElement(Hm,null)))))};_h.displayName="DataListToggle";const $t={modifiers:{compact:"pf-m-compact",selected:"pf-m-selected",disabled:"pf-m-disabled"},themeDark:"pf-v5-theme-dark",toggleGroup:"pf-v5-c-toggle-group",toggleGroupButton:"pf-v5-c-toggle-group__button",toggleGroupIcon:"pf-v5-c-toggle-group__icon",toggleGroupItem:"pf-v5-c-toggle-group__item",toggleGroupText:"pf-v5-c-toggle-group__text"};var rr;(function(e){e.icon="icon",e.text="text"})(rr||(rr={}));const ms=({variant:e,children:t})=>Te.createElement("span",{className:Pt(e==="icon"&&$t.toggleGroupIcon,e==="text"&&$t.toggleGroupText)},t);ms.displayName="ToggleGroupItemElement";const ir=e=>{var{text:t,icon:n,className:r,isDisabled:i=!1,isSelected:o=!1,"aria-label":a="",onChange:s=()=>{},buttonId:c=""}=e,l=Ds(e,["text","icon","className","isDisabled","isSelected","aria-label","onChange","buttonId"]);const u=d=>{s(d,!o)};return!a&&n&&!t&&console.warn("An accessible aria-label is required when using the toggle group item icon variant."),Te.createElement("div",Object.assign({className:Pt($t.toggleGroupItem,r)},l),Te.createElement("button",Object.assign({type:"button",className:Pt($t.toggleGroupButton,o&&$t.modifiers.selected),"aria-pressed":o,onClick:u},a&&{"aria-label":a},i&&{disabled:!0},c&&{id:c}),n?Te.createElement(ms,{variant:rr.icon},n):null,t?Te.createElement(ms,{variant:rr.text},t):null))};ir.displayName="ToggleGroupItem";const xh=e=>{var{className:t,children:n,isCompact:r=!1,areAllGroupsDisabled:i=!1,"aria-label":o}=e,a=Ds(e,["className","children","isCompact","areAllGroupsDisabled","aria-label"]);const s=Te.Children.map(n,c=>Te.isValidElement(c)&&c.type===ir?Te.cloneElement(c,i?{isDisabled:!0}:{}):c);return Te.createElement("div",Object.assign({className:Pt($t.toggleGroup,r&&$t.modifiers.compact,t),role:"group","aria-label":o},a),s)};xh.displayName="ToggleGroup";const Gv={name:"DomainIcon",height:1024,width:1024,svgPath:"M544,511.9 C561.476067,511.948945 575.664266,525.962873 575.994253,543.371439 L576,543.9 L576,991.9 C575.951055,1009.37607 561.937127,1023.56427 544.528561,1023.89425 L544,1023.9 L352,1023.9 C334.523933,1023.85105 320.335734,1009.83713 320.005747,992.428561 L320,991.9 L320,543.9 C320.048945,526.423933 334.062873,512.235734 351.471439,511.905747 L352,511.9 L544,511.9 Z M704,576 L704,960 L640,960 L640,576 L704,576 Z M512,896 L384,896 L384,960 L512,960 L512,896 Z M960,513.1 L960,513.2 C960,665.4 884.1,799.9 768,880.9 L768,880.9 L768,799.4 C773.3,794.6 778.4,789.8 783.5,784.7 C855.624209,712.728348 896.108133,614.991161 896,513.1 L896,513.1 L960,513.1 Z M149.8,385 C100.714385,524.561202 135.973879,679.905126 240.5,784.6 C245.5,789.7 250.7,794.6 256,799.3 L256,799.3 L256,880.8 C139.9,799.8 63.9999013,665.3 63.9999013,513.1 C63.9712238,469.725105 70.236499,426.575548 82.6,385 L82.6,385 Z M512.1,704 L384,704 L384,832 L512.1,832 L512.1,704 Z M512,576 L448,576 L448,640 L512,640 L512,576 Z M864,-1.13686838e-13 C881.496381,-1.13686838e-13 895.713128,14.0417829 895.995713,31.4708215 L896,32 L896,406 C896,423.496381 881.958217,437.713128 864.529179,437.995713 L864,438 L608,438 C590.503619,438 576.286872,423.958217 576.004287,406.529179 L576,406 L576,32 C576,14.5036191 590.041783,0.286872383 607.470821,0.00428708574 L608,-1.13686838e-13 L864,-1.13686838e-13 Z M1024,64 L1024,384 L960,384 L960,64 L1024,64 Z M832,256 L640,256 L640,352 L832,352 L832,256 Z M224,-5.68434189e-14 C241.476067,0.0489452394 255.664266,14.0628726 255.994253,31.4714395 L256,32 L256,288 C255.951055,305.476067 241.937127,319.664266 224.528561,319.994253 L224,320 L32,320 C14.5239331,319.951055 0.335734448,305.937127 0.00574685353,288.528561 L0,288 L0,32 C0.0489452394,14.5239331 14.0628726,0.335734448 31.4714395,0.00574685353 L32,-5.68434189e-14 L224,-5.68434189e-14 Z M192,192 L64,192 L64,256 L192,256 L192,192 Z M512,65 L512,129 C460.642759,128.90985 409.795141,139.181409 362.5,159.2 C347.917219,165.399771 333.724426,172.47947 320,180.4 L320,180.4 L320,108.2 C380.012207,79.7623165 445.590913,65.0071076 512,65 L512,65 Z M832,64 L736,64 L736,160 L832,160 L832,64 Z M192,64 L128,64 L128,128 L192,128 L192,64 Z",yOffset:0,xOffset:0},Uv=jf(Gv),Yv={name:"TableIcon",height:512,width:512,svgPath:"M464 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V80c0-26.51-21.49-48-48-48zM224 416H64v-96h160v96zm0-160H64v-96h160v96zm224 160H288v-96h160v96zm0-160H288v-96h160v96z",yOffset:0,xOffset:0},Wv=jf(Yv),Kv="_icon_1gmts_2",Zv={icon:Kv},Xv=()=>{const{t:e}=ze();return S(Qf,{icon:S(Bm,{className:Zv.icon}),children:e("buildIn")})},jv=({flow:e,toggleDialog:t})=>{const{adminClient:n}=nn(),{t:r}=ze(),{addAlert:i,addError:o}=Fs(),a=wr({mode:"onChange"}),{reset:s,handleSubmit:c}=a;ce(()=>s(e),[e]);const l=async u=>{try{await n.authenticationManagement.updateFlow({flowId:e.id},{...e,...u}),i(r("updateFlowSuccess"),vt.success)}catch(d){o("updateFlowError",d)}t()};return S(In,{title:r("editFlow"),onClose:t,variant:An.small,actions:[S(_e,{"data-testid":"confirm",type:"submit",form:"edit-flow-form",children:r("edit")},"confirm"),S(_e,{"data-testid":"cancel",variant:ut.link,onClick:()=>t(),children:r("cancel")},"cancel")],isOpen:!0,children:S(br,{...a,children:S(Mn,{id:"edit-flow-form",onSubmit:c(l),isHorizontal:!0,children:S(Lv,{})})})})},Qv=({list:e,setValue:t})=>S(Jf,{variant:"light",className:"pf-v5-u-py-lg",children:S(Mn,{isHorizontal:!0,children:e?.map(n=>S(Gm,{id:n.id,name:"provider",label:n.displayName,"data-testid":n.id,description:n.description,onChange:()=>{t(n)}},n.id))})}),Ks=({name:e,type:t,onSelect:n})=>{const{adminClient:r}=nn(),{t:i}=ze(),[o,a]=ae(),[s,c]=ae(),[l,u]=ae(10),[d,f]=ae(0),[h,p]=ae(""),g=Pv();Tn(async()=>{switch(t){case"client":return r.authenticationManagement.getClientAuthenticatorProviders();case"form":return r.authenticationManagement.getFormActionProviders();case"condition":return(await r.authenticationManagement.getAuthenticatorProviders()).filter(yr);case"basic":default:return(await r.authenticationManagement.getAuthenticatorProviders()).filter(b=>!yr(b))}},v=>c(v),[]);const m=Oe(()=>{const v=h.trim().toLowerCase();return g(s??[],$v("displayName")).filter(({displayName:b,description:_})=>b?.toLowerCase().includes(v)||_?.toLowerCase().includes(v)).slice(d,d+l+1)},[s,h,d,l]);return S(In,{variant:An.medium,isOpen:!0,title:i("addStepTo",{name:e}),onClose:()=>n(),actions:[S(_e,{id:"modal-add","data-testid":"modal-add",onClick:()=>n(o),children:i("add")},"add"),S(_e,{"data-testid":"cancel",id:"modal-cancel",variant:ut.link,onClick:()=>{n()},children:i("cancel")},"cancel")],children:s&&S(Vm,{count:m.length||0,first:d,max:l,onNextClick:f,onPreviousClick:f,onPerPageSelect:(v,b)=>{f(v),u(b)},inputGroupName:"search",inputGroupPlaceholder:i("search"),inputGroupOnEnter:p,children:S(Qv,{list:m.slice(0,l),setValue:a})})})},Oc=["basic-flow","form-flow"],Zs=({name:e,onConfirm:t,onCancel:n})=>{const{adminClient:r}=nn(),{t:i}=ze(),o=wr(),[a,s]=ae();return Tn(()=>r.authenticationManagement.getFormProviders(),s,[]),ce(()=>{a?.length===1&&o.setValue("provider",a[0].id)},[a]),S(In,{variant:An.medium,title:i("addStepTo",{name:e}),onClose:n,actions:[S(_e,{"data-testid":"modal-add",type:"submit",form:"sub-flow-form",children:i("add")},"add"),S(_e,{"data-testid":"cancel",variant:ut.link,onClick:n,children:i("cancel")},"cancel")],isOpen:!0,children:S(Mn,{id:"sub-flow-form",onSubmit:o.handleSubmit(t),isHorizontal:!0,children:re(br,{...o,children:[S(nr,{name:"name",label:i("name"),labelIcon:i("clientIdHelp"),rules:{required:{value:!0,message:i("required")}}}),S(nr,{name:"description",label:i("description"),labelIcon:i("flowNameDescriptionHelp")}),S(Lc,{name:"type",menuAppendTo:"parent",label:i("flowType"),options:Oc.map(c=>({key:c,value:i(`flow-type.${c}`)})),controller:{defaultValue:Oc[0]}}),a&&a.length>1&&S(Lc,{name:"provider",label:i("provider"),labelIcon:i("authenticationFlowTypeHelp"),options:a.map(c=>({key:c.id,value:c.displayName})),controller:{defaultValue:""}})]})})})},Jv=["addExecution","addSubFlow"],ey=({flow:e,onAddExecution:t,onAddFlow:n})=>{const{t:r}=ze(),[i,o]=ae();return re(Ce,{children:[i==="addExecution"&&S(Ks,{name:e.alias,type:e.providerId==="client-flow"?"client":"basic",onSelect:a=>{a&&t(a),o(void 0)}}),i==="addSubFlow"&&S(Zs,{name:e.alias,onCancel:()=>o(void 0),onConfirm:a=>{n(a),o(void 0)}}),S(Um,{message:r("emptyExecution"),instructions:r("emptyExecutionInstructions")}),S("div",{className:"keycloak__empty-execution-state__block",children:Jv.map(a=>re(Pc,{className:"keycloak__empty-execution-state__help",children:[re($c,{flex:{default:"flex_1"},children:[S(Ym,{headingLevel:"h2",size:Wm.md,children:r(`${a}Title`)}),S("p",{children:r(a)})]}),S(Pc,{alignSelf:{default:"alignSelfCenter"},children:S($c,{children:S(_e,{"data-testid":a,variant:"tertiary",onClick:()=>o(a),children:r(a)})})})]},a))})]})};function Se(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Se(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var Eh={exports:{}},Sh={},Nh={exports:{}},Ch={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qt=I;function ty(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ny=typeof Object.is=="function"?Object.is:ty,ry=Qt.useState,iy=Qt.useEffect,oy=Qt.useLayoutEffect,ay=Qt.useDebugValue;function sy(e,t){var n=t(),r=ry({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return oy(function(){i.value=n,i.getSnapshot=t,Kr(i)&&o({inst:i})},[e,n,t]),iy(function(){return Kr(i)&&o({inst:i}),e(function(){Kr(i)&&o({inst:i})})},[e]),ay(n),n}function Kr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ny(e,n)}catch{return!0}}function cy(e,t){return t()}var uy=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cy:sy;Ch.useSyncExternalStore=Qt.useSyncExternalStore!==void 0?Qt.useSyncExternalStore:uy;Nh.exports=Ch;var ly=Nh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir=I,dy=ly;function fy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hy=typeof Object.is=="function"?Object.is:fy,py=dy.useSyncExternalStore,gy=Ir.useRef,my=Ir.useEffect,vy=Ir.useMemo,yy=Ir.useDebugValue;Sh.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=gy(null);if(o.current===null){var a={hasValue:!1,value:null};o.current=a}else a=o.current;o=vy(function(){function c(h){if(!l){if(l=!0,u=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return d=p}return d=h}if(p=d,hy(u,h))return p;var g=r(h);return i!==void 0&&i(p,g)?p:(u=h,d=g)}var l=!1,u,d,f=n===void 0?null:n;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,n,r,i]);var s=py(e,o[0],o[1]);return my(function(){a.hasValue=!0,a.value=s},[s]),yy(s),s};Eh.exports=Sh;var wy=Eh.exports;const by=Km(wy),_y={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},zc=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const h=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},i=()=>t,c={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(_y?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},l=t=e(r,i,c);return c},xy=e=>e?zc(e):zc,{useDebugValue:Ey}=I,{useSyncExternalStoreWithSelector:Sy}=by,Ny=e=>e;function Ih(e,t=Ny,n){const r=Sy(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ey(r),r}const Hc=(e,t)=>{const n=xy(e),r=(i,o=t)=>Ih(n,i,o);return Object.assign(r,n),r},Cy=(e,t)=>e?Hc(e,t):Hc;function xe(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}var Iy={value:()=>{}};function Ar(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qn(n)}function Qn(e){this._=e}function Ay(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Qn.prototype=Ar.prototype={constructor:Qn,on:function(e,t){var n=this._,r=Ay(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=My(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Bc(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Bc(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function My(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Bc(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Iy,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var vs="http://www.w3.org/1999/xhtml";const Vc={svg:"http://www.w3.org/2000/svg",xhtml:vs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vc.hasOwnProperty(t)?{space:Vc[t],local:e}:e}function Ty(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===vs&&t.documentElement.namespaceURI===vs?t.createElement(e):t.createElementNS(n,e)}}function Ry(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ah(e){var t=Mr(e);return(t.local?Ry:Ty)(t)}function ky(){}function Xs(e){return e==null?ky:function(){return this.querySelector(e)}}function qy(e){typeof e!="function"&&(e=Xs(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=new Array(a),c,l,u=0;u<a;++u)(c=o[u])&&(l=e.call(c,c.__data__,u,o))&&("__data__"in c&&(l.__data__=c.__data__),s[u]=l);return new $e(r,this._parents)}function Ly(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Py(){return[]}function Mh(e){return e==null?Py:function(){return this.querySelectorAll(e)}}function $y(e){return function(){return Ly(e.apply(this,arguments))}}function Dy(e){typeof e=="function"?e=$y(e):e=Mh(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&(r.push(e.call(c,c.__data__,l,a)),i.push(c));return new $e(r,i)}function Th(e){return function(){return this.matches(e)}}function Rh(e){return function(t){return t.matches(e)}}var Fy=Array.prototype.find;function Oy(e){return function(){return Fy.call(this.children,e)}}function zy(){return this.firstElementChild}function Hy(e){return this.select(e==null?zy:Oy(typeof e=="function"?e:Rh(e)))}var By=Array.prototype.filter;function Vy(){return Array.from(this.children)}function Gy(e){return function(){return By.call(this.children,e)}}function Uy(e){return this.selectAll(e==null?Vy:Gy(typeof e=="function"?e:Rh(e)))}function Yy(e){typeof e!="function"&&(e=Th(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,l=0;l<a;++l)(c=o[l])&&e.call(c,c.__data__,l,o)&&s.push(c);return new $e(r,this._parents)}function kh(e){return new Array(e.length)}function Wy(){return new $e(this._enter||this._groups.map(kh),this._parents)}function or(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}or.prototype={constructor:or,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ky(e){return function(){return e}}function Zy(e,t,n,r,i,o){for(var a=0,s,c=t.length,l=o.length;a<l;++a)(s=t[a])?(s.__data__=o[a],r[a]=s):n[a]=new or(e,o[a]);for(;a<c;++a)(s=t[a])&&(i[a]=s)}function Xy(e,t,n,r,i,o,a){var s,c,l=new Map,u=t.length,d=o.length,f=new Array(u),h;for(s=0;s<u;++s)(c=t[s])&&(f[s]=h=a.call(c,c.__data__,s,t)+"",l.has(h)?i[s]=c:l.set(h,c));for(s=0;s<d;++s)h=a.call(e,o[s],s,o)+"",(c=l.get(h))?(r[s]=c,c.__data__=o[s],l.delete(h)):n[s]=new or(e,o[s]);for(s=0;s<u;++s)(c=t[s])&&l.get(f[s])===c&&(i[s]=c)}function jy(e){return e.__data__}function Qy(e,t){if(!arguments.length)return Array.from(this,jy);var n=t?Xy:Zy,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ky(e));for(var o=i.length,a=new Array(o),s=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],d=i[l],f=d.length,h=Jy(e.call(u,u&&u.__data__,l,r)),p=h.length,g=s[l]=new Array(p),m=a[l]=new Array(p),v=c[l]=new Array(f);n(u,d,g,m,v,h,t);for(var b=0,_=0,w,A;b<p;++b)if(w=g[b]){for(b>=_&&(_=b+1);!(A=m[_])&&++_<p;);w._next=A||null}}return a=new $e(a,r),a._enter=s,a._exit=c,a}function Jy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function e0(){return new $e(this._exit||this._groups.map(kh),this._parents)}function t0(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function n0(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),c=0;c<a;++c)for(var l=n[c],u=r[c],d=l.length,f=s[c]=new Array(d),h,p=0;p<d;++p)(h=l[p]||u[p])&&(f[p]=h);for(;c<i;++c)s[c]=n[c];return new $e(s,this._parents)}function r0(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function i0(e){e||(e=o0);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],s=a.length,c=i[o]=new Array(s),l,u=0;u<s;++u)(l=a[u])&&(c[u]=l);c.sort(t)}return new $e(i,this._parents).order()}function o0(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function a0(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function s0(){return Array.from(this)}function c0(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function u0(){let e=0;for(const t of this)++e;return e}function l0(){return!this.node()}function d0(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function f0(e){return function(){this.removeAttribute(e)}}function h0(e){return function(){this.removeAttributeNS(e.space,e.local)}}function p0(e,t){return function(){this.setAttribute(e,t)}}function g0(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function m0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function v0(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function y0(e,t){var n=Mr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?h0:f0:typeof t=="function"?n.local?v0:m0:n.local?g0:p0)(n,t))}function qh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function w0(e){return function(){this.style.removeProperty(e)}}function b0(e,t,n){return function(){this.style.setProperty(e,t,n)}}function _0(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function x0(e,t,n){return arguments.length>1?this.each((t==null?w0:typeof t=="function"?_0:b0)(e,t,n??"")):Jt(this.node(),e)}function Jt(e,t){return e.style.getPropertyValue(t)||qh(e).getComputedStyle(e,null).getPropertyValue(t)}function E0(e){return function(){delete this[e]}}function S0(e,t){return function(){this[e]=t}}function N0(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function C0(e,t){return arguments.length>1?this.each((t==null?E0:typeof t=="function"?N0:S0)(e,t)):this.node()[e]}function Lh(e){return e.trim().split(/^|\s+/)}function js(e){return e.classList||new Ph(e)}function Ph(e){this._node=e,this._names=Lh(e.getAttribute("class")||"")}Ph.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function $h(e,t){for(var n=js(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Dh(e,t){for(var n=js(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function I0(e){return function(){$h(this,e)}}function A0(e){return function(){Dh(this,e)}}function M0(e,t){return function(){(t.apply(this,arguments)?$h:Dh)(this,e)}}function T0(e,t){var n=Lh(e+"");if(arguments.length<2){for(var r=js(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?M0:t?I0:A0)(n,t))}function R0(){this.textContent=""}function k0(e){return function(){this.textContent=e}}function q0(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function L0(e){return arguments.length?this.each(e==null?R0:(typeof e=="function"?q0:k0)(e)):this.node().textContent}function P0(){this.innerHTML=""}function $0(e){return function(){this.innerHTML=e}}function D0(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function F0(e){return arguments.length?this.each(e==null?P0:(typeof e=="function"?D0:$0)(e)):this.node().innerHTML}function O0(){this.nextSibling&&this.parentNode.appendChild(this)}function z0(){return this.each(O0)}function H0(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function B0(){return this.each(H0)}function V0(e){var t=typeof e=="function"?e:Ah(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function G0(){return null}function U0(e,t){var n=typeof e=="function"?e:Ah(e),r=t==null?G0:typeof t=="function"?t:Xs(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Y0(){var e=this.parentNode;e&&e.removeChild(this)}function W0(){return this.each(Y0)}function K0(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Z0(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function X0(e){return this.select(e?Z0:K0)}function j0(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Q0(e){return function(t){e.call(this,t,this.__data__)}}function J0(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ew(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function tw(e,t,n){return function(){var r=this.__on,i,o=Q0(t);if(r){for(var a=0,s=r.length;a<s;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function nw(e,t,n){var r=J0(e+""),i,o=r.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var c=0,l=s.length,u;c<l;++c)for(i=0,u=s[c];i<o;++i)if((a=r[i]).type===u.type&&a.name===u.name)return u.value}return}for(s=t?tw:ew,i=0;i<o;++i)this.each(s(r[i],t,n));return this}function Fh(e,t,n){var r=qh(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function rw(e,t){return function(){return Fh(this,e,t)}}function iw(e,t){return function(){return Fh(this,e,t.apply(this,arguments))}}function ow(e,t){return this.each((typeof t=="function"?iw:rw)(e,t))}function*aw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Oh=[null];function $e(e,t){this._groups=e,this._parents=t}function $n(){return new $e([[document.documentElement]],Oh)}function sw(){return this}$e.prototype=$n.prototype={constructor:$e,select:qy,selectAll:Dy,selectChild:Hy,selectChildren:Uy,filter:Yy,data:Qy,enter:Wy,exit:e0,join:t0,merge:n0,selection:sw,order:r0,sort:i0,call:a0,nodes:s0,node:c0,size:u0,empty:l0,each:d0,attr:y0,style:x0,property:C0,classed:T0,text:L0,html:F0,raise:z0,lower:B0,append:V0,insert:U0,remove:W0,clone:X0,datum:j0,on:nw,dispatch:ow,[Symbol.iterator]:aw};function De(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],Oh)}function cw(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ge(e,t){if(e=cw(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const uw={passive:!1},wn={capture:!0,passive:!1};function Zr(e){e.stopImmediatePropagation()}function Zt(e){e.preventDefault(),e.stopImmediatePropagation()}function zh(e){var t=e.document.documentElement,n=De(e).on("dragstart.drag",Zt,wn);"onselectstart"in t?n.on("selectstart.drag",Zt,wn):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Hh(e,t){var n=e.document.documentElement,r=De(e).on("dragstart.drag",null);t&&(r.on("click.drag",Zt,wn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const zn=e=>()=>e;function ys(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:c,dy:l,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:u}})}ys.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function lw(e){return!e.ctrlKey&&!e.button}function dw(){return this.parentNode}function fw(e,t){return t??{x:e.x,y:e.y}}function hw(){return navigator.maxTouchPoints||"ontouchstart"in this}function pw(){var e=lw,t=dw,n=fw,r=hw,i={},o=Ar("start","drag","end"),a=0,s,c,l,u,d=0;function f(w){w.on("mousedown.drag",h).filter(r).on("touchstart.drag",m).on("touchmove.drag",v,uw).on("touchend.drag touchcancel.drag",b).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function h(w,A){if(!(u||!e.call(this,w,A))){var N=_(this,t.call(this,w,A),w,A,"mouse");N&&(De(w.view).on("mousemove.drag",p,wn).on("mouseup.drag",g,wn),zh(w.view),Zr(w),l=!1,s=w.clientX,c=w.clientY,N("start",w))}}function p(w){if(Zt(w),!l){var A=w.clientX-s,N=w.clientY-c;l=A*A+N*N>d}i.mouse("drag",w)}function g(w){De(w.view).on("mousemove.drag mouseup.drag",null),Hh(w.view,l),Zt(w),i.mouse("end",w)}function m(w,A){if(e.call(this,w,A)){var N=w.changedTouches,T=t.call(this,w,A),q=N.length,M,L;for(M=0;M<q;++M)(L=_(this,T,w,A,N[M].identifier,N[M]))&&(Zr(w),L("start",w,N[M]))}}function v(w){var A=w.changedTouches,N=A.length,T,q;for(T=0;T<N;++T)(q=i[A[T].identifier])&&(Zt(w),q("drag",w,A[T]))}function b(w){var A=w.changedTouches,N=A.length,T,q;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),T=0;T<N;++T)(q=i[A[T].identifier])&&(Zr(w),q("end",w,A[T]))}function _(w,A,N,T,q,M){var L=o.copy(),F=Ge(M||N,A),O,P,y;if((y=n.call(w,new ys("beforestart",{sourceEvent:N,target:f,identifier:q,active:a,x:F[0],y:F[1],dx:0,dy:0,dispatch:L}),T))!=null)return O=y.x-F[0]||0,P=y.y-F[1]||0,function C(x,R,$){var E=F,k;switch(x){case"start":i[q]=C,k=a++;break;case"end":delete i[q],--a;case"drag":F=Ge($||R,A),k=a;break}L.call(x,w,new ys(x,{sourceEvent:R,subject:y,target:f,identifier:q,active:k,x:F[0]+O,y:F[1]+P,dx:F[0]-E[0],dy:F[1]-E[1],dispatch:L}),T)}}return f.filter=function(w){return arguments.length?(e=typeof w=="function"?w:zn(!!w),f):e},f.container=function(w){return arguments.length?(t=typeof w=="function"?w:zn(w),f):t},f.subject=function(w){return arguments.length?(n=typeof w=="function"?w:zn(w),f):n},f.touchable=function(w){return arguments.length?(r=typeof w=="function"?w:zn(!!w),f):r},f.on=function(){var w=o.on.apply(o,arguments);return w===o?f:w},f.clickDistance=function(w){return arguments.length?(d=(w=+w)*w,f):Math.sqrt(d)},f}function Qs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Bh(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Dn(){}var bn=.7,ar=1/bn,Xt="\\s*([+-]?\\d+)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Je="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gw=/^#([0-9a-f]{3,8})$/,mw=new RegExp(`^rgb\\(${Xt},${Xt},${Xt}\\)$`),vw=new RegExp(`^rgb\\(${Je},${Je},${Je}\\)$`),yw=new RegExp(`^rgba\\(${Xt},${Xt},${Xt},${_n}\\)$`),ww=new RegExp(`^rgba\\(${Je},${Je},${Je},${_n}\\)$`),bw=new RegExp(`^hsl\\(${_n},${Je},${Je}\\)$`),_w=new RegExp(`^hsla\\(${_n},${Je},${Je},${_n}\\)$`),Gc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qs(Dn,xn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Uc,formatHex:Uc,formatHex8:xw,formatHsl:Ew,formatRgb:Yc,toString:Yc});function Uc(){return this.rgb().formatHex()}function xw(){return this.rgb().formatHex8()}function Ew(){return Vh(this).formatHsl()}function Yc(){return this.rgb().formatRgb()}function xn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Wc(t):n===3?new Re(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Hn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Hn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mw.exec(e))?new Re(t[1],t[2],t[3],1):(t=vw.exec(e))?new Re(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yw.exec(e))?Hn(t[1],t[2],t[3],t[4]):(t=ww.exec(e))?Hn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bw.exec(e))?Xc(t[1],t[2]/100,t[3]/100,1):(t=_w.exec(e))?Xc(t[1],t[2]/100,t[3]/100,t[4]):Gc.hasOwnProperty(e)?Wc(Gc[e]):e==="transparent"?new Re(NaN,NaN,NaN,0):null}function Wc(e){return new Re(e>>16&255,e>>8&255,e&255,1)}function Hn(e,t,n,r){return r<=0&&(e=t=n=NaN),new Re(e,t,n,r)}function Sw(e){return e instanceof Dn||(e=xn(e)),e?(e=e.rgb(),new Re(e.r,e.g,e.b,e.opacity)):new Re}function ws(e,t,n,r){return arguments.length===1?Sw(e):new Re(e,t,n,r??1)}function Re(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Qs(Re,ws,Bh(Dn,{brighter(e){return e=e==null?ar:Math.pow(ar,e),new Re(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?bn:Math.pow(bn,e),new Re(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Re(Dt(this.r),Dt(this.g),Dt(this.b),sr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Kc,formatHex:Kc,formatHex8:Nw,formatRgb:Zc,toString:Zc}));function Kc(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}`}function Nw(){return`#${kt(this.r)}${kt(this.g)}${kt(this.b)}${kt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zc(){const e=sr(this.opacity);return`${e===1?"rgb(":"rgba("}${Dt(this.r)}, ${Dt(this.g)}, ${Dt(this.b)}${e===1?")":`, ${e})`}`}function sr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Dt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function kt(e){return e=Dt(e),(e<16?"0":"")+e.toString(16)}function Xc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ue(e,t,n,r)}function Vh(e){if(e instanceof Ue)return new Ue(e.h,e.s,e.l,e.opacity);if(e instanceof Dn||(e=xn(e)),!e)return new Ue;if(e instanceof Ue)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,s=o-i,c=(o+i)/2;return s?(t===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-t)/s+2:a=(t-n)/s+4,s/=c<.5?o+i:2-o-i,a*=60):s=c>0&&c<1?0:a,new Ue(a,s,c,e.opacity)}function Cw(e,t,n,r){return arguments.length===1?Vh(e):new Ue(e,t,n,r??1)}function Ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Qs(Ue,Cw,Bh(Dn,{brighter(e){return e=e==null?ar:Math.pow(ar,e),new Ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?bn:Math.pow(bn,e),new Ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Re(Xr(e>=240?e-240:e+120,i,r),Xr(e,i,r),Xr(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ue(jc(this.h),Bn(this.s),Bn(this.l),sr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sr(this.opacity);return`${e===1?"hsl(":"hsla("}${jc(this.h)}, ${Bn(this.s)*100}%, ${Bn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function jc(e){return e=(e||0)%360,e<0?e+360:e}function Bn(e){return Math.max(0,Math.min(1,e||0))}function Xr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Gh=e=>()=>e;function Iw(e,t){return function(n){return e+n*t}}function Aw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Mw(e){return(e=+e)==1?Uh:function(t,n){return n-t?Aw(t,n,e):Gh(isNaN(t)?n:t)}}function Uh(e,t){var n=t-e;return n?Iw(e,n):Gh(isNaN(e)?t:e)}const Qc=function e(t){var n=Mw(t);function r(i,o){var a=n((i=ws(i)).r,(o=ws(o)).r),s=n(i.g,o.g),c=n(i.b,o.b),l=Uh(i.opacity,o.opacity);return function(u){return i.r=a(u),i.g=s(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=e,r}(1);function yt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jr=new RegExp(bs.source,"g");function Tw(e){return function(){return e}}function Rw(e){return function(t){return e(t)+""}}function kw(e,t){var n=bs.lastIndex=jr.lastIndex=0,r,i,o,a=-1,s=[],c=[];for(e=e+"",t=t+"";(r=bs.exec(e))&&(i=jr.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,c.push({i:a,x:yt(r,i)})),n=jr.lastIndex;return n<t.length&&(o=t.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?c[0]?Rw(c[0].x):Tw(t):(t=c.length,function(l){for(var u=0,d;u<t;++u)s[(d=c[u]).i]=d.x(l);return s.join("")})}var Jc=180/Math.PI,_s={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yh(e,t,n,r,i,o){var a,s,c;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(c=e*n+t*r)&&(n-=e*c,r-=t*c),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,c/=s),e*r<t*n&&(e=-e,t=-t,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Jc,skewX:Math.atan(c)*Jc,scaleX:a,scaleY:s}}var Vn;function qw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?_s:Yh(t.a,t.b,t.c,t.d,t.e,t.f)}function Lw(e){return e==null||(Vn||(Vn=document.createElementNS("http://www.w3.org/2000/svg","g")),Vn.setAttribute("transform",e),!(e=Vn.transform.baseVal.consolidate()))?_s:(e=e.matrix,Yh(e.a,e.b,e.c,e.d,e.e,e.f))}function Wh(e,t,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,u,d,f,h,p){if(l!==d||u!==f){var g=h.push("translate(",null,t,null,n);p.push({i:g-4,x:yt(l,d)},{i:g-2,x:yt(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function a(l,u,d,f){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:yt(l,u)})):u&&d.push(i(d)+"rotate("+u+r)}function s(l,u,d,f){l!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:yt(l,u)}):u&&d.push(i(d)+"skewX("+u+r)}function c(l,u,d,f,h,p){if(l!==d||u!==f){var g=h.push(i(h)+"scale(",null,",",null,")");p.push({i:g-4,x:yt(l,d)},{i:g-2,x:yt(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(l,u){var d=[],f=[];return l=e(l),u=e(u),o(l.translateX,l.translateY,u.translateX,u.translateY,d,f),a(l.rotate,u.rotate,d,f),s(l.skewX,u.skewX,d,f),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,d,f),l=u=null,function(h){for(var p=-1,g=f.length,m;++p<g;)d[(m=f[p]).i]=m.x(h);return d.join("")}}}var Pw=Wh(qw,"px, ","px)","deg)"),$w=Wh(Lw,", ",")",")"),Dw=1e-12;function eu(e){return((e=Math.exp(e))+1/e)/2}function Fw(e){return((e=Math.exp(e))-1/e)/2}function Ow(e){return((e=Math.exp(2*e))-1)/(e+1)}const zw=function e(t,n,r){function i(o,a){var s=o[0],c=o[1],l=o[2],u=a[0],d=a[1],f=a[2],h=u-s,p=d-c,g=h*h+p*p,m,v;if(g<Dw)v=Math.log(f/l)/t,m=function(T){return[s+T*h,c+T*p,l*Math.exp(t*T*v)]};else{var b=Math.sqrt(g),_=(f*f-l*l+r*g)/(2*l*n*b),w=(f*f-l*l-r*g)/(2*f*n*b),A=Math.log(Math.sqrt(_*_+1)-_),N=Math.log(Math.sqrt(w*w+1)-w);v=(N-A)/t,m=function(T){var q=T*v,M=eu(A),L=l/(n*b)*(M*Ow(t*q+A)-Fw(A));return[s+L*h,c+L*p,l*M/eu(t*q+A)]}}return m.duration=v*1e3*t/Math.SQRT2,m}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,c=s*s;return e(a,s,c)},i}(Math.SQRT2,2,4);var en=0,hn=0,cn=0,Kh=1e3,cr,pn,ur=0,Ot=0,Tr=0,En=typeof performance=="object"&&performance.now?performance:Date,Zh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Js(){return Ot||(Zh(Hw),Ot=En.now()+Tr)}function Hw(){Ot=0}function lr(){this._call=this._time=this._next=null}lr.prototype=Xh.prototype={constructor:lr,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Js():+n)+(t==null?0:+t),!this._next&&pn!==this&&(pn?pn._next=this:cr=this,pn=this),this._call=e,this._time=n,xs()},stop:function(){this._call&&(this._call=null,this._time=1/0,xs())}};function Xh(e,t,n){var r=new lr;return r.restart(e,t,n),r}function Bw(){Js(),++en;for(var e=cr,t;e;)(t=Ot-e._time)>=0&&e._call.call(void 0,t),e=e._next;--en}function tu(){Ot=(ur=En.now())+Tr,en=hn=0;try{Bw()}finally{en=0,Gw(),Ot=0}}function Vw(){var e=En.now(),t=e-ur;t>Kh&&(Tr-=t,ur=e)}function Gw(){for(var e,t=cr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:cr=n);pn=e,xs(r)}function xs(e){if(!en){hn&&(hn=clearTimeout(hn));var t=e-Ot;t>24?(e<1/0&&(hn=setTimeout(tu,e-En.now()-Tr)),cn&&(cn=clearInterval(cn))):(cn||(ur=En.now(),cn=setInterval(Vw,Kh)),en=1,Zh(tu))}}function nu(e,t,n){var r=new lr;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Uw=Ar("start","end","cancel","interrupt"),Yw=[],jh=0,ru=1,Es=2,Jn=3,iu=4,Ss=5,er=6;function Rr(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Ww(e,n,{name:t,index:r,group:i,on:Uw,tween:Yw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:jh})}function ec(e,t){var n=We(e,t);if(n.state>jh)throw new Error("too late; already scheduled");return n}function et(e,t){var n=We(e,t);if(n.state>Jn)throw new Error("too late; already running");return n}function We(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Ww(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Xh(o,0,n.time);function o(l){n.state=ru,n.timer.restart(a,n.delay,n.time),n.delay<=l&&a(l-n.delay)}function a(l){var u,d,f,h;if(n.state!==ru)return c();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Jn)return nu(a);h.state===iu?(h.state=er,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=er,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(nu(function(){n.state===Jn&&(n.state=iu,n.timer.restart(s,n.delay,n.time),s(l))}),n.state=Es,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Es){for(n.state=Jn,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Ss,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===Ss&&(n.on.call("end",e,e.__data__,n.index,n.group),c())}function c(){n.state=er,n.timer.stop(),delete r[t];for(var l in r)return;delete e.__transition}}function tr(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>Es&&r.state<Ss,r.state=er,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function Kw(e){return this.each(function(){tr(this,e)})}function Zw(e,t){var n,r;return function(){var i=et(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Xw(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=et(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=s;break}c===l&&i.push(s)}o.tween=i}}function jw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=We(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Zw:Xw)(n,e,t))}function tc(e,t,n){var r=e._id;return e.each(function(){var i=et(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return We(i,r).value[t]}}function Qh(e,t){var n;return(typeof t=="number"?yt:t instanceof xn?Qc:(n=xn(t))?(t=n,Qc):kw)(e,t)}function Qw(e){return function(){this.removeAttribute(e)}}function Jw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function eb(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function tb(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function nb(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function rb(e,t,n){var r,i,o;return function(){var a,s=n(this),c;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),c=s+"",a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s)))}}function ib(e,t){var n=Mr(e),r=n==="transform"?$w:Qh;return this.attrTween(e,typeof t=="function"?(n.local?rb:nb)(n,r,tc(this,"attr."+e,t)):t==null?(n.local?Jw:Qw)(n):(n.local?tb:eb)(n,r,t))}function ob(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ab(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function sb(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ab(e,o)),n}return i._value=t,i}function cb(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&ob(e,o)),n}return i._value=t,i}function ub(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Mr(e);return this.tween(n,(r.local?sb:cb)(r,t))}function lb(e,t){return function(){ec(this,e).delay=+t.apply(this,arguments)}}function db(e,t){return t=+t,function(){ec(this,e).delay=t}}function fb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lb:db)(t,e)):We(this.node(),t).delay}function hb(e,t){return function(){et(this,e).duration=+t.apply(this,arguments)}}function pb(e,t){return t=+t,function(){et(this,e).duration=t}}function gb(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hb:pb)(t,e)):We(this.node(),t).duration}function mb(e,t){if(typeof t!="function")throw new Error;return function(){et(this,e).ease=t}}function vb(e){var t=this._id;return arguments.length?this.each(mb(t,e)):We(this.node(),t).ease}function yb(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;et(this,e).ease=n}}function wb(e){if(typeof e!="function")throw new Error;return this.each(yb(this._id,e))}function bb(e){typeof e!="function"&&(e=Th(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,s=r[i]=[],c,l=0;l<a;++l)(c=o[l])&&e.call(c,c.__data__,l,o)&&s.push(c);return new lt(r,this._parents,this._name,this._id)}function _b(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var c=t[s],l=n[s],u=c.length,d=a[s]=new Array(u),f,h=0;h<u;++h)(f=c[h]||l[h])&&(d[h]=f);for(;s<r;++s)a[s]=t[s];return new lt(a,this._parents,this._name,this._id)}function xb(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Eb(e,t,n){var r,i,o=xb(t)?ec:et;return function(){var a=o(this,e),s=a.on;s!==r&&(i=(r=s).copy()).on(t,n),a.on=i}}function Sb(e,t){var n=this._id;return arguments.length<2?We(this.node(),n).on.on(e):this.each(Eb(n,e,t))}function Nb(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Cb(){return this.on("end.remove",Nb(this._id))}function Ib(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Xs(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s=r[a],c=s.length,l=o[a]=new Array(c),u,d,f=0;f<c;++f)(u=s[f])&&(d=e.call(u,u.__data__,f,s))&&("__data__"in u&&(d.__data__=u.__data__),l[f]=d,Rr(l[f],t,n,f,l,We(u,n)));return new lt(o,this._parents,t,n)}function Ab(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Mh(e));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var c=r[s],l=c.length,u,d=0;d<l;++d)if(u=c[d]){for(var f=e.call(u,u.__data__,d,c),h,p=We(u,n),g=0,m=f.length;g<m;++g)(h=f[g])&&Rr(h,t,n,g,f,p);o.push(f),a.push(u)}return new lt(o,a,t,n)}var Mb=$n.prototype.constructor;function Tb(){return new Mb(this._groups,this._parents)}function Rb(e,t){var n,r,i;return function(){var o=Jt(this,e),a=(this.style.removeProperty(e),Jt(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Jh(e){return function(){this.style.removeProperty(e)}}function kb(e,t,n){var r,i=n+"",o;return function(){var a=Jt(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function qb(e,t,n){var r,i,o;return function(){var a=Jt(this,e),s=n(this),c=s+"";return s==null&&(c=s=(this.style.removeProperty(e),Jt(this,e))),a===c?null:a===r&&c===i?o:(i=c,o=t(r=a,s))}}function Lb(e,t){var n,r,i,o="style."+t,a="end."+o,s;return function(){var c=et(this,e),l=c.on,u=c.value[o]==null?s||(s=Jh(t)):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(a,i=u),c.on=r}}function Pb(e,t,n){var r=(e+="")=="transform"?Pw:Qh;return t==null?this.styleTween(e,Rb(e,r)).on("end.style."+e,Jh(e)):typeof t=="function"?this.styleTween(e,qb(e,r,tc(this,"style."+e,t))).each(Lb(this._id,e)):this.styleTween(e,kb(e,r,t),n).on("end.style."+e,null)}function $b(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Db(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&$b(e,a,n)),r}return o._value=t,o}function Fb(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Db(e,t,n??""))}function Ob(e){return function(){this.textContent=e}}function zb(e){return function(){var t=e(this);this.textContent=t??""}}function Hb(e){return this.tween("text",typeof e=="function"?zb(tc(this,"text",e)):Ob(e==null?"":e+""))}function Bb(e){return function(t){this.textContent=e.call(this,t)}}function Vb(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Bb(i)),t}return r._value=e,r}function Gb(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Vb(e))}function Ub(){for(var e=this._name,t=this._id,n=ep(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,l=0;l<s;++l)if(c=a[l]){var u=We(c,t);Rr(c,e,n,l,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new lt(r,this._parents,e,n)}function Yb(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},c={value:function(){--i===0&&o()}};n.each(function(){var l=et(this,r),u=l.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(c)),l.on=t}),i===0&&o()})}var Wb=0;function lt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function ep(){return++Wb}var rt=$n.prototype;lt.prototype={constructor:lt,select:Ib,selectAll:Ab,selectChild:rt.selectChild,selectChildren:rt.selectChildren,filter:bb,merge:_b,selection:Tb,transition:Ub,call:rt.call,nodes:rt.nodes,node:rt.node,size:rt.size,empty:rt.empty,each:rt.each,on:Sb,attr:ib,attrTween:ub,style:Pb,styleTween:Fb,text:Hb,textTween:Gb,remove:Cb,tween:jw,delay:fb,duration:gb,ease:vb,easeVarying:wb,end:Yb,[Symbol.iterator]:rt[Symbol.iterator]};function Kb(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Zb={time:null,delay:0,duration:250,ease:Kb};function Xb(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function jb(e){var t,n;e instanceof lt?(t=e._id,e=e._name):(t=ep(),(n=Zb).time=Js(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],s=a.length,c,l=0;l<s;++l)(c=a[l])&&Rr(c,e,t,l,a,n||Xb(c,t));return new lt(r,this._parents,e,t)}$n.prototype.interrupt=Kw;$n.prototype.transition=jb;const Gn=e=>()=>e;function Qb(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function ot(e,t,n){this.k=e,this.x=t,this.y=n}ot.prototype={constructor:ot,scale:function(e){return e===1?this:new ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ct=new ot(1,0,0);ot.prototype;function Qr(e){e.stopImmediatePropagation()}function un(e){e.preventDefault(),e.stopImmediatePropagation()}function Jb(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function e_(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function ou(){return this.__zoom||ct}function t_(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function n_(){return navigator.maxTouchPoints||"ontouchstart"in this}function r_(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function tp(){var e=Jb,t=e_,n=r_,r=t_,i=n_,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,c=zw,l=Ar("start","zoom","end"),u,d,f,h=500,p=150,g=0,m=10;function v(y){y.property("__zoom",ou).on("wheel.zoom",q,{passive:!1}).on("mousedown.zoom",M).on("dblclick.zoom",L).filter(i).on("touchstart.zoom",F).on("touchmove.zoom",O).on("touchend.zoom touchcancel.zoom",P).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}v.transform=function(y,C,x,R){var $=y.selection?y.selection():y;$.property("__zoom",ou),y!==$?A(y,C,x,R):$.interrupt().each(function(){N(this,arguments).event(R).start().zoom(null,typeof C=="function"?C.apply(this,arguments):C).end()})},v.scaleBy=function(y,C,x,R){v.scaleTo(y,function(){var $=this.__zoom.k,E=typeof C=="function"?C.apply(this,arguments):C;return $*E},x,R)},v.scaleTo=function(y,C,x,R){v.transform(y,function(){var $=t.apply(this,arguments),E=this.__zoom,k=x==null?w($):typeof x=="function"?x.apply(this,arguments):x,D=E.invert(k),z=typeof C=="function"?C.apply(this,arguments):C;return n(_(b(E,z),k,D),$,a)},x,R)},v.translateBy=function(y,C,x,R){v.transform(y,function(){return n(this.__zoom.translate(typeof C=="function"?C.apply(this,arguments):C,typeof x=="function"?x.apply(this,arguments):x),t.apply(this,arguments),a)},null,R)},v.translateTo=function(y,C,x,R,$){v.transform(y,function(){var E=t.apply(this,arguments),k=this.__zoom,D=R==null?w(E):typeof R=="function"?R.apply(this,arguments):R;return n(ct.translate(D[0],D[1]).scale(k.k).translate(typeof C=="function"?-C.apply(this,arguments):-C,typeof x=="function"?-x.apply(this,arguments):-x),E,a)},R,$)};function b(y,C){return C=Math.max(o[0],Math.min(o[1],C)),C===y.k?y:new ot(C,y.x,y.y)}function _(y,C,x){var R=C[0]-x[0]*y.k,$=C[1]-x[1]*y.k;return R===y.x&&$===y.y?y:new ot(y.k,R,$)}function w(y){return[(+y[0][0]+ +y[1][0])/2,(+y[0][1]+ +y[1][1])/2]}function A(y,C,x,R){y.on("start.zoom",function(){N(this,arguments).event(R).start()}).on("interrupt.zoom end.zoom",function(){N(this,arguments).event(R).end()}).tween("zoom",function(){var $=this,E=arguments,k=N($,E).event(R),D=t.apply($,E),z=x==null?w(D):typeof x=="function"?x.apply($,E):x,G=Math.max(D[1][0]-D[0][0],D[1][1]-D[0][1]),B=$.__zoom,Z=typeof C=="function"?C.apply($,E):C,J=c(B.invert(z).concat(G/B.k),Z.invert(z).concat(G/Z.k));return function(H){if(H===1)H=Z;else{var V=J(H),K=G/V[2];H=new ot(K,z[0]-V[0]*K,z[1]-V[1]*K)}k.zoom(null,H)}})}function N(y,C,x){return!x&&y.__zooming||new T(y,C)}function T(y,C){this.that=y,this.args=C,this.active=0,this.sourceEvent=null,this.extent=t.apply(y,C),this.taps=0}T.prototype={event:function(y){return y&&(this.sourceEvent=y),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(y,C){return this.mouse&&y!=="mouse"&&(this.mouse[1]=C.invert(this.mouse[0])),this.touch0&&y!=="touch"&&(this.touch0[1]=C.invert(this.touch0[0])),this.touch1&&y!=="touch"&&(this.touch1[1]=C.invert(this.touch1[0])),this.that.__zoom=C,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(y){var C=De(this.that).datum();l.call(y,this.that,new Qb(y,{sourceEvent:this.sourceEvent,target:v,type:y,transform:this.that.__zoom,dispatch:l}),C)}};function q(y,...C){if(!e.apply(this,arguments))return;var x=N(this,C).event(y),R=this.__zoom,$=Math.max(o[0],Math.min(o[1],R.k*Math.pow(2,r.apply(this,arguments)))),E=Ge(y);if(x.wheel)(x.mouse[0][0]!==E[0]||x.mouse[0][1]!==E[1])&&(x.mouse[1]=R.invert(x.mouse[0]=E)),clearTimeout(x.wheel);else{if(R.k===$)return;x.mouse=[E,R.invert(E)],tr(this),x.start()}un(y),x.wheel=setTimeout(k,p),x.zoom("mouse",n(_(b(R,$),x.mouse[0],x.mouse[1]),x.extent,a));function k(){x.wheel=null,x.end()}}function M(y,...C){if(f||!e.apply(this,arguments))return;var x=y.currentTarget,R=N(this,C,!0).event(y),$=De(y.view).on("mousemove.zoom",z,!0).on("mouseup.zoom",G,!0),E=Ge(y,x),k=y.clientX,D=y.clientY;zh(y.view),Qr(y),R.mouse=[E,this.__zoom.invert(E)],tr(this),R.start();function z(B){if(un(B),!R.moved){var Z=B.clientX-k,J=B.clientY-D;R.moved=Z*Z+J*J>g}R.event(B).zoom("mouse",n(_(R.that.__zoom,R.mouse[0]=Ge(B,x),R.mouse[1]),R.extent,a))}function G(B){$.on("mousemove.zoom mouseup.zoom",null),Hh(B.view,R.moved),un(B),R.event(B).end()}}function L(y,...C){if(e.apply(this,arguments)){var x=this.__zoom,R=Ge(y.changedTouches?y.changedTouches[0]:y,this),$=x.invert(R),E=x.k*(y.shiftKey?.5:2),k=n(_(b(x,E),R,$),t.apply(this,C),a);un(y),s>0?De(this).transition().duration(s).call(A,k,R,y):De(this).call(v.transform,k,R,y)}}function F(y,...C){if(e.apply(this,arguments)){var x=y.touches,R=x.length,$=N(this,C,y.changedTouches.length===R).event(y),E,k,D,z;for(Qr(y),k=0;k<R;++k)D=x[k],z=Ge(D,this),z=[z,this.__zoom.invert(z),D.identifier],$.touch0?!$.touch1&&$.touch0[2]!==z[2]&&($.touch1=z,$.taps=0):($.touch0=z,E=!0,$.taps=1+!!u);u&&(u=clearTimeout(u)),E&&($.taps<2&&(d=z[0],u=setTimeout(function(){u=null},h)),tr(this),$.start())}}function O(y,...C){if(this.__zooming){var x=N(this,C).event(y),R=y.changedTouches,$=R.length,E,k,D,z;for(un(y),E=0;E<$;++E)k=R[E],D=Ge(k,this),x.touch0&&x.touch0[2]===k.identifier?x.touch0[0]=D:x.touch1&&x.touch1[2]===k.identifier&&(x.touch1[0]=D);if(k=x.that.__zoom,x.touch1){var G=x.touch0[0],B=x.touch0[1],Z=x.touch1[0],J=x.touch1[1],H=(H=Z[0]-G[0])*H+(H=Z[1]-G[1])*H,V=(V=J[0]-B[0])*V+(V=J[1]-B[1])*V;k=b(k,Math.sqrt(H/V)),D=[(G[0]+Z[0])/2,(G[1]+Z[1])/2],z=[(B[0]+J[0])/2,(B[1]+J[1])/2]}else if(x.touch0)D=x.touch0[0],z=x.touch0[1];else return;x.zoom("touch",n(_(k,D,z),x.extent,a))}}function P(y,...C){if(this.__zooming){var x=N(this,C).event(y),R=y.changedTouches,$=R.length,E,k;for(Qr(y),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),E=0;E<$;++E)k=R[E],x.touch0&&x.touch0[2]===k.identifier?delete x.touch0:x.touch1&&x.touch1[2]===k.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(k=Ge(k,this),Math.hypot(d[0]-k[0],d[1]-k[1])<m)){var D=De(this).on("dblclick.zoom");D&&D.apply(this,arguments)}}}return v.wheelDelta=function(y){return arguments.length?(r=typeof y=="function"?y:Gn(+y),v):r},v.filter=function(y){return arguments.length?(e=typeof y=="function"?y:Gn(!!y),v):e},v.touchable=function(y){return arguments.length?(i=typeof y=="function"?y:Gn(!!y),v):i},v.extent=function(y){return arguments.length?(t=typeof y=="function"?y:Gn([[+y[0][0],+y[0][1]],[+y[1][0],+y[1][1]]]),v):t},v.scaleExtent=function(y){return arguments.length?(o[0]=+y[0],o[1]=+y[1],v):[o[0],o[1]]},v.translateExtent=function(y){return arguments.length?(a[0][0]=+y[0][0],a[1][0]=+y[1][0],a[0][1]=+y[0][1],a[1][1]=+y[1][1],v):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},v.constrain=function(y){return arguments.length?(n=y,v):n},v.duration=function(y){return arguments.length?(s=+y,v):s},v.interpolate=function(y){return arguments.length?(c=y,v):c},v.on=function(){var y=l.on.apply(l,arguments);return y===l?v:y},v.clickDistance=function(y){return arguments.length?(g=(y=+y)*y,v):Math.sqrt(g)},v.tapDistance=function(y){return arguments.length?(m=+y,v):m},v}const kr=ph(null),i_=kr.Provider,dt={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,t)=>`Couldn't create edge for ${e?"target":"source"} handle id: "${e?t.targetHandle:t.sourceHandle}", edge id: ${t.id}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`},np=dt.error001();function le(e,t){const n=Cr(kr);if(n===null)throw new Error(np);return Ih(n,e,t)}const ye=()=>{const e=Cr(kr);if(e===null)throw new Error(np);return Oe(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe,destroy:e.destroy}),[e])},o_=e=>e.userSelectionActive?"none":"all";function nc({position:e,children:t,className:n,style:r,...i}){const o=le(o_),a=`${e}`.split("-");return I.createElement("div",{className:Se(["react-flow__panel",n,...a]),style:{...r,pointerEvents:o},...i},t)}function a_({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:I.createElement(nc,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro"},I.createElement("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution"},"React Flow"))}const s_=({x:e,y:t,label:n,labelStyle:r={},labelShowBg:i=!0,labelBgStyle:o={},labelBgPadding:a=[2,4],labelBgBorderRadius:s=2,children:c,className:l,...u})=>{const d=ee(null),[f,h]=ae({x:0,y:0,width:0,height:0}),p=Se(["react-flow__edge-textwrapper",l]);return ce(()=>{if(d.current){const g=d.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),typeof n>"u"||!n?null:I.createElement("g",{transform:`translate(${e-f.width/2} ${t-f.height/2})`,className:p,visibility:f.width?"visible":"hidden",...u},i&&I.createElement("rect",{width:f.width+2*a[0],x:-a[0],y:-a[1],height:f.height+2*a[1],className:"react-flow__edge-textbg",style:o,rx:s,ry:s}),I.createElement("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:d,style:r},n),c)};var c_=ue(s_);const rc=e=>({width:e.offsetWidth,height:e.offsetHeight}),tn=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),ic=(e={x:0,y:0},t)=>({x:tn(e.x,t[0][0],t[1][0]),y:tn(e.y,t[0][1],t[1][1])}),au=(e,t,n)=>e<t?tn(Math.abs(e-t),1,50)/50:e>n?-tn(Math.abs(e-n),1,50)/50:0,rp=(e,t)=>{const n=au(e.x,35,t.width-35)*20,r=au(e.y,35,t.height-35)*20;return[n,r]},ip=e=>e.getRootNode?.()||window?.document,op=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),Sn=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),ap=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),su=e=>({...e.positionAbsolute||{x:0,y:0},width:e.width||0,height:e.height||0}),u_=(e,t)=>ap(op(Sn(e),Sn(t))),Ns=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},l_=e=>Fe(e.width)&&Fe(e.height)&&Fe(e.x)&&Fe(e.y),Fe=e=>!isNaN(e)&&isFinite(e),pe=Symbol.for("internals"),sp=["Enter"," ","Escape"],d_=(e,t)=>{},f_=e=>"nativeEvent"in e;function Cs(e){const n=(f_(e)?e.nativeEvent:e).composedPath?.()?.[0]||e.target;return["INPUT","SELECT","TEXTAREA"].includes(n?.nodeName)||n?.hasAttribute("contenteditable")||!!n?.closest(".nokey")}const cp=e=>"clientX"in e,Et=(e,t)=>{const n=cp(e),r=n?e.clientX:e.touches?.[0].clientX,i=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:i-(t?.top??0)}},dr=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0,Fn=({id:e,path:t,labelX:n,labelY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:d,markerStart:f,interactionWidth:h=20})=>I.createElement(I.Fragment,null,I.createElement("path",{id:e,style:u,d:t,fill:"none",className:"react-flow__edge-path",markerEnd:d,markerStart:f}),h&&I.createElement("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:h,className:"react-flow__edge-interaction"}),i&&Fe(n)&&Fe(r)?I.createElement(c_,{x:n,y:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:l}):null);Fn.displayName="BaseEdge";const h_=(e,t)=>typeof t<"u"&&t?`url(#${t})`:typeof e<"u"?`url(#react-flow__${e})`:"none";function ln(e,t,n){return n===void 0?n:r=>{const i=t().edges.find(o=>o.id===e);i&&n(r,{...i})}}function up({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,a=Math.abs(r-t)/2,s=r<t?r+a:r-a;return[o,s,i,a]}function lp({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:a,targetControlY:s}){const c=e*.125+i*.375+a*.375+n*.125,l=t*.125+o*.375+s*.375+r*.125,u=Math.abs(c-e),d=Math.abs(l-t);return[c,l,u,d]}var zt;(function(e){e.Strict="strict",e.Loose="loose"})(zt||(zt={}));var qt;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(qt||(qt={}));var Nn;(function(e){e.Partial="partial",e.Full="full"})(Nn||(Nn={}));var bt;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(bt||(bt={}));var fr;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(fr||(fr={}));var U;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(U||(U={}));function cu({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===U.Left||e===U.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function dp({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:r,targetY:i,targetPosition:o=U.Top}){const[a,s]=cu({pos:n,x1:e,y1:t,x2:r,y2:i}),[c,l]=cu({pos:o,x1:r,y1:i,x2:e,y2:t}),[u,d,f,h]=lp({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:s,targetControlX:c,targetControlY:l});return[`M${e},${t} C${a},${s} ${c},${l} ${r},${i}`,u,d,f,h]}const oc=ue(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=U.Bottom,targetPosition:o=U.Top,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g})=>{const[m,v,b]=dp({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o});return I.createElement(Fn,{path:m,labelX:v,labelY:b,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:g})});oc.displayName="SimpleBezierEdge";const uu={[U.Left]:{x:-1,y:0},[U.Right]:{x:1,y:0},[U.Top]:{x:0,y:-1},[U.Bottom]:{x:0,y:1}},p_=({source:e,sourcePosition:t=U.Bottom,target:n})=>t===U.Left||t===U.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},lu=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function g_({source:e,sourcePosition:t=U.Bottom,target:n,targetPosition:r=U.Top,center:i,offset:o}){const a=uu[t],s=uu[r],c={x:e.x+a.x*o,y:e.y+a.y*o},l={x:n.x+s.x*o,y:n.y+s.y*o},u=p_({source:c,sourcePosition:t,target:l}),d=u.x!==0?"x":"y",f=u[d];let h=[],p,g;const m={x:0,y:0},v={x:0,y:0},[b,_,w,A]=up({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(a[d]*s[d]===-1){p=i.x??b,g=i.y??_;const T=[{x:p,y:c.y},{x:p,y:l.y}],q=[{x:c.x,y:g},{x:l.x,y:g}];a[d]===f?h=d==="x"?T:q:h=d==="x"?q:T}else{const T=[{x:c.x,y:l.y}],q=[{x:l.x,y:c.y}];if(d==="x"?h=a.x===f?q:T:h=a.y===f?T:q,t===r){const P=Math.abs(e[d]-n[d]);if(P<=o){const y=Math.min(o-1,o-P);a[d]===f?m[d]=(c[d]>e[d]?-1:1)*y:v[d]=(l[d]>n[d]?-1:1)*y}}if(t!==r){const P=d==="x"?"y":"x",y=a[d]===s[P],C=c[P]>l[P],x=c[P]<l[P];(a[d]===1&&(!y&&C||y&&x)||a[d]!==1&&(!y&&x||y&&C))&&(h=d==="x"?T:q)}const M={x:c.x+m.x,y:c.y+m.y},L={x:l.x+v.x,y:l.y+v.y},F=Math.max(Math.abs(M.x-h[0].x),Math.abs(L.x-h[0].x)),O=Math.max(Math.abs(M.y-h[0].y),Math.abs(L.y-h[0].y));F>=O?(p=(M.x+L.x)/2,g=h[0].y):(p=h[0].x,g=(M.y+L.y)/2)}return[[e,{x:c.x+m.x,y:c.y+m.y},...h,{x:l.x+v.x,y:l.y+v.y},n],p,g,w,A]}function m_(e,t,n,r){const i=Math.min(lu(e,t)/2,lu(t,n)/2,r),{x:o,y:a}=t;if(e.x===o&&o===n.x||e.y===a&&a===n.y)return`L${o} ${a}`;if(e.y===a){const l=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return`L ${o+i*l},${a}Q ${o},${a} ${o},${a+i*u}`}const s=e.x<n.x?1:-1,c=e.y<n.y?-1:1;return`L ${o},${a+i*c}Q ${o},${a} ${o+i*s},${a}`}function Is({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:r,targetY:i,targetPosition:o=U.Top,borderRadius:a=5,centerX:s,centerY:c,offset:l=20}){const[u,d,f,h,p]=g_({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:s,y:c},offset:l});return[u.reduce((m,v,b)=>{let _="";return b>0&&b<u.length-1?_=m_(u[b-1],v,u[b+1],a):_=`${b===0?"M":"L"}${v.x} ${v.y}`,m+=_,m},""),d,f,h,p]}const qr=ue(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:l,style:u,sourcePosition:d=U.Bottom,targetPosition:f=U.Top,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:m})=>{const[v,b,_]=Is({sourceX:e,sourceY:t,sourcePosition:d,targetX:n,targetY:r,targetPosition:f,borderRadius:g?.borderRadius,offset:g?.offset});return I.createElement(Fn,{path:v,labelX:b,labelY:_,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:h,markerStart:p,interactionWidth:m})});qr.displayName="SmoothStepEdge";const ac=ue(e=>I.createElement(qr,{...e,pathOptions:Oe(()=>({borderRadius:0,offset:e.pathOptions?.offset}),[e.pathOptions?.offset])}));ac.displayName="StepEdge";function v_({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,a,s]=up({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,i,o,a,s]}const sc=ue(({sourceX:e,sourceY:t,targetX:n,targetY:r,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:d,markerStart:f,interactionWidth:h})=>{const[p,g,m]=v_({sourceX:e,sourceY:t,targetX:n,targetY:r});return I.createElement(Fn,{path:p,labelX:g,labelY:m,label:i,labelStyle:o,labelShowBg:a,labelBgStyle:s,labelBgPadding:c,labelBgBorderRadius:l,style:u,markerEnd:d,markerStart:f,interactionWidth:h})});sc.displayName="StraightEdge";function Un(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function du({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case U.Left:return[t-Un(t-r,o),n];case U.Right:return[t+Un(r-t,o),n];case U.Top:return[t,n-Un(n-i,o)];case U.Bottom:return[t,n+Un(i-n,o)]}}function cc({sourceX:e,sourceY:t,sourcePosition:n=U.Bottom,targetX:r,targetY:i,targetPosition:o=U.Top,curvature:a=.25}){const[s,c]=du({pos:n,x1:e,y1:t,x2:r,y2:i,c:a}),[l,u]=du({pos:o,x1:r,y1:i,x2:e,y2:t,c:a}),[d,f,h,p]=lp({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:c,targetControlX:l,targetControlY:u});return[`M${e},${t} C${s},${c} ${l},${u} ${r},${i}`,d,f,h,p]}const hr=ue(({sourceX:e,sourceY:t,targetX:n,targetY:r,sourcePosition:i=U.Bottom,targetPosition:o=U.Top,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,pathOptions:g,interactionWidth:m})=>{const[v,b,_]=cc({sourceX:e,sourceY:t,sourcePosition:i,targetX:n,targetY:r,targetPosition:o,curvature:g?.curvature});return I.createElement(Fn,{path:v,labelX:b,labelY:_,label:a,labelStyle:s,labelShowBg:c,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,style:f,markerEnd:h,markerStart:p,interactionWidth:m})});hr.displayName="BezierEdge";const uc=ph(null),y_=uc.Provider;uc.Consumer;const w_=()=>Cr(uc),b_=e=>"id"in e&&"source"in e&&"target"in e,__=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`reactflow__edge-${e}${t||""}-${n}${r||""}`,As=(e,t)=>typeof e>"u"?"":typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`,x_=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),E_=(e,t)=>{if(!e.source||!e.target)return t;let n;return b_(e)?n={...e}:n={...e,id:__(e)},x_(n,t)?t:t.concat(n)},Ms=({x:e,y:t},[n,r,i],o,[a,s])=>{const c={x:(e-n)/i,y:(t-r)/i};return o?{x:a*Math.round(c.x/a),y:s*Math.round(c.y/s)}:c},fp=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r}),Ft=(e,t=[0,0])=>{if(!e)return{x:0,y:0,positionAbsolute:{x:0,y:0}};const n=(e.width??0)*t[0],r=(e.height??0)*t[1],i={x:e.position.x-n,y:e.position.y-r};return{...i,positionAbsolute:e.positionAbsolute?{x:e.positionAbsolute.x-n,y:e.positionAbsolute.y-r}:i}},Lr=(e,t=[0,0])=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const{x:o,y:a}=Ft(i,t).positionAbsolute;return op(r,Sn({x:o,y:a,width:i.width||0,height:i.height||0}))},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return ap(n)},hp=(e,t,[n,r,i]=[0,0,1],o=!1,a=!1,s=[0,0])=>{const c={x:(t.x-n)/i,y:(t.y-r)/i,width:t.width/i,height:t.height/i},l=[];return e.forEach(u=>{const{width:d,height:f,selectable:h=!0,hidden:p=!1}=u;if(a&&!h||p)return!1;const{positionAbsolute:g}=Ft(u,s),m={x:g.x,y:g.y,width:d||0,height:f||0},v=Ns(c,m),b=typeof d>"u"||typeof f>"u"||d===null||f===null,_=o&&v>0,w=(d||0)*(f||0);(b||_||v>=w||u.dragging)&&l.push(u)}),l},pp=(e,t)=>{const n=e.map(r=>r.id);return t.filter(r=>n.includes(r.source)||n.includes(r.target))},gp=(e,t,n,r,i,o=.1)=>{const a=t/(e.width*(1+o)),s=n/(e.height*(1+o)),c=Math.min(a,s),l=tn(c,r,i),u=e.x+e.width/2,d=e.y+e.height/2,f=t/2-u*l,h=n/2-d*l;return{x:f,y:h,zoom:l}},Tt=(e,t=0)=>e.transition().duration(t);function fu(e,t,n,r){return(t[n]||[]).reduce((i,o)=>(`${e.id}-${o.id}-${n}`!==r&&i.push({id:o.id||null,type:n,nodeId:e.id,x:(e.positionAbsolute?.x??0)+o.x+o.width/2,y:(e.positionAbsolute?.y??0)+o.y+o.height/2}),i),[])}function S_(e,t,n,r,i,o){const{x:a,y:s}=Et(e),l=t.elementsFromPoint(a,s).find(p=>p.classList.contains("react-flow__handle"));if(l){const p=l.getAttribute("data-nodeid");if(p){const g=lc(void 0,l),m=l.getAttribute("data-handleid"),v=o({nodeId:p,id:m,type:g});if(v){const b=i.find(_=>_.nodeId===p&&_.type===g&&_.id===m);return{handle:{id:m,type:g,nodeId:p,x:b?.x||n.x,y:b?.y||n.y},validHandleResult:v}}}}let u=[],d=1/0;if(i.forEach(p=>{const g=Math.sqrt((p.x-n.x)**2+(p.y-n.y)**2);if(g<=r){const m=o(p);g<=d&&(g<d?u=[{handle:p,validHandleResult:m}]:g===d&&u.push({handle:p,validHandleResult:m}),d=g)}}),!u.length)return{handle:null,validHandleResult:mp()};if(u.length===1)return u[0];const f=u.some(({validHandleResult:p})=>p.isValid),h=u.some(({handle:p})=>p.type==="target");return u.find(({handle:p,validHandleResult:g})=>h?p.type==="target":f?g.isValid:!0)||u[0]}const N_={source:null,target:null,sourceHandle:null,targetHandle:null},mp=()=>({handleDomNode:null,isValid:!1,connection:N_,endHandle:null});function vp(e,t,n,r,i,o,a){const s=i==="target",c=a.querySelector(`.react-flow__handle[data-id="${e?.nodeId}-${e?.id}-${e?.type}"]`),l={...mp(),handleDomNode:c};if(c){const u=lc(void 0,c),d=c.getAttribute("data-nodeid"),f=c.getAttribute("data-handleid"),h=c.classList.contains("connectable"),p=c.classList.contains("connectableend"),g={source:s?d:n,sourceHandle:s?f:r,target:s?n:d,targetHandle:s?r:f};l.connection=g,h&&p&&(t===zt.Strict?s&&u==="source"||!s&&u==="target":d!==n||f!==r)&&(l.endHandle={nodeId:d,handleId:f,type:u},l.isValid=o(g))}return l}function C_({nodes:e,nodeId:t,handleId:n,handleType:r}){return e.reduce((i,o)=>{if(o[pe]){const{handleBounds:a}=o[pe];let s=[],c=[];a&&(s=fu(o,a,"source",`${t}-${n}-${r}`),c=fu(o,a,"target",`${t}-${n}-${r}`)),i.push(...s,...c)}return i},[])}function lc(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function Jr(e){e?.classList.remove("valid","connecting","react-flow__handle-valid","react-flow__handle-connecting")}function I_(e,t){let n=null;return t?n="valid":e&&!t&&(n="invalid"),n}function yp({event:e,handleId:t,nodeId:n,onConnect:r,isTarget:i,getState:o,setState:a,isValidConnection:s,edgeUpdaterType:c,onReconnectEnd:l}){const u=ip(e.target),{connectionMode:d,domNode:f,autoPanOnConnect:h,connectionRadius:p,onConnectStart:g,panBy:m,getNodes:v,cancelConnection:b}=o();let _=0,w;const{x:A,y:N}=Et(e),T=u?.elementFromPoint(A,N),q=lc(c,T),M=f?.getBoundingClientRect();if(!M||!q)return;let L,F=Et(e,M),O=!1,P=null,y=!1,C=null;const x=C_({nodes:v(),nodeId:n,handleId:t,handleType:q}),R=()=>{if(!h)return;const[k,D]=rp(F,M);m({x:k,y:D}),_=requestAnimationFrame(R)};a({connectionPosition:F,connectionStatus:null,connectionNodeId:n,connectionHandleId:t,connectionHandleType:q,connectionStartHandle:{nodeId:n,handleId:t,type:q},connectionEndHandle:null}),g?.(e,{nodeId:n,handleId:t,handleType:q});function $(k){const{transform:D}=o();F=Et(k,M);const{handle:z,validHandleResult:G}=S_(k,u,Ms(F,D,!1,[1,1]),p,x,B=>vp(B,d,n,t,i?"target":"source",s,u));if(w=z,O||(R(),O=!0),C=G.handleDomNode,P=G.connection,y=G.isValid,a({connectionPosition:w&&y?fp({x:w.x,y:w.y},D):F,connectionStatus:I_(!!w,y),connectionEndHandle:G.endHandle}),!w&&!y&&!C)return Jr(L);P.source!==P.target&&C&&(Jr(L),L=C,C.classList.add("connecting","react-flow__handle-connecting"),C.classList.toggle("valid",y),C.classList.toggle("react-flow__handle-valid",y))}function E(k){(w||C)&&P&&y&&r?.(P),o().onConnectEnd?.(k),c&&l?.(k),Jr(L),b(),cancelAnimationFrame(_),O=!1,y=!1,P=null,C=null,u.removeEventListener("mousemove",$),u.removeEventListener("mouseup",E),u.removeEventListener("touchmove",$),u.removeEventListener("touchend",E)}u.addEventListener("mousemove",$),u.addEventListener("mouseup",E),u.addEventListener("touchmove",$),u.addEventListener("touchend",E)}const hu=()=>!0,A_=e=>({connectionStartHandle:e.connectionStartHandle,connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName}),M_=(e,t,n)=>r=>{const{connectionStartHandle:i,connectionEndHandle:o,connectionClickStartHandle:a}=r;return{connecting:i?.nodeId===e&&i?.handleId===t&&i?.type===n||o?.nodeId===e&&o?.handleId===t&&o?.type===n,clickConnecting:a?.nodeId===e&&a?.handleId===t&&a?.type===n}},wp=gh(({type:e="source",position:t=U.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:a,onConnect:s,children:c,className:l,onMouseDown:u,onTouchStart:d,...f},h)=>{const p=a||null,g=e==="target",m=ye(),v=w_(),{connectOnClick:b,noPanClassName:_}=le(A_,xe),{connecting:w,clickConnecting:A}=le(M_(v,p,e),xe);v||m.getState().onError?.("010",dt.error010());const N=M=>{const{defaultEdgeOptions:L,onConnect:F,hasDefaultEdges:O}=m.getState(),P={...L,...M};if(O){const{edges:y,setEdges:C}=m.getState();C(E_(P,y))}F?.(P),s?.(P)},T=M=>{if(!v)return;const L=cp(M);i&&(L&&M.button===0||!L)&&yp({event:M,handleId:p,nodeId:v,onConnect:N,isTarget:g,getState:m.getState,setState:m.setState,isValidConnection:n||m.getState().isValidConnection||hu}),L?u?.(M):d?.(M)},q=M=>{const{onClickConnectStart:L,onClickConnectEnd:F,connectionClickStartHandle:O,connectionMode:P,isValidConnection:y}=m.getState();if(!v||!O&&!i)return;if(!O){L?.(M,{nodeId:v,handleId:p,handleType:e}),m.setState({connectionClickStartHandle:{nodeId:v,type:e,handleId:p}});return}const C=ip(M.target),x=n||y||hu,{connection:R,isValid:$}=vp({nodeId:v,id:p,type:e},P,O.nodeId,O.handleId||null,O.type,x,C);$&&N(R),F?.(M),m.setState({connectionClickStartHandle:null})};return I.createElement("div",{"data-handleid":p,"data-nodeid":v,"data-handlepos":t,"data-id":`${v}-${p}-${e}`,className:Se(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",_,l,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,connecting:A,connectionindicator:r&&(i&&!w||o&&w)}]),onMouseDown:T,onTouchStart:T,onClick:b?q:void 0,ref:h,...f},c)});wp.displayName="Handle";var Nt=ue(wp);const bp=({data:e,isConnectable:t,targetPosition:n=U.Top,sourcePosition:r=U.Bottom})=>I.createElement(I.Fragment,null,I.createElement(Nt,{type:"target",position:n,isConnectable:t}),e?.label,I.createElement(Nt,{type:"source",position:r,isConnectable:t}));bp.displayName="DefaultNode";var Ts=ue(bp);const _p=({data:e,isConnectable:t,sourcePosition:n=U.Bottom})=>I.createElement(I.Fragment,null,e?.label,I.createElement(Nt,{type:"source",position:n,isConnectable:t}));_p.displayName="InputNode";var xp=ue(_p);const Ep=({data:e,isConnectable:t,targetPosition:n=U.Top})=>I.createElement(I.Fragment,null,I.createElement(Nt,{type:"target",position:n,isConnectable:t}),e?.label);Ep.displayName="OutputNode";var Sp=ue(Ep);const dc=()=>null;dc.displayName="GroupNode";const T_=e=>({selectedNodes:e.getNodes().filter(t=>t.selected),selectedEdges:e.edges.filter(t=>t.selected).map(t=>({...t}))}),Yn=e=>e.id;function R_(e,t){return xe(e.selectedNodes.map(Yn),t.selectedNodes.map(Yn))&&xe(e.selectedEdges.map(Yn),t.selectedEdges.map(Yn))}const Np=ue(({onSelectionChange:e})=>{const t=ye(),{selectedNodes:n,selectedEdges:r}=le(T_,R_);return ce(()=>{const i={nodes:n,edges:r};e?.(i),t.getState().onSelectionChange.forEach(o=>o(i))},[n,r,e]),null});Np.displayName="SelectionListener";const k_=e=>!!e.onSelectionChange;function q_({onSelectionChange:e}){const t=le(k_);return e||t?I.createElement(Np,{onSelectionChange:e}):null}const L_=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset});function Vt(e,t){ce(()=>{typeof e<"u"&&t(e)},[e])}function ne(e,t,n){ce(()=>{typeof t<"u"&&n({[e]:t})},[t])}const P_=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:i,onConnectStart:o,onConnectEnd:a,onClickConnectStart:s,onClickConnectEnd:c,nodesDraggable:l,nodesConnectable:u,nodesFocusable:d,edgesFocusable:f,edgesUpdatable:h,elevateNodesOnSelect:p,minZoom:g,maxZoom:m,nodeExtent:v,onNodesChange:b,onEdgesChange:_,elementsSelectable:w,connectionMode:A,snapGrid:N,snapToGrid:T,translateExtent:q,connectOnClick:M,defaultEdgeOptions:L,fitView:F,fitViewOptions:O,onNodesDelete:P,onEdgesDelete:y,onNodeDrag:C,onNodeDragStart:x,onNodeDragStop:R,onSelectionDrag:$,onSelectionDragStart:E,onSelectionDragStop:k,noPanClassName:D,nodeOrigin:z,rfId:G,autoPanOnConnect:B,autoPanOnNodeDrag:Z,onError:J,connectionRadius:H,isValidConnection:V,nodeDragThreshold:K})=>{const{setNodes:j,setEdges:ie,setDefaultNodesAndEdges:oe,setMinZoom:de,setMaxZoom:me,setTranslateExtent:X,setNodeExtent:we,reset:W}=le(L_,xe),Y=ye();return ce(()=>{const he=r?.map(Be=>({...Be,...L}));return oe(n,he),()=>{W()}},[]),ne("defaultEdgeOptions",L,Y.setState),ne("connectionMode",A,Y.setState),ne("onConnect",i,Y.setState),ne("onConnectStart",o,Y.setState),ne("onConnectEnd",a,Y.setState),ne("onClickConnectStart",s,Y.setState),ne("onClickConnectEnd",c,Y.setState),ne("nodesDraggable",l,Y.setState),ne("nodesConnectable",u,Y.setState),ne("nodesFocusable",d,Y.setState),ne("edgesFocusable",f,Y.setState),ne("edgesUpdatable",h,Y.setState),ne("elementsSelectable",w,Y.setState),ne("elevateNodesOnSelect",p,Y.setState),ne("snapToGrid",T,Y.setState),ne("snapGrid",N,Y.setState),ne("onNodesChange",b,Y.setState),ne("onEdgesChange",_,Y.setState),ne("connectOnClick",M,Y.setState),ne("fitViewOnInit",F,Y.setState),ne("fitViewOnInitOptions",O,Y.setState),ne("onNodesDelete",P,Y.setState),ne("onEdgesDelete",y,Y.setState),ne("onNodeDrag",C,Y.setState),ne("onNodeDragStart",x,Y.setState),ne("onNodeDragStop",R,Y.setState),ne("onSelectionDrag",$,Y.setState),ne("onSelectionDragStart",E,Y.setState),ne("onSelectionDragStop",k,Y.setState),ne("noPanClassName",D,Y.setState),ne("nodeOrigin",z,Y.setState),ne("rfId",G,Y.setState),ne("autoPanOnConnect",B,Y.setState),ne("autoPanOnNodeDrag",Z,Y.setState),ne("onError",J,Y.setState),ne("connectionRadius",H,Y.setState),ne("isValidConnection",V,Y.setState),ne("nodeDragThreshold",K,Y.setState),Vt(e,j),Vt(t,ie),Vt(g,de),Vt(m,me),Vt(q,X),Vt(v,we),null},pu={display:"none"},$_={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Cp="react-flow__node-desc",Ip="react-flow__edge-desc",D_="react-flow__aria-live",F_=e=>e.ariaLiveMessage;function O_({rfId:e}){const t=le(F_);return I.createElement("div",{id:`${D_}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:$_},t)}function z_({rfId:e,disableKeyboardA11y:t}){return I.createElement(I.Fragment,null,I.createElement("div",{id:`${Cp}-${e}`,style:pu},"Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "),I.createElement("div",{id:`${Ip}-${e}`,style:pu},"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."),!t&&I.createElement(O_,{rfId:e}))}var Cn=(e=null,t={actInsideInputWithModifier:!0})=>{const[n,r]=ae(!1),i=ee(!1),o=ee(new Set([])),[a,s]=Oe(()=>{if(e!==null){const l=(Array.isArray(e)?e:[e]).filter(d=>typeof d=="string").map(d=>d.split("+")),u=l.reduce((d,f)=>d.concat(...f),[]);return[l,u]}return[[],[]]},[e]);return ce(()=>{const c=typeof document<"u"?document:null,l=t?.target||c;if(e!==null){const u=h=>{if(i.current=h.ctrlKey||h.metaKey||h.shiftKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&Cs(h))return!1;const g=mu(h.code,s);o.current.add(h[g]),gu(a,o.current,!1)&&(h.preventDefault(),r(!0))},d=h=>{if((!i.current||i.current&&!t.actInsideInputWithModifier)&&Cs(h))return!1;const g=mu(h.code,s);gu(a,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[g]),h.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return l?.addEventListener("keydown",u),l?.addEventListener("keyup",d),window.addEventListener("blur",f),()=>{l?.removeEventListener("keydown",u),l?.removeEventListener("keyup",d),window.removeEventListener("blur",f)}}},[e,r]),n};function gu(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function mu(e,t){return t.includes(e)?"code":"key"}function Ap(e,t,n,r){const i=e.parentNode||e.parentId;if(!i)return n;const o=t.get(i),a=Ft(o,r);return Ap(o,t,{x:(n.x??0)+a.x,y:(n.y??0)+a.y,z:(o[pe]?.z??0)>(n.z??0)?o[pe]?.z??0:n.z??0},r)}function Mp(e,t,n){e.forEach(r=>{const i=r.parentNode||r.parentId;if(i&&!e.has(i))throw new Error(`Parent node ${i} not found`);if(i||n?.[r.id]){const{x:o,y:a,z:s}=Ap(r,e,{...r.position,z:r[pe]?.z??0},t);r.positionAbsolute={x:o,y:a},r[pe].z=s,n?.[r.id]&&(r[pe].isParent=!0)}})}function ei(e,t,n,r){const i=new Map,o={},a=r?1e3:0;return e.forEach(s=>{const c=(Fe(s.zIndex)?s.zIndex:0)+(s.selected?a:0),l=t.get(s.id),u={...s,positionAbsolute:{x:s.position.x,y:s.position.y}},d=s.parentNode||s.parentId;d&&(o[d]=!0);const f=l?.type&&l?.type!==s.type;Object.defineProperty(u,pe,{enumerable:!1,value:{handleBounds:f?void 0:l?.[pe]?.handleBounds,z:c}}),i.set(s.id,u)}),Mp(i,n,o),i}function Tp(e,t={}){const{getNodes:n,width:r,height:i,minZoom:o,maxZoom:a,d3Zoom:s,d3Selection:c,fitViewOnInitDone:l,fitViewOnInit:u,nodeOrigin:d}=e(),f=t.initial&&!l&&u;if(s&&c&&(f||!t.initial)){const p=n().filter(m=>{const v=t.includeHiddenNodes?m.width&&m.height:!m.hidden;return t.nodes?.length?v&&t.nodes.some(b=>b.id===m.id):v}),g=p.every(m=>m.width&&m.height);if(p.length>0&&g){const m=Lr(p,d),{x:v,y:b,zoom:_}=gp(m,r,i,t.minZoom??o,t.maxZoom??a,t.padding??.1),w=ct.translate(v,b).scale(_);return typeof t.duration=="number"&&t.duration>0?s.transform(Tt(c,t.duration),w):s.transform(c,w),!0}}return!1}function H_(e,t){return e.forEach(n=>{const r=t.get(n.id);r&&t.set(r.id,{...r,[pe]:r[pe],selected:n.selected})}),new Map(t)}function B_(e,t){return t.map(n=>{const r=e.find(i=>i.id===n.id);return r&&(n.selected=r.selected),n})}function Wn({changedNodes:e,changedEdges:t,get:n,set:r}){const{nodeInternals:i,edges:o,onNodesChange:a,onEdgesChange:s,hasDefaultNodes:c,hasDefaultEdges:l}=n();e?.length&&(c&&r({nodeInternals:H_(e,i)}),a?.(e)),t?.length&&(l&&r({edges:B_(t,o)}),s?.(t))}const Gt=()=>{},V_={zoomIn:Gt,zoomOut:Gt,zoomTo:Gt,getZoom:()=>1,setViewport:Gt,getViewport:()=>({x:0,y:0,zoom:1}),fitView:()=>!1,setCenter:Gt,fitBounds:Gt,project:e=>e,screenToFlowPosition:e=>e,flowToScreenPosition:e=>e,viewportInitialized:!1},G_=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection}),U_=()=>{const e=ye(),{d3Zoom:t,d3Selection:n}=le(G_,xe);return Oe(()=>n&&t?{zoomIn:i=>t.scaleBy(Tt(n,i?.duration),1.2),zoomOut:i=>t.scaleBy(Tt(n,i?.duration),1/1.2),zoomTo:(i,o)=>t.scaleTo(Tt(n,o?.duration),i),getZoom:()=>e.getState().transform[2],setViewport:(i,o)=>{const[a,s,c]=e.getState().transform,l=ct.translate(i.x??a,i.y??s).scale(i.zoom??c);t.transform(Tt(n,o?.duration),l)},getViewport:()=>{const[i,o,a]=e.getState().transform;return{x:i,y:o,zoom:a}},fitView:i=>Tp(e.getState,i),setCenter:(i,o,a)=>{const{width:s,height:c,maxZoom:l}=e.getState(),u=typeof a?.zoom<"u"?a.zoom:l,d=s/2-i*u,f=c/2-o*u,h=ct.translate(d,f).scale(u);t.transform(Tt(n,a?.duration),h)},fitBounds:(i,o)=>{const{width:a,height:s,minZoom:c,maxZoom:l}=e.getState(),{x:u,y:d,zoom:f}=gp(i,a,s,c,l,o?.padding??.1),h=ct.translate(u,d).scale(f);t.transform(Tt(n,o?.duration),h)},project:i=>{const{transform:o,snapToGrid:a,snapGrid:s}=e.getState();return console.warn("[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position"),Ms(i,o,a,s)},screenToFlowPosition:i=>{const{transform:o,snapToGrid:a,snapGrid:s,domNode:c}=e.getState();if(!c)return i;const{x:l,y:u}=c.getBoundingClientRect(),d={x:i.x-l,y:i.y-u};return Ms(d,o,a,s)},flowToScreenPosition:i=>{const{transform:o,domNode:a}=e.getState();if(!a)return i;const{x:s,y:c}=a.getBoundingClientRect(),l=fp(i,o);return{x:l.x+s,y:l.y+c}},viewportInitialized:!0}:V_,[t,n])};function fc(){const e=U_(),t=ye(),n=ve(()=>t.getState().getNodes().map(g=>({...g})),[]),r=ve(g=>t.getState().nodeInternals.get(g),[]),i=ve(()=>{const{edges:g=[]}=t.getState();return g.map(m=>({...m}))},[]),o=ve(g=>{const{edges:m=[]}=t.getState();return m.find(v=>v.id===g)},[]),a=ve(g=>{const{getNodes:m,setNodes:v,hasDefaultNodes:b,onNodesChange:_}=t.getState(),w=m(),A=typeof g=="function"?g(w):g;if(b)v(A);else if(_){const N=A.length===0?w.map(T=>({type:"remove",id:T.id})):A.map(T=>({item:T,type:"reset"}));_(N)}},[]),s=ve(g=>{const{edges:m=[],setEdges:v,hasDefaultEdges:b,onEdgesChange:_}=t.getState(),w=typeof g=="function"?g(m):g;if(b)v(w);else if(_){const A=w.length===0?m.map(N=>({type:"remove",id:N.id})):w.map(N=>({item:N,type:"reset"}));_(A)}},[]),c=ve(g=>{const m=Array.isArray(g)?g:[g],{getNodes:v,setNodes:b,hasDefaultNodes:_,onNodesChange:w}=t.getState();if(_){const N=[...v(),...m];b(N)}else if(w){const A=m.map(N=>({item:N,type:"add"}));w(A)}},[]),l=ve(g=>{const m=Array.isArray(g)?g:[g],{edges:v=[],setEdges:b,hasDefaultEdges:_,onEdgesChange:w}=t.getState();if(_)b([...v,...m]);else if(w){const A=m.map(N=>({item:N,type:"add"}));w(A)}},[]),u=ve(()=>{const{getNodes:g,edges:m=[],transform:v}=t.getState(),[b,_,w]=v;return{nodes:g().map(A=>({...A})),edges:m.map(A=>({...A})),viewport:{x:b,y:_,zoom:w}}},[]),d=ve(({nodes:g,edges:m})=>{const{nodeInternals:v,getNodes:b,edges:_,hasDefaultNodes:w,hasDefaultEdges:A,onNodesDelete:N,onEdgesDelete:T,onNodesChange:q,onEdgesChange:M}=t.getState(),L=(g||[]).map(C=>C.id),F=(m||[]).map(C=>C.id),O=b().reduce((C,x)=>{const R=x.parentNode||x.parentId,$=!L.includes(x.id)&&R&&C.find(k=>k.id===R);return(typeof x.deletable=="boolean"?x.deletable:!0)&&(L.includes(x.id)||$)&&C.push(x),C},[]),P=_.filter(C=>typeof C.deletable=="boolean"?C.deletable:!0),y=P.filter(C=>F.includes(C.id));if(O||y){const C=pp(O,P),x=[...y,...C],R=x.reduce(($,E)=>($.includes(E.id)||$.push(E.id),$),[]);if((A||w)&&(A&&t.setState({edges:_.filter($=>!R.includes($.id))}),w&&(O.forEach($=>{v.delete($.id)}),t.setState({nodeInternals:new Map(v)}))),R.length>0&&(T?.(x),M&&M(R.map($=>({id:$,type:"remove"})))),O.length>0&&(N?.(O),q)){const $=O.map(E=>({id:E.id,type:"remove"}));q($)}}},[]),f=ve(g=>{const m=l_(g),v=m?null:t.getState().nodeInternals.get(g.id);return!m&&!v?[null,null,m]:[m?g:su(v),v,m]},[]),h=ve((g,m=!0,v)=>{const[b,_,w]=f(g);return b?(v||t.getState().getNodes()).filter(A=>{if(!w&&(A.id===_.id||!A.positionAbsolute))return!1;const N=su(A),T=Ns(N,b);return m&&T>0||T>=b.width*b.height}):[]},[]),p=ve((g,m,v=!0)=>{const[b]=f(g);if(!b)return!1;const _=Ns(b,m);return v&&_>0||_>=b.width*b.height},[]);return Oe(()=>({...e,getNodes:n,getNode:r,getEdges:i,getEdge:o,setNodes:a,setEdges:s,addNodes:c,addEdges:l,toObject:u,deleteElements:d,getIntersectingNodes:h,isNodeIntersecting:p}),[e,n,r,i,o,a,s,c,l,u,d,h,p])}const Y_={actInsideInputWithModifier:!1};var W_=({deleteKeyCode:e,multiSelectionKeyCode:t})=>{const n=ye(),{deleteElements:r}=fc(),i=Cn(e,Y_),o=Cn(t);ce(()=>{if(i){const{edges:a,getNodes:s}=n.getState(),c=s().filter(u=>u.selected),l=a.filter(u=>u.selected);r({nodes:c,edges:l}),n.setState({nodesSelectionActive:!1})}},[i]),ce(()=>{n.setState({multiSelectionActive:o})},[o])};function K_(e){const t=ye();ce(()=>{let n;const r=()=>{if(!e.current)return;const i=rc(e.current);(i.height===0||i.width===0)&&t.getState().onError?.("004",dt.error004()),t.setState({width:i.width||500,height:i.height||500})};return r(),window.addEventListener("resize",r),e.current&&(n=new ResizeObserver(()=>r()),n.observe(e.current)),()=>{window.removeEventListener("resize",r),n&&e.current&&n.unobserve(e.current)}},[])}const hc={position:"absolute",width:"100%",height:"100%",top:0,left:0},Z_=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,Kn=e=>({x:e.x,y:e.y,zoom:e.k}),Ut=(e,t)=>e.target.closest(`.${t}`),vu=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),yu=e=>{const t=e.ctrlKey&&dr()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t},X_=e=>({d3Zoom:e.d3Zoom,d3Selection:e.d3Selection,d3ZoomHandler:e.d3ZoomHandler,userSelectionActive:e.userSelectionActive}),j_=({onMove:e,onMoveStart:t,onMoveEnd:n,onPaneContextMenu:r,zoomOnScroll:i=!0,zoomOnPinch:o=!0,panOnScroll:a=!1,panOnScrollSpeed:s=.5,panOnScrollMode:c=qt.Free,zoomOnDoubleClick:l=!0,elementsSelectable:u,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:p,maxZoom:g,zoomActivationKeyCode:m,preventScrolling:v=!0,children:b,noWheelClassName:_,noPanClassName:w})=>{const A=ee(),N=ye(),T=ee(!1),q=ee(!1),M=ee(null),L=ee({x:0,y:0,zoom:0}),{d3Zoom:F,d3Selection:O,d3ZoomHandler:P,userSelectionActive:y}=le(X_,xe),C=Cn(m),x=ee(0),R=ee(!1),$=ee();return K_(M),ce(()=>{if(M.current){const E=M.current.getBoundingClientRect(),k=tp().scaleExtent([p,g]).translateExtent(h),D=De(M.current).call(k),z=ct.translate(f.x,f.y).scale(tn(f.zoom,p,g)),G=[[0,0],[E.width,E.height]],B=k.constrain()(z,G,h);k.transform(D,B),k.wheelDelta(yu),N.setState({d3Zoom:k,d3Selection:D,d3ZoomHandler:D.on("wheel.zoom"),transform:[B.x,B.y,B.k],domNode:M.current.closest(".react-flow")})}},[]),ce(()=>{O&&F&&(a&&!C&&!y?O.on("wheel.zoom",E=>{if(Ut(E,_))return!1;E.preventDefault(),E.stopImmediatePropagation();const k=O.property("__zoom").k||1;if(E.ctrlKey&&o){const V=Ge(E),K=yu(E),j=k*Math.pow(2,K);F.scaleTo(O,j,V,E);return}const D=E.deltaMode===1?20:1;let z=c===qt.Vertical?0:E.deltaX*D,G=c===qt.Horizontal?0:E.deltaY*D;!dr()&&E.shiftKey&&c!==qt.Vertical&&(z=E.deltaY*D,G=0),F.translateBy(O,-(z/k)*s,-(G/k)*s,{internal:!0});const B=Kn(O.property("__zoom")),{onViewportChangeStart:Z,onViewportChange:J,onViewportChangeEnd:H}=N.getState();clearTimeout($.current),R.current||(R.current=!0,t?.(E,B),Z?.(B)),R.current&&(e?.(E,B),J?.(B),$.current=setTimeout(()=>{n?.(E,B),H?.(B),R.current=!1},150))},{passive:!1}):typeof P<"u"&&O.on("wheel.zoom",function(E,k){if(!v&&E.type==="wheel"&&!E.ctrlKey||Ut(E,_))return null;E.preventDefault(),P.call(this,E,k)},{passive:!1}))},[y,a,c,O,F,P,C,o,v,_,t,e,n]),ce(()=>{F&&F.on("start",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;x.current=E.sourceEvent?.button;const{onViewportChangeStart:k}=N.getState(),D=Kn(E.transform);T.current=!0,L.current=D,E.sourceEvent?.type==="mousedown"&&N.setState({paneDragging:!0}),k?.(D),t?.(E.sourceEvent,D)})},[F,t]),ce(()=>{F&&(y&&!T.current?F.on("zoom",null):y||F.on("zoom",E=>{const{onViewportChange:k}=N.getState();if(N.setState({transform:[E.transform.x,E.transform.y,E.transform.k]}),q.current=!!(r&&vu(d,x.current??0)),(e||k)&&!E.sourceEvent?.internal){const D=Kn(E.transform);k?.(D),e?.(E.sourceEvent,D)}}))},[y,F,e,d,r]),ce(()=>{F&&F.on("end",E=>{if(!E.sourceEvent||E.sourceEvent.internal)return null;const{onViewportChangeEnd:k}=N.getState();if(T.current=!1,N.setState({paneDragging:!1}),r&&vu(d,x.current??0)&&!q.current&&r(E.sourceEvent),q.current=!1,(n||k)&&Z_(L.current,E.transform)){const D=Kn(E.transform);L.current=D,clearTimeout(A.current),A.current=setTimeout(()=>{k?.(D),n?.(E.sourceEvent,D)},a?150:0)}})},[F,a,d,n,r]),ce(()=>{F&&F.filter(E=>{const k=C||i,D=o&&E.ctrlKey;if((d===!0||Array.isArray(d)&&d.includes(1))&&E.button===1&&E.type==="mousedown"&&(Ut(E,"react-flow__node")||Ut(E,"react-flow__edge")))return!0;if(!d&&!k&&!a&&!l&&!o||y||!l&&E.type==="dblclick"||Ut(E,_)&&E.type==="wheel"||Ut(E,w)&&(E.type!=="wheel"||a&&E.type==="wheel"&&!C)||!o&&E.ctrlKey&&E.type==="wheel"||!k&&!a&&!D&&E.type==="wheel"||!d&&(E.type==="mousedown"||E.type==="touchstart")||Array.isArray(d)&&!d.includes(E.button)&&E.type==="mousedown")return!1;const z=Array.isArray(d)&&d.includes(E.button)||!E.button||E.button<=1;return(!E.ctrlKey||E.type==="wheel")&&z})},[y,F,i,o,a,l,d,u,C]),I.createElement("div",{className:"react-flow__renderer",ref:M,style:hc},b)},Q_=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function J_(){const{userSelectionActive:e,userSelectionRect:t}=le(Q_,xe);return e&&t?I.createElement("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}function wu(e,t){const n=t.parentNode||t.parentId,r=e.find(i=>i.id===n);if(r){const i=t.position.x+t.width-r.width,o=t.position.y+t.height-r.height;if(i>0||o>0||t.position.x<0||t.position.y<0){if(r.style={...r.style},r.style.width=r.style.width??r.width,r.style.height=r.style.height??r.height,i>0&&(r.style.width+=i),o>0&&(r.style.height+=o),t.position.x<0){const a=Math.abs(t.position.x);r.position.x=r.position.x-a,r.style.width+=a,t.position.x=0}if(t.position.y<0){const a=Math.abs(t.position.y);r.position.y=r.position.y-a,r.style.height+=a,t.position.y=0}r.width=r.style.width,r.height=r.style.height}}}function Rp(e,t){if(e.some(r=>r.type==="reset"))return e.filter(r=>r.type==="reset").map(r=>r.item);const n=e.filter(r=>r.type==="add").map(r=>r.item);return t.reduce((r,i)=>{const o=e.filter(s=>s.id===i.id);if(o.length===0)return r.push(i),r;const a={...i};for(const s of o)if(s)switch(s.type){case"select":{a.selected=s.selected;break}case"position":{typeof s.position<"u"&&(a.position=s.position),typeof s.positionAbsolute<"u"&&(a.positionAbsolute=s.positionAbsolute),typeof s.dragging<"u"&&(a.dragging=s.dragging),a.expandParent&&wu(r,a);break}case"dimensions":{typeof s.dimensions<"u"&&(a.width=s.dimensions.width,a.height=s.dimensions.height),typeof s.updateStyle<"u"&&(a.style={...a.style||{},...s.dimensions}),typeof s.resizing=="boolean"&&(a.resizing=s.resizing),a.expandParent&&wu(r,a);break}case"remove":return r}return r.push(a),r},n)}function kp(e,t){return Rp(e,t)}function e1(e,t){return Rp(e,t)}const wt=(e,t)=>({id:e,type:"select",selected:t});function Wt(e,t){return e.reduce((n,r)=>{const i=t.includes(r.id);return!r.selected&&i?(r.selected=!0,n.push(wt(r.id,!0))):r.selected&&!i&&(r.selected=!1,n.push(wt(r.id,!1))),n},[])}const ti=(e,t)=>n=>{n.target===t.current&&e?.(n)},t1=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging}),qp=ue(({isSelecting:e,selectionMode:t=Nn.Full,panOnDrag:n,onSelectionStart:r,onSelectionEnd:i,onPaneClick:o,onPaneContextMenu:a,onPaneScroll:s,onPaneMouseEnter:c,onPaneMouseMove:l,onPaneMouseLeave:u,children:d})=>{const f=ee(null),h=ye(),p=ee(0),g=ee(0),m=ee(),{userSelectionActive:v,elementsSelectable:b,dragging:_}=le(t1,xe),w=()=>{h.setState({userSelectionActive:!1,userSelectionRect:null}),p.current=0,g.current=0},A=P=>{o?.(P),h.getState().resetSelectedElements(),h.setState({nodesSelectionActive:!1})},N=P=>{if(Array.isArray(n)&&n?.includes(2)){P.preventDefault();return}a?.(P)},T=s?P=>s(P):void 0,q=P=>{const{resetSelectedElements:y,domNode:C}=h.getState();if(m.current=C?.getBoundingClientRect(),!b||!e||P.button!==0||P.target!==f.current||!m.current)return;const{x,y:R}=Et(P,m.current);y(),h.setState({userSelectionRect:{width:0,height:0,startX:x,startY:R,x,y:R}}),r?.(P)},M=P=>{const{userSelectionRect:y,nodeInternals:C,edges:x,transform:R,onNodesChange:$,onEdgesChange:E,nodeOrigin:k,getNodes:D}=h.getState();if(!e||!m.current||!y)return;h.setState({userSelectionActive:!0,nodesSelectionActive:!1});const z=Et(P,m.current),G=y.startX??0,B=y.startY??0,Z={...y,x:z.x<G?z.x:G,y:z.y<B?z.y:B,width:Math.abs(z.x-G),height:Math.abs(z.y-B)},J=D(),H=hp(C,Z,R,t===Nn.Partial,!0,k),V=pp(H,x).map(j=>j.id),K=H.map(j=>j.id);if(p.current!==K.length){p.current=K.length;const j=Wt(J,K);j.length&&$?.(j)}if(g.current!==V.length){g.current=V.length;const j=Wt(x,V);j.length&&E?.(j)}h.setState({userSelectionRect:Z})},L=P=>{if(P.button!==0)return;const{userSelectionRect:y}=h.getState();!v&&y&&P.target===f.current&&A?.(P),h.setState({nodesSelectionActive:p.current>0}),w(),i?.(P)},F=P=>{v&&(h.setState({nodesSelectionActive:p.current>0}),i?.(P)),w()},O=b&&(e||v);return I.createElement("div",{className:Se(["react-flow__pane",{dragging:_,selection:e}]),onClick:O?void 0:ti(A,f),onContextMenu:ti(N,f),onWheel:ti(T,f),onMouseEnter:O?void 0:c,onMouseDown:O?q:void 0,onMouseMove:O?M:l,onMouseUp:O?L:void 0,onMouseLeave:O?F:u,ref:f,style:hc},d,I.createElement(J_,null))});qp.displayName="Pane";function Lp(e,t){const n=e.parentNode||e.parentId;if(!n)return!1;const r=t.get(n);return r?r.selected?!0:Lp(r,t):!1}function bu(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n.current)return!1;r=r.parentElement}while(r);return!1}function n1(e,t,n,r){return Array.from(e.values()).filter(i=>(i.selected||i.id===r)&&(!i.parentNode||i.parentId||!Lp(i,e))&&(i.draggable||t&&typeof i.draggable>"u")).map(i=>({id:i.id,position:i.position||{x:0,y:0},positionAbsolute:i.positionAbsolute||{x:0,y:0},distance:{x:n.x-(i.positionAbsolute?.x??0),y:n.y-(i.positionAbsolute?.y??0)},delta:{x:0,y:0},extent:i.extent,parentNode:i.parentNode||i.parentId,parentId:i.parentNode||i.parentId,width:i.width,height:i.height,expandParent:i.expandParent}))}function r1(e,t){return!t||t==="parent"?t:[t[0],[t[1][0]-(e.width||0),t[1][1]-(e.height||0)]]}function Pp(e,t,n,r,i=[0,0],o){const a=r1(e,e.extent||r);let s=a;const c=e.parentNode||e.parentId;if(e.extent==="parent"&&!e.expandParent)if(c&&e.width&&e.height){const d=n.get(c),{x:f,y:h}=Ft(d,i).positionAbsolute;s=d&&Fe(f)&&Fe(h)&&Fe(d.width)&&Fe(d.height)?[[f+e.width*i[0],h+e.height*i[1]],[f+d.width-e.width+e.width*i[0],h+d.height-e.height+e.height*i[1]]]:s}else o?.("005",dt.error005()),s=a;else if(e.extent&&c&&e.extent!=="parent"){const d=n.get(c),{x:f,y:h}=Ft(d,i).positionAbsolute;s=[[e.extent[0][0]+f,e.extent[0][1]+h],[e.extent[1][0]+f,e.extent[1][1]+h]]}let l={x:0,y:0};if(c){const d=n.get(c);l=Ft(d,i).positionAbsolute}const u=s&&s!=="parent"?ic(t,s):t;return{position:{x:u.x-l.x,y:u.y-l.y},positionAbsolute:u}}function ni({nodeId:e,dragItems:t,nodeInternals:n}){const r=t.map(i=>({...n.get(i.id),position:i.position,positionAbsolute:i.positionAbsolute}));return[e?r.find(i=>i.id===e):r[0],r]}const _u=(e,t,n,r)=>{const i=t.querySelectorAll(e);if(!i||!i.length)return null;const o=Array.from(i),a=t.getBoundingClientRect(),s={x:a.width*r[0],y:a.height*r[1]};return o.map(c=>{const l=c.getBoundingClientRect();return{id:c.getAttribute("data-handleid"),position:c.getAttribute("data-handlepos"),x:(l.left-a.left-s.x)/n,y:(l.top-a.top-s.y)/n,...rc(c)}})};function dn(e,t,n){return n===void 0?n:r=>{const i=t().nodeInternals.get(e);i&&n(r,{...i})}}function Rs({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:a,nodeInternals:s,onError:c}=t.getState(),l=s.get(e);if(!l){c?.("012",dt.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&a)&&(o({nodes:[l],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):i([e])}function i1(){const e=ye();return ve(({sourceEvent:n})=>{const{transform:r,snapGrid:i,snapToGrid:o}=e.getState(),a=n.touches?n.touches[0].clientX:n.clientX,s=n.touches?n.touches[0].clientY:n.clientY,c={x:(a-r[0])/r[2],y:(s-r[1])/r[2]};return{xSnapped:o?i[0]*Math.round(c.x/i[0]):c.x,ySnapped:o?i[1]*Math.round(c.y/i[1]):c.y,...c}},[])}function ri(e){return(t,n,r)=>e?.(t,r)}function $p({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,selectNodesOnDrag:a}){const s=ye(),[c,l]=ae(!1),u=ee([]),d=ee({x:null,y:null}),f=ee(0),h=ee(null),p=ee({x:0,y:0}),g=ee(null),m=ee(!1),v=ee(!1),b=ee(!1),_=i1();return ce(()=>{if(e?.current){const w=De(e.current),A=({x:q,y:M})=>{const{nodeInternals:L,onNodeDrag:F,onSelectionDrag:O,updateNodePositions:P,nodeExtent:y,snapGrid:C,snapToGrid:x,nodeOrigin:R,onError:$}=s.getState();d.current={x:q,y:M};let E=!1,k={x:0,y:0,x2:0,y2:0};if(u.current.length>1&&y){const z=Lr(u.current,R);k=Sn(z)}if(u.current=u.current.map(z=>{const G={x:q-z.distance.x,y:M-z.distance.y};x&&(G.x=C[0]*Math.round(G.x/C[0]),G.y=C[1]*Math.round(G.y/C[1]));const B=[[y[0][0],y[0][1]],[y[1][0],y[1][1]]];u.current.length>1&&y&&!z.extent&&(B[0][0]=z.positionAbsolute.x-k.x+y[0][0],B[1][0]=z.positionAbsolute.x+(z.width??0)-k.x2+y[1][0],B[0][1]=z.positionAbsolute.y-k.y+y[0][1],B[1][1]=z.positionAbsolute.y+(z.height??0)-k.y2+y[1][1]);const Z=Pp(z,G,L,B,R,$);return E=E||z.position.x!==Z.position.x||z.position.y!==Z.position.y,z.position=Z.position,z.positionAbsolute=Z.positionAbsolute,z}),!E)return;P(u.current,!0,!0),l(!0);const D=i?F:ri(O);if(D&&g.current){const[z,G]=ni({nodeId:i,dragItems:u.current,nodeInternals:L});D(g.current,z,G)}},N=()=>{if(!h.current)return;const[q,M]=rp(p.current,h.current);if(q!==0||M!==0){const{transform:L,panBy:F}=s.getState();d.current.x=(d.current.x??0)-q/L[2],d.current.y=(d.current.y??0)-M/L[2],F({x:q,y:M})&&A(d.current)}f.current=requestAnimationFrame(N)},T=q=>{const{nodeInternals:M,multiSelectionActive:L,nodesDraggable:F,unselectNodesAndEdges:O,onNodeDragStart:P,onSelectionDragStart:y}=s.getState();v.current=!0;const C=i?P:ri(y);(!a||!o)&&!L&&i&&(M.get(i)?.selected||O()),i&&o&&a&&Rs({id:i,store:s,nodeRef:e});const x=_(q);if(d.current=x,u.current=n1(M,F,x,i),C&&u.current){const[R,$]=ni({nodeId:i,dragItems:u.current,nodeInternals:M});C(q.sourceEvent,R,$)}};if(t)w.on(".drag",null);else{const q=pw().on("start",M=>{const{domNode:L,nodeDragThreshold:F}=s.getState();F===0&&T(M),b.current=!1;const O=_(M);d.current=O,h.current=L?.getBoundingClientRect()||null,p.current=Et(M.sourceEvent,h.current)}).on("drag",M=>{const L=_(M),{autoPanOnNodeDrag:F,nodeDragThreshold:O}=s.getState();if(M.sourceEvent.type==="touchmove"&&M.sourceEvent.touches.length>1&&(b.current=!0),!b.current){if(!m.current&&v.current&&F&&(m.current=!0,N()),!v.current){const P=L.xSnapped-(d?.current?.x??0),y=L.ySnapped-(d?.current?.y??0);Math.sqrt(P*P+y*y)>O&&T(M)}(d.current.x!==L.xSnapped||d.current.y!==L.ySnapped)&&u.current&&v.current&&(g.current=M.sourceEvent,p.current=Et(M.sourceEvent,h.current),A(L))}}).on("end",M=>{if(!(!v.current||b.current)&&(l(!1),m.current=!1,v.current=!1,cancelAnimationFrame(f.current),u.current)){const{updateNodePositions:L,nodeInternals:F,onNodeDragStop:O,onSelectionDragStop:P}=s.getState(),y=i?O:ri(P);if(L(u.current,!1,!1),y){const[C,x]=ni({nodeId:i,dragItems:u.current,nodeInternals:F});y(M.sourceEvent,C,x)}}}).filter(M=>{const L=M.target;return!M.button&&(!n||!bu(L,`.${n}`,e))&&(!r||bu(L,r,e))});return w.call(q),()=>{w.on(".drag",null)}}}},[e,t,n,r,o,s,i,a,_]),c}function Dp(){const e=ye();return ve(n=>{const{nodeInternals:r,nodeExtent:i,updateNodePositions:o,getNodes:a,snapToGrid:s,snapGrid:c,onError:l,nodesDraggable:u}=e.getState(),d=a().filter(b=>b.selected&&(b.draggable||u&&typeof b.draggable>"u")),f=s?c[0]:5,h=s?c[1]:5,p=n.isShiftPressed?4:1,g=n.x*f*p,m=n.y*h*p,v=d.map(b=>{if(b.positionAbsolute){const _={x:b.positionAbsolute.x+g,y:b.positionAbsolute.y+m};s&&(_.x=c[0]*Math.round(_.x/c[0]),_.y=c[1]*Math.round(_.y/c[1]));const{positionAbsolute:w,position:A}=Pp(b,_,r,i,void 0,l);b.position=A,b.positionAbsolute=w}return b});o(v,!0,!1)},[])}const jt={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}};var fn=e=>{const t=({id:n,type:r,data:i,xPos:o,yPos:a,xPosOrigin:s,yPosOrigin:c,selected:l,onClick:u,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onContextMenu:p,onDoubleClick:g,style:m,className:v,isDraggable:b,isSelectable:_,isConnectable:w,isFocusable:A,selectNodesOnDrag:N,sourcePosition:T,targetPosition:q,hidden:M,resizeObserver:L,dragHandle:F,zIndex:O,isParent:P,noDragClassName:y,noPanClassName:C,initialized:x,disableKeyboardA11y:R,ariaLabel:$,rfId:E,hasHandleBounds:k})=>{const D=ye(),z=ee(null),G=ee(null),B=ee(T),Z=ee(q),J=ee(r),H=_||b||u||d||f||h,V=Dp(),K=dn(n,D.getState,d),j=dn(n,D.getState,f),ie=dn(n,D.getState,h),oe=dn(n,D.getState,p),de=dn(n,D.getState,g),me=W=>{const{nodeDragThreshold:Y}=D.getState();if(_&&(!N||!b||Y>0)&&Rs({id:n,store:D,nodeRef:z}),u){const he=D.getState().nodeInternals.get(n);he&&u(W,{...he})}},X=W=>{if(!Cs(W)&&!R)if(sp.includes(W.key)&&_){const Y=W.key==="Escape";Rs({id:n,store:D,unselect:Y,nodeRef:z})}else b&&l&&Object.prototype.hasOwnProperty.call(jt,W.key)&&(D.setState({ariaLiveMessage:`Moved selected node ${W.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~o}, y: ${~~a}`}),V({x:jt[W.key].x,y:jt[W.key].y,isShiftPressed:W.shiftKey}))};ce(()=>()=>{G.current&&(L?.unobserve(G.current),G.current=null)},[]),ce(()=>{if(z.current&&!M){const W=z.current;(!x||!k||G.current!==W)&&(G.current&&L?.unobserve(G.current),L?.observe(W),G.current=W)}},[M,x,k]),ce(()=>{const W=J.current!==r,Y=B.current!==T,he=Z.current!==q;z.current&&(W||Y||he)&&(W&&(J.current=r),Y&&(B.current=T),he&&(Z.current=q),D.getState().updateNodeDimensions([{id:n,nodeElement:z.current,forceUpdate:!0}]))},[n,r,T,q]);const we=$p({nodeRef:z,disabled:M||!b,noDragClassName:y,handleSelector:F,nodeId:n,isSelectable:_,selectNodesOnDrag:N});return M?null:I.createElement("div",{className:Se(["react-flow__node",`react-flow__node-${r}`,{[C]:b},v,{selected:l,selectable:_,parent:P,dragging:we}]),ref:z,style:{zIndex:O,transform:`translate(${s}px,${c}px)`,pointerEvents:H?"all":"none",visibility:x?"visible":"hidden",...m},"data-id":n,"data-testid":`rf__node-${n}`,onMouseEnter:K,onMouseMove:j,onMouseLeave:ie,onContextMenu:oe,onClick:me,onDoubleClick:de,onKeyDown:A?X:void 0,tabIndex:A?0:void 0,role:A?"button":void 0,"aria-describedby":R?void 0:`${Cp}-${E}`,"aria-label":$},I.createElement(y_,{value:n},I.createElement(e,{id:n,data:i,type:r,xPos:o,yPos:a,selected:l,isConnectable:w,sourcePosition:T,targetPosition:q,dragging:we,dragHandle:F,zIndex:O})))};return t.displayName="NodeWrapper",ue(t)};const o1=e=>{const t=e.getNodes().filter(n=>n.selected);return{...Lr(t,e.nodeOrigin),transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`,userSelectionActive:e.userSelectionActive}};function a1({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=ye(),{width:i,height:o,x:a,y:s,transformString:c,userSelectionActive:l}=le(o1,xe),u=Dp(),d=ee(null);if(ce(()=>{n||d.current?.focus({preventScroll:!0})},[n]),$p({nodeRef:d}),l||!i||!o)return null;const f=e?p=>{const g=r.getState().getNodes().filter(m=>m.selected);e(p,g)}:void 0,h=p=>{Object.prototype.hasOwnProperty.call(jt,p.key)&&u({x:jt[p.key].x,y:jt[p.key].y,isShiftPressed:p.shiftKey})};return I.createElement("div",{className:Se(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c}},I.createElement("div",{ref:d,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:h,style:{width:i,height:o,top:s,left:a}}))}var s1=ue(a1);const c1=e=>e.nodesSelectionActive,Fp=({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,deleteKeyCode:s,onMove:c,onMoveStart:l,onMoveEnd:u,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:p,onSelectionEnd:g,multiSelectionKeyCode:m,panActivationKeyCode:v,zoomActivationKeyCode:b,elementsSelectable:_,zoomOnScroll:w,zoomOnPinch:A,panOnScroll:N,panOnScrollSpeed:T,panOnScrollMode:q,zoomOnDoubleClick:M,panOnDrag:L,defaultViewport:F,translateExtent:O,minZoom:P,maxZoom:y,preventScrolling:C,onSelectionContextMenu:x,noWheelClassName:R,noPanClassName:$,disableKeyboardA11y:E})=>{const k=le(c1),D=Cn(d),z=Cn(v),G=z||L,B=z||N,Z=D||f&&G!==!0;return W_({deleteKeyCode:s,multiSelectionKeyCode:m}),I.createElement(j_,{onMove:c,onMoveStart:l,onMoveEnd:u,onPaneContextMenu:o,elementsSelectable:_,zoomOnScroll:w,zoomOnPinch:A,panOnScroll:B,panOnScrollSpeed:T,panOnScrollMode:q,zoomOnDoubleClick:M,panOnDrag:!D&&G,defaultViewport:F,translateExtent:O,minZoom:P,maxZoom:y,zoomActivationKeyCode:b,preventScrolling:C,noWheelClassName:R,noPanClassName:$},I.createElement(qp,{onSelectionStart:p,onSelectionEnd:g,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:a,panOnDrag:G,isSelecting:!!Z,selectionMode:h},e,k&&I.createElement(s1,{onSelectionContextMenu:x,noPanClassName:$,disableKeyboardA11y:E})))};Fp.displayName="FlowRenderer";var u1=ue(Fp);function l1(e){return le(ve(n=>e?hp(n.nodeInternals,{x:0,y:0,width:n.width,height:n.height},n.transform,!0):n.getNodes(),[e]))}function d1(e){const t={input:fn(e.input||xp),default:fn(e.default||Ts),output:fn(e.output||Sp),group:fn(e.group||dc)},n={},r=Object.keys(e).filter(i=>!["input","default","output","group"].includes(i)).reduce((i,o)=>(i[o]=fn(e[o]||Ts),i),n);return{...t,...r}}const f1=({x:e,y:t,width:n,height:r,origin:i})=>!n||!r?{x:e,y:t}:i[0]<0||i[1]<0||i[0]>1||i[1]>1?{x:e,y:t}:{x:e-n*i[0],y:t-r*i[1]},h1=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,updateNodeDimensions:e.updateNodeDimensions,onError:e.onError}),Op=e=>{const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,updateNodeDimensions:o,onError:a}=le(h1,xe),s=l1(e.onlyRenderVisibleElements),c=ee(),l=Oe(()=>{if(typeof ResizeObserver>"u")return null;const u=new ResizeObserver(d=>{const f=d.map(h=>({id:h.target.getAttribute("data-id"),nodeElement:h.target,forceUpdate:!0}));o(f)});return c.current=u,u},[]);return ce(()=>()=>{c?.current?.disconnect()},[]),I.createElement("div",{className:"react-flow__nodes",style:hc},s.map(u=>{let d=u.type||"default";e.nodeTypes[d]||(a?.("003",dt.error003(d)),d="default");const f=e.nodeTypes[d]||e.nodeTypes.default,h=!!(u.draggable||t&&typeof u.draggable>"u"),p=!!(u.selectable||i&&typeof u.selectable>"u"),g=!!(u.connectable||n&&typeof u.connectable>"u"),m=!!(u.focusable||r&&typeof u.focusable>"u"),v=e.nodeExtent?ic(u.positionAbsolute,e.nodeExtent):u.positionAbsolute,b=v?.x??0,_=v?.y??0,w=f1({x:b,y:_,width:u.width??0,height:u.height??0,origin:e.nodeOrigin});return I.createElement(f,{key:u.id,id:u.id,className:u.className,style:u.style,type:d,data:u.data,sourcePosition:u.sourcePosition||U.Bottom,targetPosition:u.targetPosition||U.Top,hidden:u.hidden,xPos:b,yPos:_,xPosOrigin:w.x,yPosOrigin:w.y,selectNodesOnDrag:e.selectNodesOnDrag,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,selected:!!u.selected,isDraggable:h,isSelectable:p,isConnectable:g,isFocusable:m,resizeObserver:l,dragHandle:u.dragHandle,zIndex:u[pe]?.z??0,isParent:!!u[pe]?.isParent,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,initialized:!!u.width&&!!u.height,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,ariaLabel:u.ariaLabel,hasHandleBounds:!!u[pe]?.handleBounds})}))};Op.displayName="NodeRenderer";var p1=ue(Op);const g1=(e,t,n)=>n===U.Left?e-t:n===U.Right?e+t:e,m1=(e,t,n)=>n===U.Top?e-t:n===U.Bottom?e+t:e,xu="react-flow__edgeupdater",Eu=({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:a,type:s})=>I.createElement("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:a,className:Se([xu,`${xu}-${s}`]),cx:g1(t,r,e),cy:m1(n,r,e),r,stroke:"transparent",fill:"transparent"}),v1=()=>!0;var Yt=e=>{const t=({id:n,className:r,type:i,data:o,onClick:a,onEdgeDoubleClick:s,selected:c,animated:l,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,source:v,target:b,sourceX:_,sourceY:w,targetX:A,targetY:N,sourcePosition:T,targetPosition:q,elementsSelectable:M,hidden:L,sourceHandleId:F,targetHandleId:O,onContextMenu:P,onMouseEnter:y,onMouseMove:C,onMouseLeave:x,reconnectRadius:R,onReconnect:$,onReconnectStart:E,onReconnectEnd:k,markerEnd:D,markerStart:z,rfId:G,ariaLabel:B,isFocusable:Z,isReconnectable:J,pathOptions:H,interactionWidth:V,disableKeyboardA11y:K})=>{const j=ee(null),[ie,oe]=ae(!1),[de,me]=ae(!1),X=ye(),we=Oe(()=>`url('#${As(z,G)}')`,[z,G]),W=Oe(()=>`url('#${As(D,G)}')`,[D,G]);if(L)return null;const Y=be=>{const{edges:Le,addSelectedEdges:Ne,unselectNodesAndEdges:Ae,multiSelectionActive:Bt}=X.getState(),je=Le.find(At=>At.id===n);je&&(M&&(X.setState({nodesSelectionActive:!1}),je.selected&&Bt?(Ae({nodes:[],edges:[je]}),j.current?.blur()):Ne([n])),a&&a(be,je))},he=ln(n,X.getState,s),Be=ln(n,X.getState,P),Ze=ln(n,X.getState,y),Ie=ln(n,X.getState,C),ge=ln(n,X.getState,x),Me=(be,Le)=>{if(be.button!==0)return;const{edges:Ne,isValidConnection:Ae}=X.getState(),Bt=Le?b:v,je=(Le?O:F)||null,At=Le?"target":"source",Br=Ae||v1,Vr=Le,sn=Ne.find(Mt=>Mt.id===n);me(!0),E?.(be,sn,At);const Gr=Mt=>{me(!1),k?.(Mt,sn,At)};yp({event:be,handleId:je,nodeId:Bt,onConnect:Mt=>$?.(sn,Mt),isTarget:Vr,getState:X.getState,setState:X.setState,isValidConnection:Br,edgeUpdaterType:At,onReconnectEnd:Gr})},Ve=be=>Me(be,!0),tt=be=>Me(be,!1),Xe=()=>oe(!0),qe=()=>oe(!1),nt=!M&&!a,pt=be=>{if(!K&&sp.includes(be.key)&&M){const{unselectNodesAndEdges:Le,addSelectedEdges:Ne,edges:Ae}=X.getState();be.key==="Escape"?(j.current?.blur(),Le({edges:[Ae.find(je=>je.id===n)]})):Ne([n])}};return I.createElement("g",{className:Se(["react-flow__edge",`react-flow__edge-${i}`,r,{selected:c,animated:l,inactive:nt,updating:ie}]),onClick:Y,onDoubleClick:he,onContextMenu:Be,onMouseEnter:Ze,onMouseMove:Ie,onMouseLeave:ge,onKeyDown:Z?pt:void 0,tabIndex:Z?0:void 0,role:Z?"button":"img","data-testid":`rf__edge-${n}`,"aria-label":B===null?void 0:B||`Edge from ${v} to ${b}`,"aria-describedby":Z?`${Ip}-${G}`:void 0,ref:j},!de&&I.createElement(e,{id:n,source:v,target:b,selected:c,animated:l,label:u,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,data:o,style:m,sourceX:_,sourceY:w,targetX:A,targetY:N,sourcePosition:T,targetPosition:q,sourceHandleId:F,targetHandleId:O,markerStart:we,markerEnd:W,pathOptions:H,interactionWidth:V}),J&&I.createElement(I.Fragment,null,(J==="source"||J===!0)&&I.createElement(Eu,{position:T,centerX:_,centerY:w,radius:R,onMouseDown:Ve,onMouseEnter:Xe,onMouseOut:qe,type:"source"}),(J==="target"||J===!0)&&I.createElement(Eu,{position:q,centerX:A,centerY:N,radius:R,onMouseDown:tt,onMouseEnter:Xe,onMouseOut:qe,type:"target"})))};return t.displayName="EdgeWrapper",ue(t)};function y1(e){const t={default:Yt(e.default||hr),straight:Yt(e.bezier||sc),step:Yt(e.step||ac),smoothstep:Yt(e.step||qr),simplebezier:Yt(e.simplebezier||oc)},n={},r=Object.keys(e).filter(i=>!["default","bezier"].includes(i)).reduce((i,o)=>(i[o]=Yt(e[o]||hr),i),n);return{...t,...r}}function Su(e,t,n=null){const r=(n?.x||0)+t.x,i=(n?.y||0)+t.y,o=n?.width||t.width,a=n?.height||t.height;switch(e){case U.Top:return{x:r+o/2,y:i};case U.Right:return{x:r+o,y:i+a/2};case U.Bottom:return{x:r+o/2,y:i+a};case U.Left:return{x:r,y:i+a/2}}}function Nu(e,t){return e?e.length===1||!t?e[0]:t&&e.find(n=>n.id===t)||null:null}const w1=(e,t,n,r,i,o)=>{const a=Su(n,e,t),s=Su(o,r,i);return{sourceX:a.x,sourceY:a.y,targetX:s.x,targetY:s.y}};function b1({sourcePos:e,targetPos:t,sourceWidth:n,sourceHeight:r,targetWidth:i,targetHeight:o,width:a,height:s,transform:c}){const l={x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x+n,t.x+i),y2:Math.max(e.y+r,t.y+o)};l.x===l.x2&&(l.x2+=1),l.y===l.y2&&(l.y2+=1);const u=Sn({x:(0-c[0])/c[2],y:(0-c[1])/c[2],width:a/c[2],height:s/c[2]}),d=Math.max(0,Math.min(u.x2,l.x2)-Math.max(u.x,l.x)),f=Math.max(0,Math.min(u.y2,l.y2)-Math.max(u.y,l.y));return Math.ceil(d*f)>0}function Cu(e){const t=e?.[pe]?.handleBounds||null,n=t&&e?.width&&e?.height&&typeof e?.positionAbsolute?.x<"u"&&typeof e?.positionAbsolute?.y<"u";return[{x:e?.positionAbsolute?.x||0,y:e?.positionAbsolute?.y||0,width:e?.width||0,height:e?.height||0},t,!!n]}const _1=[{level:0,isMaxLevel:!0,edges:[]}];function x1(e,t,n=!1){let r=-1;const i=e.reduce((a,s)=>{const c=Fe(s.zIndex);let l=c?s.zIndex:0;if(n){const u=t.get(s.target),d=t.get(s.source),f=s.selected||u?.selected||d?.selected,h=Math.max(d?.[pe]?.z||0,u?.[pe]?.z||0,1e3);l=(c?s.zIndex:0)+(f?h:0)}return a[l]?a[l].push(s):a[l]=[s],r=l>r?l:r,a},{}),o=Object.entries(i).map(([a,s])=>{const c=+a;return{edges:s,level:c,isMaxLevel:c===r}});return o.length===0?_1:o}function E1(e,t,n){const r=le(ve(i=>e?i.edges.filter(o=>{const a=t.get(o.source),s=t.get(o.target);return a?.width&&a?.height&&s?.width&&s?.height&&b1({sourcePos:a.positionAbsolute||{x:0,y:0},targetPos:s.positionAbsolute||{x:0,y:0},sourceWidth:a.width,sourceHeight:a.height,targetWidth:s.width,targetHeight:s.height,width:i.width,height:i.height,transform:i.transform})}):i.edges,[e,t]));return x1(r,t,n)}const S1=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),N1=({color:e="none",strokeWidth:t=1})=>I.createElement("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),Iu={[fr.Arrow]:S1,[fr.ArrowClosed]:N1};function C1(e){const t=ye();return Oe(()=>Object.prototype.hasOwnProperty.call(Iu,e)?Iu[e]:(t.getState().onError?.("009",dt.error009(e)),null),[e])}const I1=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:a,orient:s="auto-start-reverse"})=>{const c=C1(t);return c?I.createElement("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:o,orient:s,refX:"0",refY:"0"},I.createElement(c,{color:n,strokeWidth:a})):null},A1=({defaultColor:e,rfId:t})=>n=>{const r=[];return n.edges.reduce((i,o)=>([o.markerStart,o.markerEnd].forEach(a=>{if(a&&typeof a=="object"){const s=As(a,t);r.includes(s)||(i.push({id:s,color:a.color||e,...a}),r.push(s))}}),i),[]).sort((i,o)=>i.id.localeCompare(o.id))},zp=({defaultColor:e,rfId:t})=>{const n=le(ve(A1({defaultColor:e,rfId:t}),[e,t]),(r,i)=>!(r.length!==i.length||r.some((o,a)=>o.id!==i[a].id)));return I.createElement("defs",null,n.map(r=>I.createElement(I1,{id:r.id,key:r.id,type:r.type,color:r.color,width:r.width,height:r.height,markerUnits:r.markerUnits,strokeWidth:r.strokeWidth,orient:r.orient})))};zp.displayName="MarkerDefinitions";var M1=ue(zp);const T1=e=>({nodesConnectable:e.nodesConnectable,edgesFocusable:e.edgesFocusable,edgesUpdatable:e.edgesUpdatable,elementsSelectable:e.elementsSelectable,width:e.width,height:e.height,connectionMode:e.connectionMode,nodeInternals:e.nodeInternals,onError:e.onError}),Hp=({defaultMarkerColor:e,onlyRenderVisibleElements:t,elevateEdgesOnSelect:n,rfId:r,edgeTypes:i,noPanClassName:o,onEdgeContextMenu:a,onEdgeMouseEnter:s,onEdgeMouseMove:c,onEdgeMouseLeave:l,onEdgeClick:u,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:g,children:m,disableKeyboardA11y:v})=>{const{edgesFocusable:b,edgesUpdatable:_,elementsSelectable:w,width:A,height:N,connectionMode:T,nodeInternals:q,onError:M}=le(T1,xe),L=E1(t,q,n);return A?I.createElement(I.Fragment,null,L.map(({level:F,edges:O,isMaxLevel:P})=>I.createElement("svg",{key:F,style:{zIndex:F},width:A,height:N,className:"react-flow__edges react-flow__container"},P&&I.createElement(M1,{defaultColor:e,rfId:r}),I.createElement("g",null,O.map(y=>{const[C,x,R]=Cu(q.get(y.source)),[$,E,k]=Cu(q.get(y.target));if(!R||!k)return null;let D=y.type||"default";i[D]||(M?.("011",dt.error011(D)),D="default");const z=i[D]||i.default,G=T===zt.Strict?E.target:(E.target??[]).concat(E.source??[]),B=Nu(x.source,y.sourceHandle),Z=Nu(G,y.targetHandle),J=B?.position||U.Bottom,H=Z?.position||U.Top,V=!!(y.focusable||b&&typeof y.focusable>"u"),K=y.reconnectable||y.updatable,j=typeof f<"u"&&(K||_&&typeof K>"u");if(!B||!Z)return M?.("008",dt.error008(B,y)),null;const{sourceX:ie,sourceY:oe,targetX:de,targetY:me}=w1(C,B,J,$,Z,H);return I.createElement(z,{key:y.id,id:y.id,className:Se([y.className,o]),type:D,data:y.data,selected:!!y.selected,animated:!!y.animated,hidden:!!y.hidden,label:y.label,labelStyle:y.labelStyle,labelShowBg:y.labelShowBg,labelBgStyle:y.labelBgStyle,labelBgPadding:y.labelBgPadding,labelBgBorderRadius:y.labelBgBorderRadius,style:y.style,source:y.source,target:y.target,sourceHandleId:y.sourceHandle,targetHandleId:y.targetHandle,markerEnd:y.markerEnd,markerStart:y.markerStart,sourceX:ie,sourceY:oe,targetX:de,targetY:me,sourcePosition:J,targetPosition:H,elementsSelectable:w,onContextMenu:a,onMouseEnter:s,onMouseMove:c,onMouseLeave:l,onClick:u,onEdgeDoubleClick:d,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,reconnectRadius:g,rfId:r,ariaLabel:y.ariaLabel,isFocusable:V,isReconnectable:j,pathOptions:"pathOptions"in y?y.pathOptions:void 0,interactionWidth:y.interactionWidth,disableKeyboardA11y:v})})))),m):null};Hp.displayName="EdgeRenderer";var R1=ue(Hp);const k1=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function q1({children:e}){const t=le(k1);return I.createElement("div",{className:"react-flow__viewport react-flow__container",style:{transform:t}},e)}function L1(e){const t=fc(),n=ee(!1);ce(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const P1={[U.Left]:U.Right,[U.Right]:U.Left,[U.Top]:U.Bottom,[U.Bottom]:U.Top},Bp=({nodeId:e,handleType:t,style:n,type:r=bt.Bezier,CustomComponent:i,connectionStatus:o})=>{const{fromNode:a,handleId:s,toX:c,toY:l,connectionMode:u}=le(ve(N=>({fromNode:N.nodeInternals.get(e),handleId:N.connectionHandleId,toX:(N.connectionPosition.x-N.transform[0])/N.transform[2],toY:(N.connectionPosition.y-N.transform[1])/N.transform[2],connectionMode:N.connectionMode}),[e]),xe),d=a?.[pe]?.handleBounds;let f=d?.[t];if(u===zt.Loose&&(f=f||d?.[t==="source"?"target":"source"]),!a||!f)return null;const h=s?f.find(N=>N.id===s):f[0],p=h?h.x+h.width/2:(a.width??0)/2,g=h?h.y+h.height/2:a.height??0,m=(a.positionAbsolute?.x??0)+p,v=(a.positionAbsolute?.y??0)+g,b=h?.position,_=b?P1[b]:null;if(!b||!_)return null;if(i)return I.createElement(i,{connectionLineType:r,connectionLineStyle:n,fromNode:a,fromHandle:h,fromX:m,fromY:v,toX:c,toY:l,fromPosition:b,toPosition:_,connectionStatus:o});let w="";const A={sourceX:m,sourceY:v,sourcePosition:b,targetX:c,targetY:l,targetPosition:_};return r===bt.Bezier?[w]=cc(A):r===bt.Step?[w]=Is({...A,borderRadius:0}):r===bt.SmoothStep?[w]=Is(A):r===bt.SimpleBezier?[w]=dp(A):w=`M${m},${v} ${c},${l}`,I.createElement("path",{d:w,fill:"none",className:"react-flow__connection-path",style:n})};Bp.displayName="ConnectionLine";const $1=e=>({nodeId:e.connectionNodeId,handleType:e.connectionHandleType,nodesConnectable:e.nodesConnectable,connectionStatus:e.connectionStatus,width:e.width,height:e.height});function D1({containerStyle:e,style:t,type:n,component:r}){const{nodeId:i,handleType:o,nodesConnectable:a,width:s,height:c,connectionStatus:l}=le($1,xe);return!(i&&o&&s&&a)?null:I.createElement("svg",{style:e,width:s,height:c,className:"react-flow__edges react-flow__connectionline react-flow__container"},I.createElement("g",{className:Se(["react-flow__connection",l])},I.createElement(Bp,{nodeId:i,handleType:o,style:t,type:n,CustomComponent:r,connectionStatus:l})))}function Au(e,t){return ee(null),ye(),Oe(()=>t(e),[e])}const Vp=({nodeTypes:e,edgeTypes:t,onMove:n,onMoveStart:r,onMoveEnd:i,onInit:o,onNodeClick:a,onEdgeClick:s,onNodeDoubleClick:c,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,onSelectionContextMenu:p,onSelectionStart:g,onSelectionEnd:m,connectionLineType:v,connectionLineStyle:b,connectionLineComponent:_,connectionLineContainerStyle:w,selectionKeyCode:A,selectionOnDrag:N,selectionMode:T,multiSelectionKeyCode:q,panActivationKeyCode:M,zoomActivationKeyCode:L,deleteKeyCode:F,onlyRenderVisibleElements:O,elementsSelectable:P,selectNodesOnDrag:y,defaultViewport:C,translateExtent:x,minZoom:R,maxZoom:$,preventScrolling:E,defaultMarkerColor:k,zoomOnScroll:D,zoomOnPinch:z,panOnScroll:G,panOnScrollSpeed:B,panOnScrollMode:Z,zoomOnDoubleClick:J,panOnDrag:H,onPaneClick:V,onPaneMouseEnter:K,onPaneMouseMove:j,onPaneMouseLeave:ie,onPaneScroll:oe,onPaneContextMenu:de,onEdgeContextMenu:me,onEdgeMouseEnter:X,onEdgeMouseMove:we,onEdgeMouseLeave:W,onReconnect:Y,onReconnectStart:he,onReconnectEnd:Be,reconnectRadius:Ze,noDragClassName:Ie,noWheelClassName:ge,noPanClassName:Me,elevateEdgesOnSelect:Ve,disableKeyboardA11y:tt,nodeOrigin:Xe,nodeExtent:qe,rfId:nt})=>{const pt=Au(e,d1),be=Au(t,y1);return L1(o),I.createElement(u1,{onPaneClick:V,onPaneMouseEnter:K,onPaneMouseMove:j,onPaneMouseLeave:ie,onPaneContextMenu:de,onPaneScroll:oe,deleteKeyCode:F,selectionKeyCode:A,selectionOnDrag:N,selectionMode:T,onSelectionStart:g,onSelectionEnd:m,multiSelectionKeyCode:q,panActivationKeyCode:M,zoomActivationKeyCode:L,elementsSelectable:P,onMove:n,onMoveStart:r,onMoveEnd:i,zoomOnScroll:D,zoomOnPinch:z,zoomOnDoubleClick:J,panOnScroll:G,panOnScrollSpeed:B,panOnScrollMode:Z,panOnDrag:H,defaultViewport:C,translateExtent:x,minZoom:R,maxZoom:$,onSelectionContextMenu:p,preventScrolling:E,noDragClassName:Ie,noWheelClassName:ge,noPanClassName:Me,disableKeyboardA11y:tt},I.createElement(q1,null,I.createElement(R1,{edgeTypes:be,onEdgeClick:s,onEdgeDoubleClick:l,onlyRenderVisibleElements:O,onEdgeContextMenu:me,onEdgeMouseEnter:X,onEdgeMouseMove:we,onEdgeMouseLeave:W,onReconnect:Y,onReconnectStart:he,onReconnectEnd:Be,reconnectRadius:Ze,defaultMarkerColor:k,noPanClassName:Me,elevateEdgesOnSelect:!!Ve,disableKeyboardA11y:tt,rfId:nt},I.createElement(D1,{style:b,type:v,component:_,containerStyle:w})),I.createElement("div",{className:"react-flow__edgelabel-renderer"}),I.createElement(p1,{nodeTypes:pt,onNodeClick:a,onNodeDoubleClick:c,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:h,selectNodesOnDrag:y,onlyRenderVisibleElements:O,noPanClassName:Me,noDragClassName:Ie,disableKeyboardA11y:tt,nodeOrigin:Xe,nodeExtent:qe,rfId:nt})))};Vp.displayName="GraphView";var F1=ue(Vp);const ks=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],gt={rfId:"1",width:0,height:0,transform:[0,0,1],nodeInternals:new Map,edges:[],onNodesChange:null,onEdgesChange:null,hasDefaultNodes:!1,hasDefaultEdges:!1,d3Zoom:null,d3Selection:null,d3ZoomHandler:void 0,minZoom:.5,maxZoom:2,translateExtent:ks,nodeExtent:ks,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionNodeId:null,connectionHandleId:null,connectionHandleType:"source",connectionPosition:{x:0,y:0},connectionStatus:null,connectionMode:zt.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:[0,0],nodeDragThreshold:0,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesUpdatable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,fitViewOnInit:!1,fitViewOnInitDone:!1,fitViewOnInitOptions:void 0,onSelectionChange:[],multiSelectionActive:!1,connectionStartHandle:null,connectionEndHandle:null,connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,connectionRadius:20,onError:d_,isValidConnection:void 0},O1=()=>Cy((e,t)=>({...gt,setNodes:n=>{const{nodeInternals:r,nodeOrigin:i,elevateNodesOnSelect:o}=t();e({nodeInternals:ei(n,r,i,o)})},getNodes:()=>Array.from(t().nodeInternals.values()),setEdges:n=>{const{defaultEdgeOptions:r={}}=t();e({edges:n.map(i=>({...r,...i}))})},setDefaultNodesAndEdges:(n,r)=>{const i=typeof n<"u",o=typeof r<"u",a=i?ei(n,new Map,t().nodeOrigin,t().elevateNodesOnSelect):new Map;e({nodeInternals:a,edges:o?r:[],hasDefaultNodes:i,hasDefaultEdges:o})},updateNodeDimensions:n=>{const{onNodesChange:r,nodeInternals:i,fitViewOnInit:o,fitViewOnInitDone:a,fitViewOnInitOptions:s,domNode:c,nodeOrigin:l}=t(),u=c?.querySelector(".react-flow__viewport");if(!u)return;const d=window.getComputedStyle(u),{m22:f}=new window.DOMMatrixReadOnly(d.transform),h=n.reduce((g,m)=>{const v=i.get(m.id);if(v?.hidden)i.set(v.id,{...v,[pe]:{...v[pe],handleBounds:void 0}});else if(v){const b=rc(m.nodeElement);!!(b.width&&b.height&&(v.width!==b.width||v.height!==b.height||m.forceUpdate))&&(i.set(v.id,{...v,[pe]:{...v[pe],handleBounds:{source:_u(".source",m.nodeElement,f,l),target:_u(".target",m.nodeElement,f,l)}},...b}),g.push({id:v.id,type:"dimensions",dimensions:b}))}return g},[]);Mp(i,l);const p=a||o&&!a&&Tp(t,{initial:!0,...s});e({nodeInternals:new Map(i),fitViewOnInitDone:p}),h?.length>0&&r?.(h)},updateNodePositions:(n,r=!0,i=!1)=>{const{triggerNodeChanges:o}=t(),a=n.map(s=>{const c={id:s.id,type:"position",dragging:i};return r&&(c.positionAbsolute=s.positionAbsolute,c.position=s.position),c});o(a)},triggerNodeChanges:n=>{const{onNodesChange:r,nodeInternals:i,hasDefaultNodes:o,nodeOrigin:a,getNodes:s,elevateNodesOnSelect:c}=t();if(n?.length){if(o){const l=kp(n,s()),u=ei(l,i,a,c);e({nodeInternals:u})}r?.(n)}},addSelectedNodes:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let a,s=null;r?a=n.map(c=>wt(c,!0)):(a=Wt(o(),n),s=Wt(i,[])),Wn({changedNodes:a,changedEdges:s,get:t,set:e})},addSelectedEdges:n=>{const{multiSelectionActive:r,edges:i,getNodes:o}=t();let a,s=null;r?a=n.map(c=>wt(c,!0)):(a=Wt(i,n),s=Wt(o(),[])),Wn({changedNodes:s,changedEdges:a,get:t,set:e})},unselectNodesAndEdges:({nodes:n,edges:r}={})=>{const{edges:i,getNodes:o}=t(),a=n||o(),s=r||i,c=a.map(u=>(u.selected=!1,wt(u.id,!1))),l=s.map(u=>wt(u.id,!1));Wn({changedNodes:c,changedEdges:l,get:t,set:e})},setMinZoom:n=>{const{d3Zoom:r,maxZoom:i}=t();r?.scaleExtent([n,i]),e({minZoom:n})},setMaxZoom:n=>{const{d3Zoom:r,minZoom:i}=t();r?.scaleExtent([i,n]),e({maxZoom:n})},setTranslateExtent:n=>{t().d3Zoom?.translateExtent(n),e({translateExtent:n})},resetSelectedElements:()=>{const{edges:n,getNodes:r}=t(),o=r().filter(s=>s.selected).map(s=>wt(s.id,!1)),a=n.filter(s=>s.selected).map(s=>wt(s.id,!1));Wn({changedNodes:o,changedEdges:a,get:t,set:e})},setNodeExtent:n=>{const{nodeInternals:r}=t();r.forEach(i=>{i.positionAbsolute=ic(i.position,n)}),e({nodeExtent:n,nodeInternals:new Map(r)})},panBy:n=>{const{transform:r,width:i,height:o,d3Zoom:a,d3Selection:s,translateExtent:c}=t();if(!a||!s||!n.x&&!n.y)return!1;const l=ct.translate(r[0]+n.x,r[1]+n.y).scale(r[2]),u=[[0,0],[i,o]],d=a?.constrain()(l,u,c);return a.transform(s,d),r[0]!==d.x||r[1]!==d.y||r[2]!==d.k},cancelConnection:()=>e({connectionNodeId:gt.connectionNodeId,connectionHandleId:gt.connectionHandleId,connectionHandleType:gt.connectionHandleType,connectionStatus:gt.connectionStatus,connectionStartHandle:gt.connectionStartHandle,connectionEndHandle:gt.connectionEndHandle}),reset:()=>e({...gt})}),Object.is),Gp=({children:e})=>{const t=ee(null);return t.current||(t.current=O1()),I.createElement(i_,{value:t.current},e)};Gp.displayName="ReactFlowProvider";const Up=({children:e})=>Cr(kr)?I.createElement(I.Fragment,null,e):I.createElement(Gp,null,e);Up.displayName="ReactFlowWrapper";const z1={input:xp,default:Ts,output:Sp,group:dc},H1={default:hr,straight:sc,step:ac,smoothstep:qr,simplebezier:oc},B1=[0,0],V1=[15,15],G1={x:0,y:0,zoom:1},U1={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0},Yp=gh(({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o=z1,edgeTypes:a=H1,onNodeClick:s,onEdgeClick:c,onInit:l,onMove:u,onMoveStart:d,onMoveEnd:f,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:v,onNodeMouseEnter:b,onNodeMouseMove:_,onNodeMouseLeave:w,onNodeContextMenu:A,onNodeDoubleClick:N,onNodeDragStart:T,onNodeDrag:q,onNodeDragStop:M,onNodesDelete:L,onEdgesDelete:F,onSelectionChange:O,onSelectionDragStart:P,onSelectionDrag:y,onSelectionDragStop:C,onSelectionContextMenu:x,onSelectionStart:R,onSelectionEnd:$,connectionMode:E=zt.Strict,connectionLineType:k=bt.Bezier,connectionLineStyle:D,connectionLineComponent:z,connectionLineContainerStyle:G,deleteKeyCode:B="Backspace",selectionKeyCode:Z="Shift",selectionOnDrag:J=!1,selectionMode:H=Nn.Full,panActivationKeyCode:V="Space",multiSelectionKeyCode:K=dr()?"Meta":"Control",zoomActivationKeyCode:j=dr()?"Meta":"Control",snapToGrid:ie=!1,snapGrid:oe=V1,onlyRenderVisibleElements:de=!1,selectNodesOnDrag:me=!0,nodesDraggable:X,nodesConnectable:we,nodesFocusable:W,nodeOrigin:Y=B1,edgesFocusable:he,edgesUpdatable:Be,elementsSelectable:Ze,defaultViewport:Ie=G1,minZoom:ge=.5,maxZoom:Me=2,translateExtent:Ve=ks,preventScrolling:tt=!0,nodeExtent:Xe,defaultMarkerColor:qe="#b1b1b7",zoomOnScroll:nt=!0,zoomOnPinch:pt=!0,panOnScroll:be=!1,panOnScrollSpeed:Le=.5,panOnScrollMode:Ne=qt.Free,zoomOnDoubleClick:Ae=!0,panOnDrag:Bt=!0,onPaneClick:je,onPaneMouseEnter:At,onPaneMouseMove:Br,onPaneMouseLeave:Vr,onPaneScroll:sn,onPaneContextMenu:Gr,children:Tc,onEdgeContextMenu:Mt,onEdgeDoubleClick:cm,onEdgeMouseEnter:um,onEdgeMouseMove:lm,onEdgeMouseLeave:dm,onEdgeUpdate:fm,onEdgeUpdateStart:hm,onEdgeUpdateEnd:pm,onReconnect:gm,onReconnectStart:mm,onReconnectEnd:vm,reconnectRadius:ym=10,edgeUpdaterRadius:wm=10,onNodesChange:bm,onEdgesChange:_m,noDragClassName:xm="nodrag",noWheelClassName:Em="nowheel",noPanClassName:Rc="nopan",fitView:Sm=!1,fitViewOptions:Nm,connectOnClick:Cm=!0,attributionPosition:Im,proOptions:Am,defaultEdgeOptions:Mm,elevateNodesOnSelect:Tm=!0,elevateEdgesOnSelect:Rm=!1,disableKeyboardA11y:kc=!1,autoPanOnConnect:km=!0,autoPanOnNodeDrag:qm=!0,connectionRadius:Lm=20,isValidConnection:Pm,onError:$m,style:Dm,id:qc,nodeDragThreshold:Fm,...Om},zm)=>{const Ur=qc||"1";return I.createElement("div",{...Om,style:{...Dm,...U1},ref:zm,className:Se(["react-flow",i]),"data-testid":"rf__wrapper",id:qc},I.createElement(Up,null,I.createElement(F1,{onInit:l,onMove:u,onMoveStart:d,onMoveEnd:f,onNodeClick:s,onEdgeClick:c,onNodeMouseEnter:b,onNodeMouseMove:_,onNodeMouseLeave:w,onNodeContextMenu:A,onNodeDoubleClick:N,nodeTypes:o,edgeTypes:a,connectionLineType:k,connectionLineStyle:D,connectionLineComponent:z,connectionLineContainerStyle:G,selectionKeyCode:Z,selectionOnDrag:J,selectionMode:H,deleteKeyCode:B,multiSelectionKeyCode:K,panActivationKeyCode:V,zoomActivationKeyCode:j,onlyRenderVisibleElements:de,selectNodesOnDrag:me,defaultViewport:Ie,translateExtent:Ve,minZoom:ge,maxZoom:Me,preventScrolling:tt,zoomOnScroll:nt,zoomOnPinch:pt,zoomOnDoubleClick:Ae,panOnScroll:be,panOnScrollSpeed:Le,panOnScrollMode:Ne,panOnDrag:Bt,onPaneClick:je,onPaneMouseEnter:At,onPaneMouseMove:Br,onPaneMouseLeave:Vr,onPaneScroll:sn,onPaneContextMenu:Gr,onSelectionContextMenu:x,onSelectionStart:R,onSelectionEnd:$,onEdgeContextMenu:Mt,onEdgeDoubleClick:cm,onEdgeMouseEnter:um,onEdgeMouseMove:lm,onEdgeMouseLeave:dm,onReconnect:gm??fm,onReconnectStart:mm??hm,onReconnectEnd:vm??pm,reconnectRadius:ym??wm,defaultMarkerColor:qe,noDragClassName:xm,noWheelClassName:Em,noPanClassName:Rc,elevateEdgesOnSelect:Rm,rfId:Ur,disableKeyboardA11y:kc,nodeOrigin:Y,nodeExtent:Xe}),I.createElement(P_,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:h,onConnectStart:p,onConnectEnd:g,onClickConnectStart:m,onClickConnectEnd:v,nodesDraggable:X,nodesConnectable:we,nodesFocusable:W,edgesFocusable:he,edgesUpdatable:Be,elementsSelectable:Ze,elevateNodesOnSelect:Tm,minZoom:ge,maxZoom:Me,nodeExtent:Xe,onNodesChange:bm,onEdgesChange:_m,snapToGrid:ie,snapGrid:oe,connectionMode:E,translateExtent:Ve,connectOnClick:Cm,defaultEdgeOptions:Mm,fitView:Sm,fitViewOptions:Nm,onNodesDelete:L,onEdgesDelete:F,onNodeDragStart:T,onNodeDrag:q,onNodeDragStop:M,onSelectionDrag:y,onSelectionDragStart:P,onSelectionDragStop:C,noPanClassName:Rc,nodeOrigin:Y,rfId:Ur,autoPanOnConnect:km,autoPanOnNodeDrag:qm,onError:$m,connectionRadius:Lm,isValidConnection:Pm,nodeDragThreshold:Fm}),I.createElement(q_,{onSelectionChange:O}),Tc,I.createElement(a_,{proOptions:Am,position:Im}),I.createElement(z_,{rfId:Ur,disableKeyboardA11y:kc})))});Yp.displayName="ReactFlow";function Wp(e){return t=>{const[n,r]=ae(t),i=ve(o=>r(a=>e(o,a)),[]);return[n,r,i]}}const Y1=Wp(kp),W1=Wp(e1),Kp=({id:e,x:t,y:n,width:r,height:i,style:o,color:a,strokeColor:s,strokeWidth:c,className:l,borderRadius:u,shapeRendering:d,onClick:f,selected:h})=>{const{background:p,backgroundColor:g}=o||{},m=a||p||g;return I.createElement("rect",{className:Se(["react-flow__minimap-node",{selected:h},l]),x:t,y:n,rx:u,ry:u,width:r,height:i,fill:m,stroke:s,strokeWidth:c,shapeRendering:d,onClick:f?v=>f(v,e):void 0})};Kp.displayName="MiniMapNode";var K1=ue(Kp);const Z1=e=>e.nodeOrigin,X1=e=>e.getNodes().filter(t=>!t.hidden&&t.width&&t.height),ii=e=>e instanceof Function?e:()=>e;function j1({nodeStrokeColor:e="transparent",nodeColor:t="#e2e2e2",nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i=2,nodeComponent:o=K1,onClick:a}){const s=le(X1,xe),c=le(Z1),l=ii(t),u=ii(e),d=ii(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return I.createElement(I.Fragment,null,s.map(h=>{const{x:p,y:g}=Ft(h,c).positionAbsolute;return I.createElement(o,{key:h.id,x:p,y:g,width:h.width,height:h.height,style:h.style,selected:h.selected,className:d(h),color:l(h),borderRadius:r,strokeColor:u(h),strokeWidth:i,shapeRendering:f,onClick:a,id:h.id})}))}var Q1=ue(j1);const J1=200,ex=150,tx=e=>{const t=e.getNodes(),n={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:n,boundingRect:t.length>0?u_(Lr(t,e.nodeOrigin),n):n,rfId:e.rfId}},nx="react-flow__minimap-desc";function Zp({style:e,className:t,nodeStrokeColor:n="transparent",nodeColor:r="#e2e2e2",nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:a=2,nodeComponent:s,maskColor:c="rgb(240, 240, 240, 0.6)",maskStrokeColor:l="none",maskStrokeWidth:u=1,position:d="bottom-right",onClick:f,onNodeClick:h,pannable:p=!1,zoomable:g=!1,ariaLabel:m="React Flow mini map",inversePan:v=!1,zoomStep:b=10,offsetScale:_=5}){const w=ye(),A=ee(null),{boundingRect:N,viewBB:T,rfId:q}=le(tx,xe),M=e?.width??J1,L=e?.height??ex,F=N.width/M,O=N.height/L,P=Math.max(F,O),y=P*M,C=P*L,x=_*P,R=N.x-(y-N.width)/2-x,$=N.y-(C-N.height)/2-x,E=y+x*2,k=C+x*2,D=`${nx}-${q}`,z=ee(0);z.current=P,ce(()=>{if(A.current){const Z=De(A.current),J=K=>{const{transform:j,d3Selection:ie,d3Zoom:oe}=w.getState();if(K.sourceEvent.type!=="wheel"||!ie||!oe)return;const de=-K.sourceEvent.deltaY*(K.sourceEvent.deltaMode===1?.05:K.sourceEvent.deltaMode?1:.002)*b,me=j[2]*Math.pow(2,de);oe.scaleTo(ie,me)},H=K=>{const{transform:j,d3Selection:ie,d3Zoom:oe,translateExtent:de,width:me,height:X}=w.getState();if(K.sourceEvent.type!=="mousemove"||!ie||!oe)return;const we=z.current*Math.max(1,j[2])*(v?-1:1),W={x:j[0]-K.sourceEvent.movementX*we,y:j[1]-K.sourceEvent.movementY*we},Y=[[0,0],[me,X]],he=ct.translate(W.x,W.y).scale(j[2]),Be=oe.constrain()(he,Y,de);oe.transform(ie,Be)},V=tp().on("zoom",p?H:null).on("zoom.wheel",g?J:null);return Z.call(V),()=>{Z.on("zoom",null)}}},[p,g,v,b]);const G=f?Z=>{const J=Ge(Z);f(Z,{x:J[0],y:J[1]})}:void 0,B=h?(Z,J)=>{const H=w.getState().nodeInternals.get(J);h(Z,H)}:void 0;return I.createElement(nc,{position:d,style:e,className:Se(["react-flow__minimap",t]),"data-testid":"rf__minimap"},I.createElement("svg",{width:M,height:L,viewBox:`${R} ${$} ${E} ${k}`,role:"img","aria-labelledby":D,ref:A,onClick:G},m&&I.createElement("title",{id:D},m),I.createElement(Q1,{onClick:B,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:a,nodeComponent:s}),I.createElement("path",{className:"react-flow__minimap-mask",d:`M${R-x},${$-x}h${E+x*2}v${k+x*2}h${-E-x*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fill:c,fillRule:"evenodd",stroke:l,strokeWidth:u,pointerEvents:"none"})))}Zp.displayName="MiniMap";var rx=ue(Zp);function ix(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32"},I.createElement("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"}))}function ox(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5"},I.createElement("path",{d:"M0 0h32v4.2H0z"}))}function ax(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30"},I.createElement("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"}))}function sx(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"}))}function cx(){return I.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32"},I.createElement("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"}))}const gn=({children:e,className:t,...n})=>I.createElement("button",{type:"button",className:Se(["react-flow__controls-button",t]),...n},e);gn.displayName="ControlButton";const ux=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom}),Xp=({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:a,onFitView:s,onInteractiveChange:c,className:l,children:u,position:d="bottom-left"})=>{const f=ye(),[h,p]=ae(!1),{isInteractive:g,minZoomReached:m,maxZoomReached:v}=le(ux,xe),{zoomIn:b,zoomOut:_,fitView:w}=fc();if(ce(()=>{p(!0)},[]),!h)return null;const A=()=>{b(),o?.()},N=()=>{_(),a?.()},T=()=>{w(i),s?.()},q=()=>{f.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),c?.(!g)};return I.createElement(nc,{className:Se(["react-flow__controls",l]),position:d,style:e,"data-testid":"rf__controls"},t&&I.createElement(I.Fragment,null,I.createElement(gn,{onClick:A,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:v},I.createElement(ix,null)),I.createElement(gn,{onClick:N,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:m},I.createElement(ox,null))),n&&I.createElement(gn,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view"},I.createElement(ax,null)),r&&I.createElement(gn,{className:"react-flow__controls-interactive",onClick:q,title:"toggle interactivity","aria-label":"toggle interactivity"},g?I.createElement(cx,null):I.createElement(sx,null)),u)};Xp.displayName="Controls";var lx=ue(Xp),Ye;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ye||(Ye={}));function dx({color:e,dimensions:t,lineWidth:n}){return I.createElement("path",{stroke:e,strokeWidth:n,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`})}function fx({color:e,radius:t}){return I.createElement("circle",{cx:t,cy:t,r:t,fill:e})}const hx={[Ye.Dots]:"#91919a",[Ye.Lines]:"#eee",[Ye.Cross]:"#e2e2e2"},px={[Ye.Dots]:1,[Ye.Lines]:1,[Ye.Cross]:6},gx=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function jp({id:e,variant:t=Ye.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=2,color:a,style:s,className:c}){const l=ee(null),{transform:u,patternId:d}=le(gx,xe),f=a||hx[t],h=r||px[t],p=t===Ye.Dots,g=t===Ye.Cross,m=Array.isArray(n)?n:[n,n],v=[m[0]*u[2]||1,m[1]*u[2]||1],b=h*u[2],_=g?[b,b]:v,w=p?[b/o,b/o]:[_[0]/o,_[1]/o];return I.createElement("svg",{className:Se(["react-flow__background",c]),style:{...s,position:"absolute",width:"100%",height:"100%",top:0,left:0},ref:l,"data-testid":"rf__background"},I.createElement("pattern",{id:d+e,x:u[0]%v[0],y:u[1]%v[1],width:v[0],height:v[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${w[0]},-${w[1]})`},p?I.createElement(fx,{color:f,radius:b/o}):I.createElement(dx,{dimensions:_,color:f,lineWidth:i})),I.createElement("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${d+e})`}))}jp.displayName="Background";var mx=ue(jp);function vx(e,t){const n=ee(!1);ce(()=>{if(n.current)return e();n.current=!0},t)}var oi,Mu;function pc(){if(Mu)return oi;Mu=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i&&n(t[r],r,t)!==!1;);return t}return oi=e,oi}var ai,Tu;function yx(){if(Tu)return ai;Tu=1;var e=Zm,t=e(Object.keys,Object);return ai=t,ai}var si,Ru;function gc(){if(Ru)return si;Ru=1;var e=eh,t=yx(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!e(o))return t(o);var a=[];for(var s in Object(o))r.call(o,s)&&s!="constructor"&&a.push(s);return a}return si=i,si}var ci,ku;function It(){if(ku)return ci;ku=1;var e=Xm,t=gc(),n=rn;function r(i){return n(i)?e(i):t(i)}return ci=r,ci}var ui,qu;function wx(){if(qu)return ui;qu=1;var e=_r,t=It();function n(r,i){return r&&e(i,t(i),r)}return ui=n,ui}var li,Lu;function bx(){if(Lu)return li;Lu=1;var e=_r,t=Rn;function n(r,i){return r&&e(i,t(i),r)}return li=n,li}var di,Pu;function Qp(){if(Pu)return di;Pu=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=0,a=[];++r<i;){var s=t[r];n(s,r,t)&&(a[o++]=s)}return a}return di=e,di}var fi,$u;function Jp(){if($u)return fi;$u=1;function e(){return[]}return fi=e,fi}var hi,Du;function mc(){if(Du)return hi;Du=1;var e=Qp(),t=Jp(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(a){return a==null?[]:(a=Object(a),e(i(a),function(s){return r.call(a,s)}))}:t;return hi=o,hi}var pi,Fu;function _x(){if(Fu)return pi;Fu=1;var e=_r,t=mc();function n(r,i){return e(r,t(r),i)}return pi=n,pi}var gi,Ou;function vc(){if(Ou)return gi;Ou=1;function e(t,n){for(var r=-1,i=n.length,o=t.length;++r<i;)t[o+r]=n[r];return t}return gi=e,gi}var mi,zu;function eg(){if(zu)return mi;zu=1;var e=vc(),t=th,n=mc(),r=Jp(),i=Object.getOwnPropertySymbols,o=i?function(a){for(var s=[];a;)e(s,n(a)),a=t(a);return s}:r;return mi=o,mi}var vi,Hu;function xx(){if(Hu)return vi;Hu=1;var e=_r,t=eg();function n(r,i){return e(r,t(r),i)}return vi=n,vi}var yi,Bu;function tg(){if(Bu)return yi;Bu=1;var e=vc(),t=Ee;function n(r,i,o){var a=i(r);return t(r)?a:e(a,o(r))}return yi=n,yi}var wi,Vu;function ng(){if(Vu)return wi;Vu=1;var e=tg(),t=mc(),n=It();function r(i){return e(i,n,t)}return wi=r,wi}var bi,Gu;function Ex(){if(Gu)return bi;Gu=1;var e=tg(),t=eg(),n=Rn;function r(i){return e(i,n,t)}return bi=r,bi}var _i,Uu;function Sx(){if(Uu)return _i;Uu=1;var e=xr,t=kn,n=e(t,"DataView");return _i=n,_i}var xi,Yu;function Nx(){if(Yu)return xi;Yu=1;var e=xr,t=kn,n=e(t,"Promise");return xi=n,xi}var Ei,Wu;function rg(){if(Wu)return Ei;Wu=1;var e=xr,t=kn,n=e(t,"Set");return Ei=n,Ei}var Si,Ku;function Cx(){if(Ku)return Si;Ku=1;var e=xr,t=kn,n=e(t,"WeakMap");return Si=n,Si}var Ni,Zu;function on(){if(Zu)return Ni;Zu=1;var e=Sx(),t=jm,n=Nx(),r=rg(),i=Cx(),o=Os,a=Qm,s="[object Map]",c="[object Object]",l="[object Promise]",u="[object Set]",d="[object WeakMap]",f="[object DataView]",h=a(e),p=a(t),g=a(n),m=a(r),v=a(i),b=o;return(e&&b(new e(new ArrayBuffer(1)))!=f||t&&b(new t)!=s||n&&b(n.resolve())!=l||r&&b(new r)!=u||i&&b(new i)!=d)&&(b=function(_){var w=o(_),A=w==c?_.constructor:void 0,N=A?a(A):"";if(N)switch(N){case h:return f;case p:return s;case g:return l;case m:return u;case v:return d}return w}),Ni=b,Ni}var Ci,Xu;function Ix(){if(Xu)return Ci;Xu=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r){var i=r.length,o=new r.constructor(i);return i&&typeof r[0]=="string"&&t.call(r,"index")&&(o.index=r.index,o.input=r.input),o}return Ci=n,Ci}var Ii,ju;function Ax(){if(ju)return Ii;ju=1;var e=nh;function t(n,r){var i=r?e(n.buffer):n.buffer;return new n.constructor(i,n.byteOffset,n.byteLength)}return Ii=t,Ii}var Ai,Qu;function Mx(){if(Qu)return Ai;Qu=1;var e=/\w*$/;function t(n){var r=new n.constructor(n.source,e.exec(n));return r.lastIndex=n.lastIndex,r}return Ai=t,Ai}var Mi,Ju;function Tx(){if(Ju)return Mi;Ju=1;var e=Er,t=e?e.prototype:void 0,n=t?t.valueOf:void 0;function r(i){return n?Object(n.call(i)):{}}return Mi=r,Mi}var Ti,el;function Rx(){if(el)return Ti;el=1;var e=nh,t=Ax(),n=Mx(),r=Tx(),i=Jm,o="[object Boolean]",a="[object Date]",s="[object Map]",c="[object Number]",l="[object RegExp]",u="[object Set]",d="[object String]",f="[object Symbol]",h="[object ArrayBuffer]",p="[object DataView]",g="[object Float32Array]",m="[object Float64Array]",v="[object Int8Array]",b="[object Int16Array]",_="[object Int32Array]",w="[object Uint8Array]",A="[object Uint8ClampedArray]",N="[object Uint16Array]",T="[object Uint32Array]";function q(M,L,F){var O=M.constructor;switch(L){case h:return e(M);case o:case a:return new O(+M);case p:return t(M,F);case g:case m:case v:case b:case _:case w:case A:case N:case T:return i(M,F);case s:return new O;case c:case d:return new O(M);case l:return n(M);case u:return new O;case f:return r(M)}}return Ti=q,Ti}var Ri,tl;function kx(){if(tl)return Ri;tl=1;var e=on(),t=qn,n="[object Map]";function r(i){return t(i)&&e(i)==n}return Ri=r,Ri}var ki,nl;function qx(){if(nl)return ki;nl=1;var e=kx(),t=zs,n=rh,r=n&&n.isMap,i=r?t(r):e;return ki=i,ki}var qi,rl;function Lx(){if(rl)return qi;rl=1;var e=on(),t=qn,n="[object Set]";function r(i){return t(i)&&e(i)==n}return qi=r,qi}var Li,il;function Px(){if(il)return Li;il=1;var e=Lx(),t=zs,n=rh,r=n&&n.isSet,i=r?t(r):e;return Li=i,Li}var Pi,ol;function ig(){if(ol)return Pi;ol=1;var e=Hs,t=pc(),n=Bs,r=wx(),i=bx(),o=ev,a=tv,s=_x(),c=xx(),l=ng(),u=Ex(),d=on(),f=Ix(),h=Rx(),p=nv,g=Ee,m=Sr,v=qx(),b=Ln,_=Px(),w=It(),A=Rn,N=1,T=2,q=4,M="[object Arguments]",L="[object Array]",F="[object Boolean]",O="[object Date]",P="[object Error]",y="[object Function]",C="[object GeneratorFunction]",x="[object Map]",R="[object Number]",$="[object Object]",E="[object RegExp]",k="[object Set]",D="[object String]",z="[object Symbol]",G="[object WeakMap]",B="[object ArrayBuffer]",Z="[object DataView]",J="[object Float32Array]",H="[object Float64Array]",V="[object Int8Array]",K="[object Int16Array]",j="[object Int32Array]",ie="[object Uint8Array]",oe="[object Uint8ClampedArray]",de="[object Uint16Array]",me="[object Uint32Array]",X={};X[M]=X[L]=X[B]=X[Z]=X[F]=X[O]=X[J]=X[H]=X[V]=X[K]=X[j]=X[x]=X[R]=X[$]=X[E]=X[k]=X[D]=X[z]=X[ie]=X[oe]=X[de]=X[me]=!0,X[P]=X[y]=X[G]=!1;function we(W,Y,he,Be,Ze,Ie){var ge,Me=Y&N,Ve=Y&T,tt=Y&q;if(he&&(ge=Ze?he(W,Be,Ze,Ie):he(W)),ge!==void 0)return ge;if(!b(W))return W;var Xe=g(W);if(Xe){if(ge=f(W),!Me)return a(W,ge)}else{var qe=d(W),nt=qe==y||qe==C;if(m(W))return o(W,Me);if(qe==$||qe==M||nt&&!Ze){if(ge=Ve||nt?{}:p(W),!Me)return Ve?c(W,i(ge,W)):s(W,r(ge,W))}else{if(!X[qe])return Ze?W:{};ge=h(W,qe,Me)}}Ie||(Ie=new e);var pt=Ie.get(W);if(pt)return pt;Ie.set(W,ge),_(W)?W.forEach(function(Ne){ge.add(we(Ne,Y,he,Ne,W,Ie))}):v(W)&&W.forEach(function(Ne,Ae){ge.set(Ae,we(Ne,Y,he,Ae,W,Ie))});var be=tt?Ve?u:l:Ve?A:w,Le=Xe?void 0:be(W);return t(Le||W,function(Ne,Ae){Le&&(Ae=Ne,Ne=W[Ae]),n(ge,Ae,we(Ne,Y,he,Ae,W,Ie))}),ge}return Pi=we,Pi}var $i,al;function $x(){if(al)return $i;al=1;var e=ig(),t=4;function n(r){return e(r,t)}return $i=n,$i}var Di,sl;function yc(){if(sl)return Di;sl=1;var e=ih,t=It();function n(r,i){return r&&e(r,i,t)}return Di=n,Di}var Fi,cl;function Dx(){if(cl)return Fi;cl=1;var e=rn;function t(n,r){return function(i,o){if(i==null)return i;if(!e(i))return n(i,o);for(var a=i.length,s=r?a:-1,c=Object(i);(r?s--:++s<a)&&o(c[s],s,c)!==!1;);return i}}return Fi=t,Fi}var Oi,ul;function Pr(){if(ul)return Oi;ul=1;var e=yc(),t=Dx(),n=t(e);return Oi=n,Oi}var zi,ll;function og(){if(ll)return zi;ll=1;var e=Pn;function t(n){return typeof n=="function"?n:e}return zi=t,zi}var Hi,dl;function ag(){if(dl)return Hi;dl=1;var e=pc(),t=Pr(),n=og(),r=Ee;function i(o,a){var s=r(o)?e:t;return s(o,n(a))}return Hi=i,Hi}var Bi,fl;function sg(){return fl||(fl=1,Bi=ag()),Bi}var Vi,hl;function Fx(){if(hl)return Vi;hl=1;var e=Pr();function t(n,r){var i=[];return e(n,function(o,a,s){r(o,a,s)&&i.push(o)}),i}return Vi=t,Vi}var Gi,pl;function Ox(){if(pl)return Gi;pl=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return Gi=t,Gi}var Ui,gl;function zx(){if(gl)return Ui;gl=1;function e(t){return this.__data__.has(t)}return Ui=e,Ui}var Yi,ml;function cg(){if(ml)return Yi;ml=1;var e=oh,t=Ox(),n=zx();function r(i){var o=-1,a=i==null?0:i.length;for(this.__data__=new e;++o<a;)this.add(i[o])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,Yi=r,Yi}var Wi,vl;function Hx(){if(vl)return Wi;vl=1;function e(t,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(t[r],r,t))return!0;return!1}return Wi=e,Wi}var Ki,yl;function ug(){if(yl)return Ki;yl=1;function e(t,n){return t.has(n)}return Ki=e,Ki}var Zi,wl;function lg(){if(wl)return Zi;wl=1;var e=cg(),t=Hx(),n=ug(),r=1,i=2;function o(a,s,c,l,u,d){var f=c&r,h=a.length,p=s.length;if(h!=p&&!(f&&p>h))return!1;var g=d.get(a),m=d.get(s);if(g&&m)return g==s&&m==a;var v=-1,b=!0,_=c&i?new e:void 0;for(d.set(a,s),d.set(s,a);++v<h;){var w=a[v],A=s[v];if(l)var N=f?l(A,w,v,s,a,d):l(w,A,v,a,s,d);if(N!==void 0){if(N)continue;b=!1;break}if(_){if(!t(s,function(T,q){if(!n(_,q)&&(w===T||u(w,T,c,l,d)))return _.push(q)})){b=!1;break}}else if(!(w===A||u(w,A,c,l,d))){b=!1;break}}return d.delete(a),d.delete(s),b}return Zi=o,Zi}var Xi,bl;function Bx(){if(bl)return Xi;bl=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i,o){r[++n]=[o,i]}),r}return Xi=e,Xi}var ji,_l;function wc(){if(_l)return ji;_l=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(i){r[++n]=i}),r}return ji=e,ji}var Qi,xl;function Vx(){if(xl)return Qi;xl=1;var e=Er,t=rv,n=ah,r=lg(),i=Bx(),o=wc(),a=1,s=2,c="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",b="[object DataView]",_=e?e.prototype:void 0,w=_?_.valueOf:void 0;function A(N,T,q,M,L,F,O){switch(q){case b:if(N.byteLength!=T.byteLength||N.byteOffset!=T.byteOffset)return!1;N=N.buffer,T=T.buffer;case v:return!(N.byteLength!=T.byteLength||!F(new t(N),new t(T)));case c:case l:case f:return n(+N,+T);case u:return N.name==T.name&&N.message==T.message;case h:case g:return N==T+"";case d:var P=i;case p:var y=M&a;if(P||(P=o),N.size!=T.size&&!y)return!1;var C=O.get(N);if(C)return C==T;M|=s,O.set(N,T);var x=r(P(N),P(T),M,L,F,O);return O.delete(N),x;case m:if(w)return w.call(N)==w.call(T)}return!1}return Qi=A,Qi}var Ji,El;function Gx(){if(El)return Ji;El=1;var e=ng(),t=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,a,s,c,l,u){var d=s&t,f=e(o),h=f.length,p=e(a),g=p.length;if(h!=g&&!d)return!1;for(var m=h;m--;){var v=f[m];if(!(d?v in a:r.call(a,v)))return!1}var b=u.get(o),_=u.get(a);if(b&&_)return b==a&&_==o;var w=!0;u.set(o,a),u.set(a,o);for(var A=d;++m<h;){v=f[m];var N=o[v],T=a[v];if(c)var q=d?c(T,N,v,a,o,u):c(N,T,v,o,a,u);if(!(q===void 0?N===T||l(N,T,s,c,u):q)){w=!1;break}A||(A=v=="constructor")}if(w&&!A){var M=o.constructor,L=a.constructor;M!=L&&"constructor"in o&&"constructor"in a&&!(typeof M=="function"&&M instanceof M&&typeof L=="function"&&L instanceof L)&&(w=!1)}return u.delete(o),u.delete(a),w}return Ji=i,Ji}var eo,Sl;function Ux(){if(Sl)return eo;Sl=1;var e=Hs,t=lg(),n=Vx(),r=Gx(),i=on(),o=Ee,a=Sr,s=Vs,c=1,l="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function p(g,m,v,b,_,w){var A=o(g),N=o(m),T=A?u:i(g),q=N?u:i(m);T=T==l?d:T,q=q==l?d:q;var M=T==d,L=q==d,F=T==q;if(F&&a(g)){if(!a(m))return!1;A=!0,M=!1}if(F&&!M)return w||(w=new e),A||s(g)?t(g,m,v,b,_,w):n(g,m,T,v,b,_,w);if(!(v&c)){var O=M&&h.call(g,"__wrapped__"),P=L&&h.call(m,"__wrapped__");if(O||P){var y=O?g.value():g,C=P?m.value():m;return w||(w=new e),_(y,C,v,b,w)}}return F?(w||(w=new e),r(g,m,v,b,_,w)):!1}return eo=p,eo}var to,Nl;function dg(){if(Nl)return to;Nl=1;var e=Ux(),t=qn;function n(r,i,o,a,s){return r===i?!0:r==null||i==null||!t(r)&&!t(i)?r!==r&&i!==i:e(r,i,o,a,n,s)}return to=n,to}var no,Cl;function Yx(){if(Cl)return no;Cl=1;var e=Hs,t=dg(),n=1,r=2;function i(o,a,s,c){var l=s.length,u=l,d=!c;if(o==null)return!u;for(o=Object(o);l--;){var f=s[l];if(d&&f[2]?f[1]!==o[f[0]]:!(f[0]in o))return!1}for(;++l<u;){f=s[l];var h=f[0],p=o[h],g=f[1];if(d&&f[2]){if(p===void 0&&!(h in o))return!1}else{var m=new e;if(c)var v=c(p,g,h,o,a,m);if(!(v===void 0?t(g,p,n|r,c,m):v))return!1}}return!0}return no=i,no}var ro,Il;function fg(){if(Il)return ro;Il=1;var e=Ln;function t(n){return n===n&&!e(n)}return ro=t,ro}var io,Al;function Wx(){if(Al)return io;Al=1;var e=fg(),t=It();function n(r){for(var i=t(r),o=i.length;o--;){var a=i[o],s=r[a];i[o]=[a,s,e(s)]}return i}return io=n,io}var oo,Ml;function hg(){if(Ml)return oo;Ml=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return oo=e,oo}var ao,Tl;function Kx(){if(Tl)return ao;Tl=1;var e=Yx(),t=Wx(),n=hg();function r(i){var o=t(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(a){return a===i||e(a,i,o)}}return ao=r,ao}var so,Rl;function an(){if(Rl)return so;Rl=1;var e=Os,t=qn,n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return so=r,so}var co,kl;function bc(){if(kl)return co;kl=1;var e=Ee,t=an(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,a){if(e(o))return!1;var s=typeof o;return s=="number"||s=="symbol"||s=="boolean"||o==null||t(o)?!0:r.test(o)||!n.test(o)||a!=null&&o in Object(a)}return co=i,co}var uo,ql;function Zx(){if(ql)return uo;ql=1;var e=oh,t="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var o=function(){var a=arguments,s=i?i.apply(this,a):a[0],c=o.cache;if(c.has(s))return c.get(s);var l=r.apply(this,a);return o.cache=c.set(s,l)||c,l};return o.cache=new(n.Cache||e),o}return n.Cache=e,uo=n,uo}var lo,Ll;function Xx(){if(Ll)return lo;Ll=1;var e=Zx(),t=500;function n(r){var i=e(r,function(a){return o.size===t&&o.clear(),a}),o=i.cache;return i}return lo=n,lo}var fo,Pl;function jx(){if(Pl)return fo;Pl=1;var e=Xx(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(t,function(a,s,c,l){o.push(c?l.replace(n,"$1"):s||a)}),o});return fo=r,fo}var ho,$l;function $r(){if($l)return ho;$l=1;function e(t,n){for(var r=-1,i=t==null?0:t.length,o=Array(i);++r<i;)o[r]=n(t[r],r,t);return o}return ho=e,ho}var po,Dl;function Qx(){if(Dl)return po;Dl=1;var e=Er,t=$r(),n=Ee,r=an(),i=1/0,o=e?e.prototype:void 0,a=o?o.toString:void 0;function s(c){if(typeof c=="string")return c;if(n(c))return t(c,s)+"";if(r(c))return a?a.call(c):"";var l=c+"";return l=="0"&&1/c==-i?"-0":l}return po=s,po}var go,Fl;function pg(){if(Fl)return go;Fl=1;var e=Qx();function t(n){return n==null?"":e(n)}return go=t,go}var mo,Ol;function Dr(){if(Ol)return mo;Ol=1;var e=Ee,t=bc(),n=jx(),r=pg();function i(o,a){return e(o)?o:t(o,a)?[o]:n(r(o))}return mo=i,mo}var vo,zl;function On(){if(zl)return vo;zl=1;var e=an(),t=1/0;function n(r){if(typeof r=="string"||e(r))return r;var i=r+"";return i=="0"&&1/r==-t?"-0":i}return vo=n,vo}var yo,Hl;function Fr(){if(Hl)return yo;Hl=1;var e=Dr(),t=On();function n(r,i){i=e(i,r);for(var o=0,a=i.length;r!=null&&o<a;)r=r[t(i[o++])];return o&&o==a?r:void 0}return yo=n,yo}var wo,Bl;function Jx(){if(Bl)return wo;Bl=1;var e=Fr();function t(n,r,i){var o=n==null?void 0:e(n,r);return o===void 0?i:o}return wo=t,wo}var bo,Vl;function eE(){if(Vl)return bo;Vl=1;function e(t,n){return t!=null&&n in Object(t)}return bo=e,bo}var _o,Gl;function gg(){if(Gl)return _o;Gl=1;var e=Dr(),t=Gs,n=Ee,r=sh,i=iv,o=On();function a(s,c,l){c=e(c,s);for(var u=-1,d=c.length,f=!1;++u<d;){var h=o(c[u]);if(!(f=s!=null&&l(s,h)))break;s=s[h]}return f||++u!=d?f:(d=s==null?0:s.length,!!d&&i(d)&&r(h,d)&&(n(s)||t(s)))}return _o=a,_o}var xo,Ul;function mg(){if(Ul)return xo;Ul=1;var e=eE(),t=gg();function n(r,i){return r!=null&&t(r,i,e)}return xo=n,xo}var Eo,Yl;function tE(){if(Yl)return Eo;Yl=1;var e=dg(),t=Jx(),n=mg(),r=bc(),i=fg(),o=hg(),a=On(),s=1,c=2;function l(u,d){return r(u)&&i(d)?o(a(u),d):function(f){var h=t(f,u);return h===void 0&&h===d?n(f,u):e(d,h,s|c)}}return Eo=l,Eo}var So,Wl;function vg(){if(Wl)return So;Wl=1;function e(t){return function(n){return n?.[t]}}return So=e,So}var No,Kl;function nE(){if(Kl)return No;Kl=1;var e=Fr();function t(n){return function(r){return e(r,n)}}return No=t,No}var Co,Zl;function rE(){if(Zl)return Co;Zl=1;var e=vg(),t=nE(),n=bc(),r=On();function i(o){return n(o)?e(r(o)):t(o)}return Co=i,Co}var Io,Xl;function ht(){if(Xl)return Io;Xl=1;var e=Kx(),t=tE(),n=Pn,r=Ee,i=rE();function o(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?r(a)?t(a[0],a[1]):e(a):i(a)}return Io=o,Io}var Ao,jl;function yg(){if(jl)return Ao;jl=1;var e=Qp(),t=Fx(),n=ht(),r=Ee;function i(o,a){var s=r(o)?e:t;return s(o,n(a,3))}return Ao=i,Ao}var Mo,Ql;function iE(){if(Ql)return Mo;Ql=1;var e=Object.prototype,t=e.hasOwnProperty;function n(r,i){return r!=null&&t.call(r,i)}return Mo=n,Mo}var To,Jl;function wg(){if(Jl)return To;Jl=1;var e=iE(),t=gg();function n(r,i){return r!=null&&t(r,i,e)}return To=n,To}var Ro,ed;function oE(){if(ed)return Ro;ed=1;var e=gc(),t=on(),n=Gs,r=Ee,i=rn,o=Sr,a=eh,s=Vs,c="[object Map]",l="[object Set]",u=Object.prototype,d=u.hasOwnProperty;function f(h){if(h==null)return!0;if(i(h)&&(r(h)||typeof h=="string"||typeof h.splice=="function"||o(h)||s(h)||n(h)))return!h.length;var p=t(h);if(p==c||p==l)return!h.size;if(a(h))return!e(h).length;for(var g in h)if(d.call(h,g))return!1;return!0}return Ro=f,Ro}var ko,td;function bg(){if(td)return ko;td=1;function e(t){return t===void 0}return ko=e,ko}var qo,nd;function _g(){if(nd)return qo;nd=1;var e=Pr(),t=rn;function n(r,i){var o=-1,a=t(r)?Array(r.length):[];return e(r,function(s,c,l){a[++o]=i(s,c,l)}),a}return qo=n,qo}var Lo,rd;function xg(){if(rd)return Lo;rd=1;var e=$r(),t=ht(),n=_g(),r=Ee;function i(o,a){var s=r(o)?e:n;return s(o,t(a,3))}return Lo=i,Lo}var Po,id;function aE(){if(id)return Po;id=1;function e(t,n,r,i){var o=-1,a=t==null?0:t.length;for(i&&a&&(r=t[++o]);++o<a;)r=n(r,t[o],o,t);return r}return Po=e,Po}var $o,od;function sE(){if(od)return $o;od=1;function e(t,n,r,i,o){return o(t,function(a,s,c){r=i?(i=!1,a):n(r,a,s,c)}),r}return $o=e,$o}var Do,ad;function Eg(){if(ad)return Do;ad=1;var e=aE(),t=Pr(),n=ht(),r=sE(),i=Ee;function o(a,s,c){var l=i(a)?e:r,u=arguments.length<3;return l(a,n(s,4),c,u,t)}return Do=o,Do}var Fo,sd;function cE(){if(sd)return Fo;sd=1;var e=Os,t=Ee,n=qn,r="[object String]";function i(o){return typeof o=="string"||!t(o)&&n(o)&&e(o)==r}return Fo=i,Fo}var Oo,cd;function uE(){if(cd)return Oo;cd=1;var e=vg(),t=e("length");return Oo=t,Oo}var zo,ud;function lE(){if(ud)return zo;ud=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="\\u200d",s=RegExp("["+a+e+i+o+"]");function c(l){return s.test(l)}return zo=c,zo}var Ho,ld;function dE(){if(ld)return Ho;ld=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=t+n+r,o="\\ufe0e\\ufe0f",a="["+e+"]",s="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",l="(?:"+s+"|"+c+")",u="[^"+e+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",p=l+"?",g="["+o+"]?",m="(?:"+h+"(?:"+[u,d,f].join("|")+")"+g+p+")*",v=g+p+m,b="(?:"+[u+s+"?",s,d,f,a].join("|")+")",_=RegExp(c+"(?="+c+")|"+b+v,"g");function w(A){for(var N=_.lastIndex=0;_.test(A);)++N;return N}return Ho=w,Ho}var Bo,dd;function fE(){if(dd)return Bo;dd=1;var e=uE(),t=lE(),n=dE();function r(i){return t(i)?n(i):e(i)}return Bo=r,Bo}var Vo,fd;function hE(){if(fd)return Vo;fd=1;var e=gc(),t=on(),n=rn,r=cE(),i=fE(),o="[object Map]",a="[object Set]";function s(c){if(c==null)return 0;if(n(c))return r(c)?i(c):c.length;var l=t(c);return l==o||l==a?c.size:e(c).length}return Vo=s,Vo}var Go,hd;function pE(){if(hd)return Go;hd=1;var e=pc(),t=ov,n=yc(),r=ht(),i=th,o=Ee,a=Sr,s=ch,c=Ln,l=Vs;function u(d,f,h){var p=o(d),g=p||a(d)||l(d);if(f=r(f,4),h==null){var m=d&&d.constructor;g?h=p?new m:[]:c(d)?h=s(m)?t(i(d)):{}:h={}}return(g?e:n)(d,function(v,b,_){return f(h,v,b,_)}),h}return Go=u,Go}var Uo,pd;function gE(){if(pd)return Uo;pd=1;var e=Er,t=Gs,n=Ee,r=e?e.isConcatSpreadable:void 0;function i(o){return n(o)||t(o)||!!(r&&o&&o[r])}return Uo=i,Uo}var Yo,gd;function _c(){if(gd)return Yo;gd=1;var e=vc(),t=gE();function n(r,i,o,a,s){var c=-1,l=r.length;for(o||(o=t),s||(s=[]);++c<l;){var u=r[c];i>0&&o(u)?i>1?n(u,i-1,o,a,s):e(s,u):a||(s[s.length]=u)}return s}return Yo=n,Yo}var Wo,md;function Sg(){if(md)return Wo;md=1;function e(t,n,r,i){for(var o=t.length,a=r+(i?1:-1);i?a--:++a<o;)if(n(t[a],a,t))return a;return-1}return Wo=e,Wo}var Ko,vd;function mE(){if(vd)return Ko;vd=1;function e(t){return t!==t}return Ko=e,Ko}var Zo,yd;function vE(){if(yd)return Zo;yd=1;function e(t,n,r){for(var i=r-1,o=t.length;++i<o;)if(t[i]===n)return i;return-1}return Zo=e,Zo}var Xo,wd;function yE(){if(wd)return Xo;wd=1;var e=Sg(),t=mE(),n=vE();function r(i,o,a){return o===o?n(i,o,a):e(i,t,a)}return Xo=r,Xo}var jo,bd;function wE(){if(bd)return jo;bd=1;var e=yE();function t(n,r){var i=n==null?0:n.length;return!!i&&e(n,r,0)>-1}return jo=t,jo}var Qo,_d;function bE(){if(_d)return Qo;_d=1;function e(t,n,r){for(var i=-1,o=t==null?0:t.length;++i<o;)if(r(n,t[i]))return!0;return!1}return Qo=e,Qo}var Jo,xd;function _E(){if(xd)return Jo;xd=1;function e(){}return Jo=e,Jo}var ea,Ed;function xE(){if(Ed)return ea;Ed=1;var e=rg(),t=_E(),n=wc(),r=1/0,i=e&&1/n(new e([,-0]))[1]==r?function(o){return new e(o)}:t;return ea=i,ea}var ta,Sd;function EE(){if(Sd)return ta;Sd=1;var e=cg(),t=wE(),n=bE(),r=ug(),i=xE(),o=wc(),a=200;function s(c,l,u){var d=-1,f=t,h=c.length,p=!0,g=[],m=g;if(u)p=!1,f=n;else if(h>=a){var v=l?null:i(c);if(v)return o(v);p=!1,f=r,m=new e}else m=l?[]:g;e:for(;++d<h;){var b=c[d],_=l?l(b):b;if(b=u||b!==0?b:0,p&&_===_){for(var w=m.length;w--;)if(m[w]===_)continue e;l&&m.push(_),g.push(b)}else f(m,_,u)||(m!==g&&m.push(_),g.push(b))}return g}return ta=s,ta}var na,Nd;function SE(){if(Nd)return na;Nd=1;var e=_c(),t=Us,n=EE(),r=av,i=t(function(o){return n(e(o,1,r,!0))});return na=i,na}var ra,Cd;function NE(){if(Cd)return ra;Cd=1;var e=$r();function t(n,r){return e(r,function(i){return n[i]})}return ra=t,ra}var ia,Id;function Ng(){if(Id)return ia;Id=1;var e=NE(),t=It();function n(r){return r==null?[]:e(r,t(r))}return ia=n,ia}var oa,Ad;function He(){if(Ad)return oa;Ad=1;var e;if(typeof Ys=="function")try{e={clone:$x(),constant:uh(),each:sg(),filter:yg(),has:wg(),isArray:Ee,isEmpty:oE(),isFunction:ch,isUndefined:bg(),keys:It(),map:xg(),reduce:Eg(),size:hE(),transform:pE(),union:SE(),values:Ng()}}catch{}return e||(e=window._),oa=e,oa}var aa,Md;function xc(){if(Md)return aa;Md=1;var e=He();aa=i;var t="\0",n="\0",r="";function i(u){this._isDirected=e.has(u,"directed")?u.directed:!0,this._isMultigraph=e.has(u,"multigraph")?u.multigraph:!1,this._isCompound=e.has(u,"compound")?u.compound:!1,this._label=void 0,this._defaultNodeLabelFn=e.constant(void 0),this._defaultEdgeLabelFn=e.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[n]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}i.prototype._nodeCount=0,i.prototype._edgeCount=0,i.prototype.isDirected=function(){return this._isDirected},i.prototype.isMultigraph=function(){return this._isMultigraph},i.prototype.isCompound=function(){return this._isCompound},i.prototype.setGraph=function(u){return this._label=u,this},i.prototype.graph=function(){return this._label},i.prototype.setDefaultNodeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultNodeLabelFn=u,this},i.prototype.nodeCount=function(){return this._nodeCount},i.prototype.nodes=function(){return e.keys(this._nodes)},i.prototype.sources=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._in[d])})},i.prototype.sinks=function(){var u=this;return e.filter(this.nodes(),function(d){return e.isEmpty(u._out[d])})},i.prototype.setNodes=function(u,d){var f=arguments,h=this;return e.each(u,function(p){f.length>1?h.setNode(p,d):h.setNode(p)}),this},i.prototype.setNode=function(u,d){return e.has(this._nodes,u)?(arguments.length>1&&(this._nodes[u]=d),this):(this._nodes[u]=arguments.length>1?d:this._defaultNodeLabelFn(u),this._isCompound&&(this._parent[u]=n,this._children[u]={},this._children[n][u]=!0),this._in[u]={},this._preds[u]={},this._out[u]={},this._sucs[u]={},++this._nodeCount,this)},i.prototype.node=function(u){return this._nodes[u]},i.prototype.hasNode=function(u){return e.has(this._nodes,u)},i.prototype.removeNode=function(u){var d=this;if(e.has(this._nodes,u)){var f=function(h){d.removeEdge(d._edgeObjs[h])};delete this._nodes[u],this._isCompound&&(this._removeFromParentsChildList(u),delete this._parent[u],e.each(this.children(u),function(h){d.setParent(h)}),delete this._children[u]),e.each(e.keys(this._in[u]),f),delete this._in[u],delete this._preds[u],e.each(e.keys(this._out[u]),f),delete this._out[u],delete this._sucs[u],--this._nodeCount}return this},i.prototype.setParent=function(u,d){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(e.isUndefined(d))d=n;else{d+="";for(var f=d;!e.isUndefined(f);f=this.parent(f))if(f===u)throw new Error("Setting "+d+" as parent of "+u+" would create a cycle");this.setNode(d)}return this.setNode(u),this._removeFromParentsChildList(u),this._parent[u]=d,this._children[d][u]=!0,this},i.prototype._removeFromParentsChildList=function(u){delete this._children[this._parent[u]][u]},i.prototype.parent=function(u){if(this._isCompound){var d=this._parent[u];if(d!==n)return d}},i.prototype.children=function(u){if(e.isUndefined(u)&&(u=n),this._isCompound){var d=this._children[u];if(d)return e.keys(d)}else{if(u===n)return this.nodes();if(this.hasNode(u))return[]}},i.prototype.predecessors=function(u){var d=this._preds[u];if(d)return e.keys(d)},i.prototype.successors=function(u){var d=this._sucs[u];if(d)return e.keys(d)},i.prototype.neighbors=function(u){var d=this.predecessors(u);if(d)return e.union(d,this.successors(u))},i.prototype.isLeaf=function(u){var d;return this.isDirected()?d=this.successors(u):d=this.neighbors(u),d.length===0},i.prototype.filterNodes=function(u){var d=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});d.setGraph(this.graph());var f=this;e.each(this._nodes,function(g,m){u(m)&&d.setNode(m,g)}),e.each(this._edgeObjs,function(g){d.hasNode(g.v)&&d.hasNode(g.w)&&d.setEdge(g,f.edge(g))});var h={};function p(g){var m=f.parent(g);return m===void 0||d.hasNode(m)?(h[g]=m,m):m in h?h[m]:p(m)}return this._isCompound&&e.each(d.nodes(),function(g){d.setParent(g,p(g))}),d},i.prototype.setDefaultEdgeLabel=function(u){return e.isFunction(u)||(u=e.constant(u)),this._defaultEdgeLabelFn=u,this},i.prototype.edgeCount=function(){return this._edgeCount},i.prototype.edges=function(){return e.values(this._edgeObjs)},i.prototype.setPath=function(u,d){var f=this,h=arguments;return e.reduce(u,function(p,g){return h.length>1?f.setEdge(p,g,d):f.setEdge(p,g),g}),this},i.prototype.setEdge=function(){var u,d,f,h,p=!1,g=arguments[0];typeof g=="object"&&g!==null&&"v"in g?(u=g.v,d=g.w,f=g.name,arguments.length===2&&(h=arguments[1],p=!0)):(u=g,d=arguments[1],f=arguments[3],arguments.length>2&&(h=arguments[2],p=!0)),u=""+u,d=""+d,e.isUndefined(f)||(f=""+f);var m=s(this._isDirected,u,d,f);if(e.has(this._edgeLabels,m))return p&&(this._edgeLabels[m]=h),this;if(!e.isUndefined(f)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(u),this.setNode(d),this._edgeLabels[m]=p?h:this._defaultEdgeLabelFn(u,d,f);var v=c(this._isDirected,u,d,f);return u=v.v,d=v.w,Object.freeze(v),this._edgeObjs[m]=v,o(this._preds[d],u),o(this._sucs[u],d),this._in[d][m]=v,this._out[u][m]=v,this._edgeCount++,this},i.prototype.edge=function(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return this._edgeLabels[h]},i.prototype.hasEdge=function(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,u,d,f);return e.has(this._edgeLabels,h)},i.prototype.removeEdge=function(u,d,f){var h=arguments.length===1?l(this._isDirected,arguments[0]):s(this._isDirected,u,d,f),p=this._edgeObjs[h];return p&&(u=p.v,d=p.w,delete this._edgeLabels[h],delete this._edgeObjs[h],a(this._preds[d],u),a(this._sucs[u],d),delete this._in[d][h],delete this._out[u][h],this._edgeCount--),this},i.prototype.inEdges=function(u,d){var f=this._in[u];if(f){var h=e.values(f);return d?e.filter(h,function(p){return p.v===d}):h}},i.prototype.outEdges=function(u,d){var f=this._out[u];if(f){var h=e.values(f);return d?e.filter(h,function(p){return p.w===d}):h}},i.prototype.nodeEdges=function(u,d){var f=this.inEdges(u,d);if(f)return f.concat(this.outEdges(u,d))};function o(u,d){u[d]?u[d]++:u[d]=1}function a(u,d){--u[d]||delete u[d]}function s(u,d,f,h){var p=""+d,g=""+f;if(!u&&p>g){var m=p;p=g,g=m}return p+r+g+r+(e.isUndefined(h)?t:h)}function c(u,d,f,h){var p=""+d,g=""+f;if(!u&&p>g){var m=p;p=g,g=m}var v={v:p,w:g};return h&&(v.name=h),v}function l(u,d){return s(u,d.v,d.w,d.name)}return aa}var sa,Td;function CE(){return Td||(Td=1,sa="2.1.8"),sa}var ca,Rd;function IE(){return Rd||(Rd=1,ca={Graph:xc(),version:CE()}),ca}var ua,kd;function AE(){if(kd)return ua;kd=1;var e=He(),t=xc();ua={write:n,read:o};function n(a){var s={options:{directed:a.isDirected(),multigraph:a.isMultigraph(),compound:a.isCompound()},nodes:r(a),edges:i(a)};return e.isUndefined(a.graph())||(s.value=e.clone(a.graph())),s}function r(a){return e.map(a.nodes(),function(s){var c=a.node(s),l=a.parent(s),u={v:s};return e.isUndefined(c)||(u.value=c),e.isUndefined(l)||(u.parent=l),u})}function i(a){return e.map(a.edges(),function(s){var c=a.edge(s),l={v:s.v,w:s.w};return e.isUndefined(s.name)||(l.name=s.name),e.isUndefined(c)||(l.value=c),l})}function o(a){var s=new t(a.options).setGraph(a.value);return e.each(a.nodes,function(c){s.setNode(c.v,c.value),c.parent&&s.setParent(c.v,c.parent)}),e.each(a.edges,function(c){s.setEdge({v:c.v,w:c.w,name:c.name},c.value)}),s}return ua}var la,qd;function ME(){if(qd)return la;qd=1;var e=He();la=t;function t(n){var r={},i=[],o;function a(s){e.has(r,s)||(r[s]=!0,o.push(s),e.each(n.successors(s),a),e.each(n.predecessors(s),a))}return e.each(n.nodes(),function(s){o=[],a(s),o.length&&i.push(o)}),i}return la}var da,Ld;function Cg(){if(Ld)return da;Ld=1;var e=He();da=t;function t(){this._arr=[],this._keyIndices={}}return t.prototype.size=function(){return this._arr.length},t.prototype.keys=function(){return this._arr.map(function(n){return n.key})},t.prototype.has=function(n){return e.has(this._keyIndices,n)},t.prototype.priority=function(n){var r=this._keyIndices[n];if(r!==void 0)return this._arr[r].priority},t.prototype.min=function(){if(this.size()===0)throw new Error("Queue underflow");return this._arr[0].key},t.prototype.add=function(n,r){var i=this._keyIndices;if(n=String(n),!e.has(i,n)){var o=this._arr,a=o.length;return i[n]=a,o.push({key:n,priority:r}),this._decrease(a),!0}return!1},t.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var n=this._arr.pop();return delete this._keyIndices[n.key],this._heapify(0),n.key},t.prototype.decrease=function(n,r){var i=this._keyIndices[n];if(r>this._arr[i].priority)throw new Error("New priority is greater than current priority. Key: "+n+" Old: "+this._arr[i].priority+" New: "+r);this._arr[i].priority=r,this._decrease(i)},t.prototype._heapify=function(n){var r=this._arr,i=2*n,o=i+1,a=n;i<r.length&&(a=r[i].priority<r[a].priority?i:a,o<r.length&&(a=r[o].priority<r[a].priority?o:a),a!==n&&(this._swap(n,a),this._heapify(a)))},t.prototype._decrease=function(n){for(var r=this._arr,i=r[n].priority,o;n!==0&&(o=n>>1,!(r[o].priority<i));)this._swap(n,o),n=o},t.prototype._swap=function(n,r){var i=this._arr,o=this._keyIndices,a=i[n],s=i[r];i[n]=s,i[r]=a,o[s.key]=n,o[a.key]=r},da}var fa,Pd;function Ig(){if(Pd)return fa;Pd=1;var e=He(),t=Cg();fa=r;var n=e.constant(1);function r(o,a,s,c){return i(o,String(a),s||n,c||function(l){return o.outEdges(l)})}function i(o,a,s,c){var l={},u=new t,d,f,h=function(p){var g=p.v!==d?p.v:p.w,m=l[g],v=s(p),b=f.distance+v;if(v<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+p+" Weight: "+v);b<m.distance&&(m.distance=b,m.predecessor=d,u.decrease(g,b))};for(o.nodes().forEach(function(p){var g=p===a?0:Number.POSITIVE_INFINITY;l[p]={distance:g},u.add(p,g)});u.size()>0&&(d=u.removeMin(),f=l[d],f.distance!==Number.POSITIVE_INFINITY);)c(d).forEach(h);return l}return fa}var ha,$d;function TE(){if($d)return ha;$d=1;var e=Ig(),t=He();ha=n;function n(r,i,o){return t.transform(r.nodes(),function(a,s){a[s]=e(r,s,i,o)},{})}return ha}var pa,Dd;function Ag(){if(Dd)return pa;Dd=1;var e=He();pa=t;function t(n){var r=0,i=[],o={},a=[];function s(c){var l=o[c]={onStack:!0,lowlink:r,index:r++};if(i.push(c),n.successors(c).forEach(function(f){e.has(o,f)?o[f].onStack&&(l.lowlink=Math.min(l.lowlink,o[f].index)):(s(f),l.lowlink=Math.min(l.lowlink,o[f].lowlink))}),l.lowlink===l.index){var u=[],d;do d=i.pop(),o[d].onStack=!1,u.push(d);while(c!==d);a.push(u)}}return n.nodes().forEach(function(c){e.has(o,c)||s(c)}),a}return pa}var ga,Fd;function RE(){if(Fd)return ga;Fd=1;var e=He(),t=Ag();ga=n;function n(r){return e.filter(t(r),function(i){return i.length>1||i.length===1&&r.hasEdge(i[0],i[0])})}return ga}var ma,Od;function kE(){if(Od)return ma;Od=1;var e=He();ma=n;var t=e.constant(1);function n(i,o,a){return r(i,o||t,a||function(s){return i.outEdges(s)})}function r(i,o,a){var s={},c=i.nodes();return c.forEach(function(l){s[l]={},s[l][l]={distance:0},c.forEach(function(u){l!==u&&(s[l][u]={distance:Number.POSITIVE_INFINITY})}),a(l).forEach(function(u){var d=u.v===l?u.w:u.v,f=o(u);s[l][d]={distance:f,predecessor:l}})}),c.forEach(function(l){var u=s[l];c.forEach(function(d){var f=s[d];c.forEach(function(h){var p=f[l],g=u[h],m=f[h],v=p.distance+g.distance;v<m.distance&&(m.distance=v,m.predecessor=g.predecessor)})})}),s}return ma}var va,zd;function Mg(){if(zd)return va;zd=1;var e=He();va=t,t.CycleException=n;function t(r){var i={},o={},a=[];function s(c){if(e.has(o,c))throw new n;e.has(i,c)||(o[c]=!0,i[c]=!0,e.each(r.predecessors(c),s),delete o[c],a.push(c))}if(e.each(r.sinks(),s),e.size(i)!==r.nodeCount())throw new n;return a}function n(){}return n.prototype=new Error,va}var ya,Hd;function qE(){if(Hd)return ya;Hd=1;var e=Mg();ya=t;function t(n){try{e(n)}catch(r){if(r instanceof e.CycleException)return!1;throw r}return!0}return ya}var wa,Bd;function Tg(){if(Bd)return wa;Bd=1;var e=He();wa=t;function t(r,i,o){e.isArray(i)||(i=[i]);var a=(r.isDirected()?r.successors:r.neighbors).bind(r),s=[],c={};return e.each(i,function(l){if(!r.hasNode(l))throw new Error("Graph does not have node: "+l);n(r,l,o==="post",c,a,s)}),s}function n(r,i,o,a,s,c){e.has(a,i)||(a[i]=!0,o||c.push(i),e.each(s(i),function(l){n(r,l,o,a,s,c)}),o&&c.push(i))}return wa}var ba,Vd;function LE(){if(Vd)return ba;Vd=1;var e=Tg();ba=t;function t(n,r){return e(n,r,"post")}return ba}var _a,Gd;function PE(){if(Gd)return _a;Gd=1;var e=Tg();_a=t;function t(n,r){return e(n,r,"pre")}return _a}var xa,Ud;function $E(){if(Ud)return xa;Ud=1;var e=He(),t=xc(),n=Cg();xa=r;function r(i,o){var a=new t,s={},c=new n,l;function u(f){var h=f.v===l?f.w:f.v,p=c.priority(h);if(p!==void 0){var g=o(f);g<p&&(s[h]=l,c.decrease(h,g))}}if(i.nodeCount()===0)return a;e.each(i.nodes(),function(f){c.add(f,Number.POSITIVE_INFINITY),a.setNode(f)}),c.decrease(i.nodes()[0],0);for(var d=!1;c.size()>0;){if(l=c.removeMin(),e.has(s,l))a.setEdge(l,s[l]);else{if(d)throw new Error("Input graph is not connected: "+i);d=!0}i.nodeEdges(l).forEach(u)}return a}return xa}var Ea,Yd;function DE(){return Yd||(Yd=1,Ea={components:ME(),dijkstra:Ig(),dijkstraAll:TE(),findCycles:RE(),floydWarshall:kE(),isAcyclic:qE(),postorder:LE(),preorder:PE(),prim:$E(),tarjan:Ag(),topsort:Mg()}),Ea}var Sa,Wd;function FE(){if(Wd)return Sa;Wd=1;var e=IE();return Sa={Graph:e.Graph,json:AE(),alg:DE(),version:e.version},Sa}var pr;if(typeof Ys=="function")try{pr=FE()}catch{}pr||(pr=window.graphlib);var Ke=pr,Na,Kd;function OE(){if(Kd)return Na;Kd=1;var e=ig(),t=1,n=4;function r(i){return e(i,t|n)}return Na=r,Na}var Ca,Zd;function zE(){if(Zd)return Ca;Zd=1;var e=Us,t=ah,n=Ws,r=Rn,i=Object.prototype,o=i.hasOwnProperty,a=e(function(s,c){s=Object(s);var l=-1,u=c.length,d=u>2?c[2]:void 0;for(d&&n(c[0],c[1],d)&&(u=1);++l<u;)for(var f=c[l],h=r(f),p=-1,g=h.length;++p<g;){var m=h[p],v=s[m];(v===void 0||t(v,i[m])&&!o.call(s,m))&&(s[m]=f[m])}return s});return Ca=a,Ca}var Ia,Xd;function HE(){if(Xd)return Ia;Xd=1;var e=ht(),t=rn,n=It();function r(i){return function(o,a,s){var c=Object(o);if(!t(o)){var l=e(a,3);o=n(o),a=function(d){return l(c[d],d,c)}}var u=i(o,a,s);return u>-1?c[l?o[u]:u]:void 0}}return Ia=r,Ia}var Aa,jd;function BE(){if(jd)return Aa;jd=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Aa=t,Aa}var Ma,Qd;function VE(){if(Qd)return Ma;Qd=1;var e=BE(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Ma=n,Ma}var Ta,Jd;function GE(){if(Jd)return Ta;Jd=1;var e=VE(),t=Ln,n=an(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt;function c(l){if(typeof l=="number")return l;if(n(l))return r;if(t(l)){var u=typeof l.valueOf=="function"?l.valueOf():l;l=t(u)?u+"":u}if(typeof l!="string")return l===0?l:+l;l=e(l);var d=o.test(l);return d||a.test(l)?s(l.slice(2),d?2:8):i.test(l)?r:+l}return Ta=c,Ta}var Ra,ef;function Rg(){if(ef)return Ra;ef=1;var e=GE(),t=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var o=i<0?-1:1;return o*n}return i===i?i:0}return Ra=r,Ra}var ka,tf;function UE(){if(tf)return ka;tf=1;var e=Rg();function t(n){var r=e(n),i=r%1;return r===r?i?r-i:r:0}return ka=t,ka}var qa,nf;function YE(){if(nf)return qa;nf=1;var e=Sg(),t=ht(),n=UE(),r=Math.max;function i(o,a,s){var c=o==null?0:o.length;if(!c)return-1;var l=s==null?0:n(s);return l<0&&(l=r(c+l,0)),e(o,t(a,3),l)}return qa=i,qa}var La,rf;function WE(){if(rf)return La;rf=1;var e=HE(),t=YE(),n=e(t);return La=n,La}var Pa,of;function kg(){if(of)return Pa;of=1;var e=_c();function t(n){var r=n==null?0:n.length;return r?e(n,1):[]}return Pa=t,Pa}var $a,af;function KE(){if(af)return $a;af=1;var e=ih,t=og(),n=Rn;function r(i,o){return i==null?i:e(i,t(o),n)}return $a=r,$a}var Da,sf;function ZE(){if(sf)return Da;sf=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return Da=e,Da}var Fa,cf;function XE(){if(cf)return Fa;cf=1;var e=sv,t=yc(),n=ht();function r(i,o){var a={};return o=n(o,3),t(i,function(s,c,l){e(a,c,o(s,c,l))}),a}return Fa=r,Fa}var Oa,uf;function Ec(){if(uf)return Oa;uf=1;var e=an();function t(n,r,i){for(var o=-1,a=n.length;++o<a;){var s=n[o],c=r(s);if(c!=null&&(l===void 0?c===c&&!e(c):i(c,l)))var l=c,u=s}return u}return Oa=t,Oa}var za,lf;function jE(){if(lf)return za;lf=1;function e(t,n){return t>n}return za=e,za}var Ha,df;function QE(){if(df)return Ha;df=1;var e=Ec(),t=jE(),n=Pn;function r(i){return i&&i.length?e(i,n,t):void 0}return Ha=r,Ha}var Ba,ff;function JE(){if(ff)return Ba;ff=1;var e=uv,t=cv,n=t(function(r,i,o){e(r,i,o)});return Ba=n,Ba}var Va,hf;function qg(){if(hf)return Va;hf=1;function e(t,n){return t<n}return Va=e,Va}var Ga,pf;function eS(){if(pf)return Ga;pf=1;var e=Ec(),t=qg(),n=Pn;function r(i){return i&&i.length?e(i,n,t):void 0}return Ga=r,Ga}var Ua,gf;function tS(){if(gf)return Ua;gf=1;var e=Ec(),t=ht(),n=qg();function r(i,o){return i&&i.length?e(i,t(o,2),n):void 0}return Ua=r,Ua}var Ya,mf;function nS(){if(mf)return Ya;mf=1;var e=kn,t=function(){return e.Date.now()};return Ya=t,Ya}var Wa,vf;function rS(){if(vf)return Wa;vf=1;var e=Bs,t=Dr(),n=sh,r=Ln,i=On();function o(a,s,c,l){if(!r(a))return a;s=t(s,a);for(var u=-1,d=s.length,f=d-1,h=a;h!=null&&++u<d;){var p=i(s[u]),g=c;if(p==="__proto__"||p==="constructor"||p==="prototype")return a;if(u!=f){var m=h[p];g=l?l(m,p,h):void 0,g===void 0&&(g=r(m)?m:n(s[u+1])?[]:{})}e(h,p,g),h=h[p]}return a}return Wa=o,Wa}var Ka,yf;function iS(){if(yf)return Ka;yf=1;var e=Fr(),t=rS(),n=Dr();function r(i,o,a){for(var s=-1,c=o.length,l={};++s<c;){var u=o[s],d=e(i,u);a(d,u)&&t(l,n(u,i),d)}return l}return Ka=r,Ka}var Za,wf;function oS(){if(wf)return Za;wf=1;var e=iS(),t=mg();function n(r,i){return e(r,i,function(o,a){return t(r,a)})}return Za=n,Za}var Xa,bf;function aS(){if(bf)return Xa;bf=1;var e=kg(),t=lv,n=dv;function r(i){return n(t(i,void 0,e),i+"")}return Xa=r,Xa}var ja,_f;function sS(){if(_f)return ja;_f=1;var e=oS(),t=aS(),n=t(function(r,i){return r==null?{}:e(r,i)});return ja=n,ja}var Qa,xf;function cS(){if(xf)return Qa;xf=1;var e=Math.ceil,t=Math.max;function n(r,i,o,a){for(var s=-1,c=t(e((i-r)/(o||1)),0),l=Array(c);c--;)l[a?c:++s]=r,r+=o;return l}return Qa=n,Qa}var Ja,Ef;function uS(){if(Ef)return Ja;Ef=1;var e=cS(),t=Ws,n=Rg();function r(i){return function(o,a,s){return s&&typeof s!="number"&&t(o,a,s)&&(a=s=void 0),o=n(o),a===void 0?(a=o,o=0):a=n(a),s=s===void 0?o<a?1:-1:n(s),e(o,a,s,i)}}return Ja=r,Ja}var es,Sf;function lS(){if(Sf)return es;Sf=1;var e=uS(),t=e();return es=t,es}var ts,Nf;function dS(){if(Nf)return ts;Nf=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return ts=e,ts}var ns,Cf;function fS(){if(Cf)return ns;Cf=1;var e=an();function t(n,r){if(n!==r){var i=n!==void 0,o=n===null,a=n===n,s=e(n),c=r!==void 0,l=r===null,u=r===r,d=e(r);if(!l&&!d&&!s&&n>r||s&&c&&u&&!l&&!d||o&&c&&u||!i&&u||!a)return 1;if(!o&&!s&&!d&&n<r||d&&i&&a&&!o&&!s||l&&i&&a||!c&&a||!u)return-1}return 0}return ns=t,ns}var rs,If;function hS(){if(If)return rs;If=1;var e=fS();function t(n,r,i){for(var o=-1,a=n.criteria,s=r.criteria,c=a.length,l=i.length;++o<c;){var u=e(a[o],s[o]);if(u){if(o>=l)return u;var d=i[o];return u*(d=="desc"?-1:1)}}return n.index-r.index}return rs=t,rs}var is,Af;function pS(){if(Af)return is;Af=1;var e=$r(),t=Fr(),n=ht(),r=_g(),i=dS(),o=zs,a=hS(),s=Pn,c=Ee;function l(u,d,f){d.length?d=e(d,function(g){return c(g)?function(m){return t(m,g.length===1?g[0]:g)}:g}):d=[s];var h=-1;d=e(d,o(n));var p=r(u,function(g,m,v){var b=e(d,function(_){return _(g)});return{criteria:b,index:++h,value:g}});return i(p,function(g,m){return a(g,m,f)})}return is=l,is}var os,Mf;function gS(){if(Mf)return os;Mf=1;var e=_c(),t=pS(),n=Us,r=Ws,i=n(function(o,a){if(o==null)return[];var s=a.length;return s>1&&r(o,a[0],a[1])?a=[]:s>2&&r(a[0],a[1],a[2])&&(a=[a[0]]),t(o,e(a,1),[])});return os=i,os}var as,Tf;function mS(){if(Tf)return as;Tf=1;var e=pg(),t=0;function n(r){var i=++t;return e(r)+i}return as=n,as}var ss,Rf;function vS(){if(Rf)return ss;Rf=1;function e(t,n,r){for(var i=-1,o=t.length,a=n.length,s={};++i<o;){var c=i<a?n[i]:void 0;r(s,t[i],c)}return s}return ss=e,ss}var cs,kf;function yS(){if(kf)return cs;kf=1;var e=Bs,t=vS();function n(r,i){return t(r||[],i||[],e)}return cs=n,cs}var gr;if(typeof Ys=="function")try{gr={cloneDeep:OE(),constant:uh(),defaults:zE(),each:sg(),filter:yg(),find:WE(),flatten:kg(),forEach:ag(),forIn:KE(),has:wg(),isUndefined:bg(),last:ZE(),map:xg(),mapValues:XE(),max:QE(),merge:JE(),min:eS(),minBy:tS(),now:nS(),pick:sS(),range:lS(),reduce:Eg(),sortBy:gS(),uniqueId:mS(),values:Ng(),zipObject:yS()}}catch{}gr||(gr=window._);var fe=gr,wS=Or;function Or(){var e={};e._next=e._prev=e,this._sentinel=e}Or.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return Lg(t),t};Or.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&Lg(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t};Or.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,bS)),n=n._prev;return"["+e.join(", ")+"]"};function Lg(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function bS(e,t){if(e!=="_next"&&e!=="_prev")return t}var at=fe,_S=Ke.Graph,xS=wS,ES=NS,SS=at.constant(1);function NS(e,t){if(e.nodeCount()<=1)return[];var n=IS(e,t||SS),r=CS(n.graph,n.buckets,n.zeroIdx);return at.flatten(at.map(r,function(i){return e.outEdges(i.v,i.w)}),!0)}function CS(e,t,n){for(var r=[],i=t[t.length-1],o=t[0],a;e.nodeCount();){for(;a=o.dequeue();)us(e,t,n,a);for(;a=i.dequeue();)us(e,t,n,a);if(e.nodeCount()){for(var s=t.length-2;s>0;--s)if(a=t[s].dequeue(),a){r=r.concat(us(e,t,n,a,!0));break}}}return r}function us(e,t,n,r,i){var o=i?[]:void 0;return at.forEach(e.inEdges(r.v),function(a){var s=e.edge(a),c=e.node(a.v);i&&o.push({v:a.v,w:a.w}),c.out-=s,qs(t,n,c)}),at.forEach(e.outEdges(r.v),function(a){var s=e.edge(a),c=a.w,l=e.node(c);l.in-=s,qs(t,n,l)}),e.removeNode(r.v),o}function IS(e,t){var n=new _S,r=0,i=0;at.forEach(e.nodes(),function(s){n.setNode(s,{v:s,in:0,out:0})}),at.forEach(e.edges(),function(s){var c=n.edge(s.v,s.w)||0,l=t(s),u=c+l;n.setEdge(s.v,s.w,u),i=Math.max(i,n.node(s.v).out+=l),r=Math.max(r,n.node(s.w).in+=l)});var o=at.range(i+r+3).map(function(){return new xS}),a=r+1;return at.forEach(n.nodes(),function(s){qs(o,a,n.node(s))}),{graph:n,buckets:o,zeroIdx:a}}function qs(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}var Lt=fe,AS=ES,MS={run:TS,undo:kS};function TS(e){var t=e.graph().acyclicer==="greedy"?AS(e,n(e)):RS(e);Lt.forEach(t,function(r){var i=e.edge(r);e.removeEdge(r),i.forwardName=r.name,i.reversed=!0,e.setEdge(r.w,r.v,i,Lt.uniqueId("rev"))});function n(r){return function(i){return r.edge(i).weight}}}function RS(e){var t=[],n={},r={};function i(o){Lt.has(r,o)||(r[o]=!0,n[o]=!0,Lt.forEach(e.outEdges(o),function(a){Lt.has(n,a.w)?t.push(a):i(a.w)}),delete n[o])}return Lt.forEach(e.nodes(),i),t}function kS(e){Lt.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}var se=fe,Pg=Ke.Graph,ke={addDummyNode:$g,simplify:qS,asNonCompoundGraph:LS,successorWeights:PS,predecessorWeights:$S,intersectRect:DS,buildLayerMatrix:FS,normalizeRanks:OS,removeEmptyRanks:zS,addBorderNode:HS,maxRank:Dg,partition:BS,time:VS,notime:GS};function $g(e,t,n,r){var i;do i=se.uniqueId(r);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}function qS(e){var t=new Pg().setGraph(e.graph());return se.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),se.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},i=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+i.weight,minlen:Math.max(r.minlen,i.minlen)})}),t}function LS(e){var t=new Pg({multigraph:e.isMultigraph()}).setGraph(e.graph());return se.forEach(e.nodes(),function(n){e.children(n).length||t.setNode(n,e.node(n))}),se.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t}function PS(e){var t=se.map(e.nodes(),function(n){var r={};return se.forEach(e.outEdges(n),function(i){r[i.w]=(r[i.w]||0)+e.edge(i).weight}),r});return se.zipObject(e.nodes(),t)}function $S(e){var t=se.map(e.nodes(),function(n){var r={};return se.forEach(e.inEdges(n),function(i){r[i.v]=(r[i.v]||0)+e.edge(i).weight}),r});return se.zipObject(e.nodes(),t)}function DS(e,t){var n=e.x,r=e.y,i=t.x-n,o=t.y-r,a=e.width/2,s=e.height/2;if(!i&&!o)throw new Error("Not possible to find intersection inside of the rectangle");var c,l;return Math.abs(o)*a>Math.abs(i)*s?(o<0&&(s=-s),c=s*i/o,l=s):(i<0&&(a=-a),c=a,l=a*o/i),{x:n+c,y:r+l}}function FS(e){var t=se.map(se.range(Dg(e)+1),function(){return[]});return se.forEach(e.nodes(),function(n){var r=e.node(n),i=r.rank;se.isUndefined(i)||(t[i][r.order]=n)}),t}function OS(e){var t=se.min(se.map(e.nodes(),function(n){return e.node(n).rank}));se.forEach(e.nodes(),function(n){var r=e.node(n);se.has(r,"rank")&&(r.rank-=t)})}function zS(e){var t=se.min(se.map(e.nodes(),function(o){return e.node(o).rank})),n=[];se.forEach(e.nodes(),function(o){var a=e.node(o).rank-t;n[a]||(n[a]=[]),n[a].push(o)});var r=0,i=e.graph().nodeRankFactor;se.forEach(n,function(o,a){se.isUndefined(o)&&a%i!==0?--r:r&&se.forEach(o,function(s){e.node(s).rank+=r})})}function HS(e,t,n,r){var i={width:0,height:0};return arguments.length>=4&&(i.rank=n,i.order=r),$g(e,"border",i,t)}function Dg(e){return se.max(se.map(e.nodes(),function(t){var n=e.node(t).rank;if(!se.isUndefined(n))return n}))}function BS(e,t){var n={lhs:[],rhs:[]};return se.forEach(e,function(r){t(r)?n.lhs.push(r):n.rhs.push(r)}),n}function VS(e,t){var n=se.now();try{return t()}finally{console.log(e+" time: "+(se.now()-n)+"ms")}}function GS(e,t){return t()}var Fg=fe,US=ke,YS={run:WS,undo:ZS};function WS(e){e.graph().dummyChains=[],Fg.forEach(e.edges(),function(t){KS(e,t)})}function KS(e,t){var n=t.v,r=e.node(n).rank,i=t.w,o=e.node(i).rank,a=t.name,s=e.edge(t),c=s.labelRank;if(o!==r+1){e.removeEdge(t);var l,u,d;for(d=0,++r;r<o;++d,++r)s.points=[],u={width:0,height:0,edgeLabel:s,edgeObj:t,rank:r},l=US.addDummyNode(e,"edge",u,"_d"),r===c&&(u.width=s.width,u.height=s.height,u.dummy="edge-label",u.labelpos=s.labelpos),e.setEdge(n,l,{weight:s.weight},a),d===0&&e.graph().dummyChains.push(l),n=l;e.setEdge(n,i,{weight:s.weight},a)}}function ZS(e){Fg.forEach(e.graph().dummyChains,function(t){var n=e.node(t),r=n.edgeLabel,i;for(e.setEdge(n.edgeObj,r);n.dummy;)i=e.successors(t)[0],e.removeNode(t),r.points.push({x:n.x,y:n.y}),n.dummy==="edge-label"&&(r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height),t=i,n=e.node(t)})}var Zn=fe,zr={longestPath:XS,slack:jS};function XS(e){var t={};function n(r){var i=e.node(r);if(Zn.has(t,r))return i.rank;t[r]=!0;var o=Zn.min(Zn.map(e.outEdges(r),function(a){return n(a.w)-e.edge(a).minlen}));return(o===Number.POSITIVE_INFINITY||o===void 0||o===null)&&(o=0),i.rank=o}Zn.forEach(e.sources(),n)}function jS(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}var mr=fe,QS=Ke.Graph,vr=zr.slack,Og=JS;function JS(e){var t=new QS({directed:!1}),n=e.nodes()[0],r=e.nodeCount();t.setNode(n,{});for(var i,o;e2(t,e)<r;)i=t2(t,e),o=t.hasNode(i.v)?vr(e,i):-vr(e,i),n2(t,e,o);return t}function e2(e,t){function n(r){mr.forEach(t.nodeEdges(r),function(i){var o=i.v,a=r===o?i.w:o;!e.hasNode(a)&&!vr(t,i)&&(e.setNode(a,{}),e.setEdge(r,a,{}),n(a))})}return mr.forEach(e.nodes(),n),e.nodeCount()}function t2(e,t){return mr.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return vr(t,n)})}function n2(e,t,n){mr.forEach(e.nodes(),function(r){t.node(r).rank+=n})}var ft=fe,r2=Og,i2=zr.slack,o2=zr.longestPath,a2=Ke.alg.preorder,s2=Ke.alg.postorder,c2=ke.simplify,u2=Ht;Ht.initLowLimValues=Nc;Ht.initCutValues=Sc;Ht.calcCutValue=zg;Ht.leaveEdge=Bg;Ht.enterEdge=Vg;Ht.exchangeEdges=Gg;function Ht(e){e=c2(e),o2(e);var t=r2(e);Nc(t),Sc(t,e);for(var n,r;n=Bg(t);)r=Vg(t,e,n),Gg(t,e,n,r)}function Sc(e,t){var n=s2(e,e.nodes());n=n.slice(0,n.length-1),ft.forEach(n,function(r){l2(e,t,r)})}function l2(e,t,n){var r=e.node(n),i=r.parent;e.edge(n,i).cutvalue=zg(e,t,n)}function zg(e,t,n){var r=e.node(n),i=r.parent,o=!0,a=t.edge(n,i),s=0;return a||(o=!1,a=t.edge(i,n)),s=a.weight,ft.forEach(t.nodeEdges(n),function(c){var l=c.v===n,u=l?c.w:c.v;if(u!==i){var d=l===o,f=t.edge(c).weight;if(s+=d?f:-f,f2(e,n,u)){var h=e.edge(n,u).cutvalue;s+=d?-h:h}}}),s}function Nc(e,t){arguments.length<2&&(t=e.nodes()[0]),Hg(e,{},1,t)}function Hg(e,t,n,r,i){var o=n,a=e.node(r);return t[r]=!0,ft.forEach(e.neighbors(r),function(s){ft.has(t,s)||(n=Hg(e,t,n,s,r))}),a.low=o,a.lim=n++,i?a.parent=i:delete a.parent,n}function Bg(e){return ft.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function Vg(e,t,n){var r=n.v,i=n.w;t.hasEdge(r,i)||(r=n.w,i=n.v);var o=e.node(r),a=e.node(i),s=o,c=!1;o.lim>a.lim&&(s=a,c=!0);var l=ft.filter(t.edges(),function(u){return c===qf(e,e.node(u.v),s)&&c!==qf(e,e.node(u.w),s)});return ft.minBy(l,function(u){return i2(t,u)})}function Gg(e,t,n,r){var i=n.v,o=n.w;e.removeEdge(i,o),e.setEdge(r.v,r.w,{}),Nc(e),Sc(e,t),d2(e,t)}function d2(e,t){var n=ft.find(e.nodes(),function(i){return!t.node(i).parent}),r=a2(e,n);r=r.slice(1),ft.forEach(r,function(i){var o=e.node(i).parent,a=t.edge(i,o),s=!1;a||(a=t.edge(o,i),s=!0),t.node(i).rank=t.node(o).rank+(s?a.minlen:-a.minlen)})}function f2(e,t,n){return e.hasEdge(t,n)}function qf(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}var h2=zr,Ug=h2.longestPath,p2=Og,g2=u2,m2=v2;function v2(e){switch(e.graph().ranker){case"network-simplex":Lf(e);break;case"tight-tree":w2(e);break;case"longest-path":y2(e);break;default:Lf(e)}}var y2=Ug;function w2(e){Ug(e),p2(e)}function Lf(e){g2(e)}var Ls=fe,b2=_2;function _2(e){var t=E2(e);Ls.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),i=r.edgeObj,o=x2(e,t,i.v,i.w),a=o.path,s=o.lca,c=0,l=a[c],u=!0;n!==i.w;){if(r=e.node(n),u){for(;(l=a[c])!==s&&e.node(l).maxRank<r.rank;)c++;l===s&&(u=!1)}if(!u){for(;c<a.length-1&&e.node(l=a[c+1]).minRank<=r.rank;)c++;l=a[c]}e.setParent(n,l),n=e.successors(n)[0]}})}function x2(e,t,n,r){var i=[],o=[],a=Math.min(t[n].low,t[r].low),s=Math.max(t[n].lim,t[r].lim),c,l;c=n;do c=e.parent(c),i.push(c);while(c&&(t[c].low>a||s>t[c].lim));for(l=c,c=r;(c=e.parent(c))!==l;)o.push(c);return{path:i.concat(o.reverse()),lca:l}}function E2(e){var t={},n=0;function r(i){var o=n;Ls.forEach(e.children(i),r),t[i]={low:o,lim:n++}}return Ls.forEach(e.children(),r),t}var st=fe,Ps=ke,S2={run:N2,cleanup:A2};function N2(e){var t=Ps.addDummyNode(e,"root",{},"_root"),n=C2(e),r=st.max(st.values(n))-1,i=2*r+1;e.graph().nestingRoot=t,st.forEach(e.edges(),function(a){e.edge(a).minlen*=i});var o=I2(e)+1;st.forEach(e.children(),function(a){Yg(e,t,i,o,r,n,a)}),e.graph().nodeRankFactor=i}function Yg(e,t,n,r,i,o,a){var s=e.children(a);if(!s.length){a!==t&&e.setEdge(t,a,{weight:0,minlen:n});return}var c=Ps.addBorderNode(e,"_bt"),l=Ps.addBorderNode(e,"_bb"),u=e.node(a);e.setParent(c,a),u.borderTop=c,e.setParent(l,a),u.borderBottom=l,st.forEach(s,function(d){Yg(e,t,n,r,i,o,d);var f=e.node(d),h=f.borderTop?f.borderTop:d,p=f.borderBottom?f.borderBottom:d,g=f.borderTop?r:2*r,m=h!==p?1:i-o[a]+1;e.setEdge(c,h,{weight:g,minlen:m,nestingEdge:!0}),e.setEdge(p,l,{weight:g,minlen:m,nestingEdge:!0})}),e.parent(a)||e.setEdge(t,c,{weight:0,minlen:i+o[a]})}function C2(e){var t={};function n(r,i){var o=e.children(r);o&&o.length&&st.forEach(o,function(a){n(a,i+1)}),t[r]=i}return st.forEach(e.children(),function(r){n(r,1)}),t}function I2(e){return st.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}function A2(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,st.forEach(e.edges(),function(n){var r=e.edge(n);r.nestingEdge&&e.removeEdge(n)})}var ls=fe,M2=ke,T2=R2;function R2(e){function t(n){var r=e.children(n),i=e.node(n);if(r.length&&ls.forEach(r,t),ls.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var o=i.minRank,a=i.maxRank+1;o<a;++o)Pf(e,"borderLeft","_bl",n,i,o),Pf(e,"borderRight","_br",n,i,o)}}ls.forEach(e.children(),t)}function Pf(e,t,n,r,i,o){var a={width:0,height:0,rank:o,borderType:t},s=i[t][o-1],c=M2.addDummyNode(e,"border",a,n);i[t][o]=c,e.setParent(c,r),s&&e.setEdge(s,c,{weight:1})}var Qe=fe,k2={adjust:q2,undo:L2};function q2(e){var t=e.graph().rankdir.toLowerCase();(t==="lr"||t==="rl")&&Wg(e)}function L2(e){var t=e.graph().rankdir.toLowerCase();(t==="bt"||t==="rl")&&P2(e),(t==="lr"||t==="rl")&&($2(e),Wg(e))}function Wg(e){Qe.forEach(e.nodes(),function(t){$f(e.node(t))}),Qe.forEach(e.edges(),function(t){$f(e.edge(t))})}function $f(e){var t=e.width;e.width=e.height,e.height=t}function P2(e){Qe.forEach(e.nodes(),function(t){ds(e.node(t))}),Qe.forEach(e.edges(),function(t){var n=e.edge(t);Qe.forEach(n.points,ds),Qe.has(n,"y")&&ds(n)})}function ds(e){e.y=-e.y}function $2(e){Qe.forEach(e.nodes(),function(t){fs(e.node(t))}),Qe.forEach(e.edges(),function(t){var n=e.edge(t);Qe.forEach(n.points,fs),Qe.has(n,"x")&&fs(n)})}function fs(e){var t=e.x;e.x=e.y,e.y=t}var it=fe,D2=F2;function F2(e){var t={},n=it.filter(e.nodes(),function(s){return!e.children(s).length}),r=it.max(it.map(n,function(s){return e.node(s).rank})),i=it.map(it.range(r+1),function(){return[]});function o(s){if(!it.has(t,s)){t[s]=!0;var c=e.node(s);i[c.rank].push(s),it.forEach(e.successors(s),o)}}var a=it.sortBy(n,function(s){return e.node(s).rank});return it.forEach(a,o),i}var mt=fe,O2=z2;function z2(e,t){for(var n=0,r=1;r<t.length;++r)n+=H2(e,t[r-1],t[r]);return n}function H2(e,t,n){for(var r=mt.zipObject(n,mt.map(n,function(l,u){return u})),i=mt.flatten(mt.map(t,function(l){return mt.sortBy(mt.map(e.outEdges(l),function(u){return{pos:r[u.w],weight:e.edge(u).weight}}),"pos")}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=mt.map(new Array(a),function(){return 0}),c=0;return mt.forEach(i.forEach(function(l){var u=l.pos+o;s[u]+=l.weight;for(var d=0;u>0;)u%2&&(d+=s[u+1]),u=u-1>>1,s[u]+=l.weight;c+=l.weight*d})),c}var Df=fe,B2=V2;function V2(e,t){return Df.map(t,function(n){var r=e.inEdges(n);if(r.length){var i=Df.reduce(r,function(o,a){var s=e.edge(a),c=e.node(a.v);return{sum:o.sum+s.weight*c.order,weight:o.weight+s.weight}},{sum:0,weight:0});return{v:n,barycenter:i.sum/i.weight,weight:i.weight}}else return{v:n}})}var Pe=fe,G2=U2;function U2(e,t){var n={};Pe.forEach(e,function(i,o){var a=n[i.v]={indegree:0,in:[],out:[],vs:[i.v],i:o};Pe.isUndefined(i.barycenter)||(a.barycenter=i.barycenter,a.weight=i.weight)}),Pe.forEach(t.edges(),function(i){var o=n[i.v],a=n[i.w];!Pe.isUndefined(o)&&!Pe.isUndefined(a)&&(a.indegree++,o.out.push(n[i.w]))});var r=Pe.filter(n,function(i){return!i.indegree});return Y2(r)}function Y2(e){var t=[];function n(o){return function(a){a.merged||(Pe.isUndefined(a.barycenter)||Pe.isUndefined(o.barycenter)||a.barycenter>=o.barycenter)&&W2(o,a)}}function r(o){return function(a){a.in.push(o),--a.indegree===0&&e.push(a)}}for(;e.length;){var i=e.pop();t.push(i),Pe.forEach(i.in.reverse(),n(i)),Pe.forEach(i.out,r(i))}return Pe.map(Pe.filter(t,function(o){return!o.merged}),function(o){return Pe.pick(o,["vs","i","barycenter","weight"])})}function W2(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}var mn=fe,K2=ke,Z2=X2;function X2(e,t){var n=K2.partition(e,function(u){return mn.has(u,"barycenter")}),r=n.lhs,i=mn.sortBy(n.rhs,function(u){return-u.i}),o=[],a=0,s=0,c=0;r.sort(j2(!!t)),c=Ff(o,i,c),mn.forEach(r,function(u){c+=u.vs.length,o.push(u.vs),a+=u.barycenter*u.weight,s+=u.weight,c=Ff(o,i,c)});var l={vs:mn.flatten(o,!0)};return s&&(l.barycenter=a/s,l.weight=s),l}function Ff(e,t,n){for(var r;t.length&&(r=mn.last(t)).i<=n;)t.pop(),e.push(r.vs),n++;return n}function j2(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}var _t=fe,Q2=B2,J2=G2,eN=Z2,tN=Kg;function Kg(e,t,n,r){var i=e.children(t),o=e.node(t),a=o?o.borderLeft:void 0,s=o?o.borderRight:void 0,c={};a&&(i=_t.filter(i,function(p){return p!==a&&p!==s}));var l=Q2(e,i);_t.forEach(l,function(p){if(e.children(p.v).length){var g=Kg(e,p.v,n,r);c[p.v]=g,_t.has(g,"barycenter")&&rN(p,g)}});var u=J2(l,n);nN(u,c);var d=eN(u,r);if(a&&(d.vs=_t.flatten([a,d.vs,s],!0),e.predecessors(a).length)){var f=e.node(e.predecessors(a)[0]),h=e.node(e.predecessors(s)[0]);_t.has(d,"barycenter")||(d.barycenter=0,d.weight=0),d.barycenter=(d.barycenter*d.weight+f.order+h.order)/(d.weight+2),d.weight+=2}return d}function nN(e,t){_t.forEach(e,function(n){n.vs=_t.flatten(n.vs.map(function(r){return t[r]?t[r].vs:r}),!0)})}function rN(e,t){_t.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}var vn=fe,iN=Ke.Graph,oN=aN;function aN(e,t,n){var r=sN(e),i=new iN({compound:!0}).setGraph({root:r}).setDefaultNodeLabel(function(o){return e.node(o)});return vn.forEach(e.nodes(),function(o){var a=e.node(o),s=e.parent(o);(a.rank===t||a.minRank<=t&&t<=a.maxRank)&&(i.setNode(o),i.setParent(o,s||r),vn.forEach(e[n](o),function(c){var l=c.v===o?c.w:c.v,u=i.edge(l,o),d=vn.isUndefined(u)?0:u.weight;i.setEdge(l,o,{weight:e.edge(c).weight+d})}),vn.has(a,"minRank")&&i.setNode(o,{borderLeft:a.borderLeft[t],borderRight:a.borderRight[t]}))}),i}function sN(e){for(var t;e.hasNode(t=vn.uniqueId("_root")););return t}var cN=fe,uN=lN;function lN(e,t,n){var r={},i;cN.forEach(n,function(o){for(var a=e.parent(o),s,c;a;){if(s=e.parent(a),s?(c=r[s],r[s]=a):(c=i,i=a),c&&c!==a){t.setEdge(c,a);return}a=s}})}var St=fe,dN=D2,fN=O2,hN=tN,pN=oN,gN=uN,mN=Ke.Graph,Of=ke,vN=yN;function yN(e){var t=Of.maxRank(e),n=zf(e,St.range(1,t+1),"inEdges"),r=zf(e,St.range(t-1,-1,-1),"outEdges"),i=dN(e);Hf(e,i);for(var o=Number.POSITIVE_INFINITY,a,s=0,c=0;c<4;++s,++c){wN(s%2?n:r,s%4>=2),i=Of.buildLayerMatrix(e);var l=fN(e,i);l<o&&(c=0,a=St.cloneDeep(i),o=l)}Hf(e,a)}function zf(e,t,n){return St.map(t,function(r){return pN(e,r,n)})}function wN(e,t){var n=new mN;St.forEach(e,function(r){var i=r.graph().root,o=hN(r,i,n,t);St.forEach(o.vs,function(a,s){r.node(a).order=s}),gN(r,n,o.vs)})}function Hf(e,t){St.forEach(t,function(n){St.forEach(n,function(r,i){e.node(r).order=i})})}var Q=fe,bN=Ke.Graph,_N=ke,xN={positionX:NN,findType1Conflicts:Zg,findType2Conflicts:Xg,addConflict:Cc,hasConflict:jg,verticalAlignment:Qg,horizontalCompaction:Jg,alignCoordinates:tm,findSmallestWidthAlignment:em,balance:nm};function Zg(e,t){var n={};function r(i,o){var a=0,s=0,c=i.length,l=Q.last(o);return Q.forEach(o,function(u,d){var f=EN(e,u),h=f?e.node(f).order:c;(f||u===l)&&(Q.forEach(o.slice(s,d+1),function(p){Q.forEach(e.predecessors(p),function(g){var m=e.node(g),v=m.order;(v<a||h<v)&&!(m.dummy&&e.node(p).dummy)&&Cc(n,g,p)})}),s=d+1,a=h)}),o}return Q.reduce(t,r),n}function Xg(e,t){var n={};function r(o,a,s,c,l){var u;Q.forEach(Q.range(a,s),function(d){u=o[d],e.node(u).dummy&&Q.forEach(e.predecessors(u),function(f){var h=e.node(f);h.dummy&&(h.order<c||h.order>l)&&Cc(n,f,u)})})}function i(o,a){var s=-1,c,l=0;return Q.forEach(a,function(u,d){if(e.node(u).dummy==="border"){var f=e.predecessors(u);f.length&&(c=e.node(f[0]).order,r(a,l,d,s,c),l=d,s=c)}r(a,l,a.length,c,o.length)}),a}return Q.reduce(t,i),n}function EN(e,t){if(e.node(t).dummy)return Q.find(e.predecessors(t),function(n){return e.node(n).dummy})}function Cc(e,t,n){if(t>n){var r=t;t=n,n=r}var i=e[t];i||(e[t]=i={}),i[n]=!0}function jg(e,t,n){if(t>n){var r=t;t=n,n=r}return Q.has(e[t],n)}function Qg(e,t,n,r){var i={},o={},a={};return Q.forEach(t,function(s){Q.forEach(s,function(c,l){i[c]=c,o[c]=c,a[c]=l})}),Q.forEach(t,function(s){var c=-1;Q.forEach(s,function(l){var u=r(l);if(u.length){u=Q.sortBy(u,function(g){return a[g]});for(var d=(u.length-1)/2,f=Math.floor(d),h=Math.ceil(d);f<=h;++f){var p=u[f];o[l]===l&&c<a[p]&&!jg(n,l,p)&&(o[p]=l,o[l]=i[l]=i[p],c=a[p])}}})}),{root:i,align:o}}function Jg(e,t,n,r,i){var o={},a=SN(e,t,n,i),s=i?"borderLeft":"borderRight";function c(d,f){for(var h=a.nodes(),p=h.pop(),g={};p;)g[p]?d(p):(g[p]=!0,h.push(p),h=h.concat(f(p))),p=h.pop()}function l(d){o[d]=a.inEdges(d).reduce(function(f,h){return Math.max(f,o[h.v]+a.edge(h))},0)}function u(d){var f=a.outEdges(d).reduce(function(p,g){return Math.min(p,o[g.w]-a.edge(g))},Number.POSITIVE_INFINITY),h=e.node(d);f!==Number.POSITIVE_INFINITY&&h.borderType!==s&&(o[d]=Math.max(o[d],f))}return c(l,a.predecessors.bind(a)),c(u,a.successors.bind(a)),Q.forEach(r,function(d){o[d]=o[n[d]]}),o}function SN(e,t,n,r){var i=new bN,o=e.graph(),a=CN(o.nodesep,o.edgesep,r);return Q.forEach(t,function(s){var c;Q.forEach(s,function(l){var u=n[l];if(i.setNode(u),c){var d=n[c],f=i.edge(d,u);i.setEdge(d,u,Math.max(a(e,l,c),f||0))}c=l})}),i}function em(e,t){return Q.minBy(Q.values(t),function(n){var r=Number.NEGATIVE_INFINITY,i=Number.POSITIVE_INFINITY;return Q.forIn(n,function(o,a){var s=IN(e,a)/2;r=Math.max(o+s,r),i=Math.min(o-s,i)}),r-i})}function tm(e,t){var n=Q.values(t),r=Q.min(n),i=Q.max(n);Q.forEach(["u","d"],function(o){Q.forEach(["l","r"],function(a){var s=o+a,c=e[s],l;if(c!==t){var u=Q.values(c);l=a==="l"?r-Q.min(u):i-Q.max(u),l&&(e[s]=Q.mapValues(c,function(d){return d+l}))}})})}function nm(e,t){return Q.mapValues(e.ul,function(n,r){if(t)return e[t.toLowerCase()][r];var i=Q.sortBy(Q.map(e,r));return(i[1]+i[2])/2})}function NN(e){var t=_N.buildLayerMatrix(e),n=Q.merge(Zg(e,t),Xg(e,t)),r={},i;Q.forEach(["u","d"],function(a){i=a==="u"?t:Q.values(t).reverse(),Q.forEach(["l","r"],function(s){s==="r"&&(i=Q.map(i,function(d){return Q.values(d).reverse()}));var c=(a==="u"?e.predecessors:e.successors).bind(e),l=Qg(e,i,n,c),u=Jg(e,i,l.root,l.align,s==="r");s==="r"&&(u=Q.mapValues(u,function(d){return-d})),r[a+s]=u})});var o=em(e,r);return tm(r,o),nm(r,e.graph().align)}function CN(e,t,n){return function(r,i,o){var a=r.node(i),s=r.node(o),c=0,l;if(c+=a.width/2,Q.has(a,"labelpos"))switch(a.labelpos.toLowerCase()){case"l":l=-a.width/2;break;case"r":l=a.width/2;break}if(l&&(c+=n?l:-l),l=0,c+=(a.dummy?t:e)/2,c+=(s.dummy?t:e)/2,c+=s.width/2,Q.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":l=s.width/2;break;case"r":l=-s.width/2;break}return l&&(c+=n?l:-l),l=0,c}}function IN(e,t){return e.node(t).width}var yn=fe,rm=ke,AN=xN.positionX,MN=TN;function TN(e){e=rm.asNonCompoundGraph(e),RN(e),yn.forEach(AN(e),function(t,n){e.node(n).x=t})}function RN(e){var t=rm.buildLayerMatrix(e),n=e.graph().ranksep,r=0;yn.forEach(t,function(i){var o=yn.max(yn.map(i,function(a){return e.node(a).height}));yn.forEach(i,function(a){e.node(a).y=r+o/2}),r+=o+n})}var te=fe,Bf=MS,Vf=YS,kN=m2,qN=ke.normalizeRanks,LN=b2,PN=ke.removeEmptyRanks,Gf=S2,$N=T2,Uf=k2,DN=vN,FN=MN,Ct=ke,ON=Ke.Graph,zN=HN;function HN(e,t){var n=t&&t.debugTiming?Ct.time:Ct.notime;n("layout",function(){var r=n("  buildLayoutGraph",function(){return QN(e)});n("  runLayout",function(){BN(r,n)}),n("  updateInputGraph",function(){VN(e,r)})})}function BN(e,t){t("    makeSpaceForEdgeLabels",function(){JN(e)}),t("    removeSelfEdges",function(){cC(e)}),t("    acyclic",function(){Bf.run(e)}),t("    nestingGraph.run",function(){Gf.run(e)}),t("    rank",function(){kN(Ct.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){eC(e)}),t("    removeEmptyRanks",function(){PN(e)}),t("    nestingGraph.cleanup",function(){Gf.cleanup(e)}),t("    normalizeRanks",function(){qN(e)}),t("    assignRankMinMax",function(){tC(e)}),t("    removeEdgeLabelProxies",function(){nC(e)}),t("    normalize.run",function(){Vf.run(e)}),t("    parentDummyChains",function(){LN(e)}),t("    addBorderSegments",function(){$N(e)}),t("    order",function(){DN(e)}),t("    insertSelfEdges",function(){uC(e)}),t("    adjustCoordinateSystem",function(){Uf.adjust(e)}),t("    position",function(){FN(e)}),t("    positionSelfEdges",function(){lC(e)}),t("    removeBorderNodes",function(){sC(e)}),t("    normalize.undo",function(){Vf.undo(e)}),t("    fixupEdgeLabelCoords",function(){oC(e)}),t("    undoCoordinateSystem",function(){Uf.undo(e)}),t("    translateGraph",function(){rC(e)}),t("    assignNodeIntersects",function(){iC(e)}),t("    reversePoints",function(){aC(e)}),t("    acyclic.undo",function(){Bf.undo(e)})}function VN(e,t){te.forEach(e.nodes(),function(n){var r=e.node(n),i=t.node(n);r&&(r.x=i.x,r.y=i.y,t.children(n).length&&(r.width=i.width,r.height=i.height))}),te.forEach(e.edges(),function(n){var r=e.edge(n),i=t.edge(n);r.points=i.points,te.has(i,"x")&&(r.x=i.x,r.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height}var GN=["nodesep","edgesep","ranksep","marginx","marginy"],UN={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},YN=["acyclicer","ranker","rankdir","align"],WN=["width","height"],KN={width:0,height:0},ZN=["minlen","weight","width","height","labeloffset"],XN={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},jN=["labelpos"];function QN(e){var t=new ON({multigraph:!0,compound:!0}),n=ps(e.graph());return t.setGraph(te.merge({},UN,hs(n,GN),te.pick(n,YN))),te.forEach(e.nodes(),function(r){var i=ps(e.node(r));t.setNode(r,te.defaults(hs(i,WN),KN)),t.setParent(r,e.parent(r))}),te.forEach(e.edges(),function(r){var i=ps(e.edge(r));t.setEdge(r,te.merge({},XN,hs(i,ZN),te.pick(i,jN)))}),t}function JN(e){var t=e.graph();t.ranksep/=2,te.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,r.labelpos.toLowerCase()!=="c"&&(t.rankdir==="TB"||t.rankdir==="BT"?r.width+=r.labeloffset:r.height+=r.labeloffset)})}function eC(e){te.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),i=e.node(t.w),o={rank:(i.rank-r.rank)/2+r.rank,e:t};Ct.addDummyNode(e,"edge-proxy",o,"_ep")}})}function tC(e){var t=0;te.forEach(e.nodes(),function(n){var r=e.node(n);r.borderTop&&(r.minRank=e.node(r.borderTop).rank,r.maxRank=e.node(r.borderBottom).rank,t=te.max(t,r.maxRank))}),e.graph().maxRank=t}function nC(e){te.forEach(e.nodes(),function(t){var n=e.node(t);n.dummy==="edge-proxy"&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})}function rC(e){var t=Number.POSITIVE_INFINITY,n=0,r=Number.POSITIVE_INFINITY,i=0,o=e.graph(),a=o.marginx||0,s=o.marginy||0;function c(l){var u=l.x,d=l.y,f=l.width,h=l.height;t=Math.min(t,u-f/2),n=Math.max(n,u+f/2),r=Math.min(r,d-h/2),i=Math.max(i,d+h/2)}te.forEach(e.nodes(),function(l){c(e.node(l))}),te.forEach(e.edges(),function(l){var u=e.edge(l);te.has(u,"x")&&c(u)}),t-=a,r-=s,te.forEach(e.nodes(),function(l){var u=e.node(l);u.x-=t,u.y-=r}),te.forEach(e.edges(),function(l){var u=e.edge(l);te.forEach(u.points,function(d){d.x-=t,d.y-=r}),te.has(u,"x")&&(u.x-=t),te.has(u,"y")&&(u.y-=r)}),o.width=n-t+a,o.height=i-r+s}function iC(e){te.forEach(e.edges(),function(t){var n=e.edge(t),r=e.node(t.v),i=e.node(t.w),o,a;n.points?(o=n.points[0],a=n.points[n.points.length-1]):(n.points=[],o=i,a=r),n.points.unshift(Ct.intersectRect(r,o)),n.points.push(Ct.intersectRect(i,a))})}function oC(e){te.forEach(e.edges(),function(t){var n=e.edge(t);if(te.has(n,"x"))switch((n.labelpos==="l"||n.labelpos==="r")&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset;break}})}function aC(e){te.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})}function sC(e){te.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),r=e.node(n.borderTop),i=e.node(n.borderBottom),o=e.node(te.last(n.borderLeft)),a=e.node(te.last(n.borderRight));n.width=Math.abs(a.x-o.x),n.height=Math.abs(i.y-r.y),n.x=o.x+n.width/2,n.y=r.y+n.height/2}}),te.forEach(e.nodes(),function(t){e.node(t).dummy==="border"&&e.removeNode(t)})}function cC(e){te.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})}function uC(e){var t=Ct.buildLayerMatrix(e);te.forEach(t,function(n){var r=0;te.forEach(n,function(i,o){var a=e.node(i);a.order=o+r,te.forEach(a.selfEdges,function(s){Ct.addDummyNode(e,"selfedge",{width:s.label.width,height:s.label.height,rank:a.rank,order:o+ ++r,e:s.e,label:s.label},"_se")}),delete a.selfEdges})})}function lC(e){te.forEach(e.nodes(),function(t){var n=e.node(t);if(n.dummy==="selfedge"){var r=e.node(n.e.v),i=r.x+r.width/2,o=r.y,a=n.x-i,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:i+2*a/3,y:o-s},{x:i+5*a/6,y:o-s},{x:i+a,y:o},{x:i+5*a/6,y:o+s},{x:i+2*a/3,y:o+s}],n.label.x=n.x,n.label.y=n.y}})}function hs(e,t){return te.mapValues(te.pick(e,t),Number)}function ps(e){var t={};return te.forEach(e,function(n,r){t[r.toLowerCase()]=n}),t}var Xn=fe,dC=ke,fC=Ke.Graph,hC={debugOrdering:pC};function pC(e){var t=dC.buildLayerMatrix(e),n=new fC({compound:!0,multigraph:!0}).setGraph({});return Xn.forEach(e.nodes(),function(r){n.setNode(r,{label:r}),n.setParent(r,"layer"+e.node(r).rank)}),Xn.forEach(e.edges(),function(r){n.setEdge(r.v,r.w,{},r.name)}),Xn.forEach(t,function(r,i){var o="layer"+i;n.setNode(o,{rank:"same"}),Xn.reduce(r,function(a,s){return n.setEdge(a,s,{style:"invis"}),s})}),n}var gC="0.8.5",Ic={graphlib:Ke,layout:zN,debug:hC,util:{time:ke.time,notime:ke.notime},version:gC};const xt=new Ic.graphlib.Graph;xt.setDefaultEdgeLabel(()=>({}));const Yf=130,Wf=40,mC=130,vC=(e,t="LR")=>{const n=t==="LR";return xt.setGraph({rankdir:t}),e.forEach((r,i)=>{const o=i>0?e[i-1]:void 0;xt.setNode(r.id,{width:Yf,height:o?.type==="conditional"?mC:Wf})}),Ic.layout(xt),e.map(r=>{const i=xt.node(r.id);return r.targetPosition=n?U.Left:U.Top,r.sourcePosition=n?U.Right:U.Bottom,r.position={x:i.x-Yf/2,y:i.y-Wf/2},r})},yC=(e,t="LR")=>(xt.setGraph({rankdir:t}),e.forEach(n=>{xt.setEdge(n.source,n.target)}),Ic.layout(xt),e),jn=33,wC=({id:e,sourceX:t,sourceY:n,targetX:r,targetY:i,sourcePosition:o,targetPosition:a,label:s,style:c={},markerType:l,markerEndId:u,selected:d,data:{onEdgeClick:f}})=>{const[h,p,g]=cc({sourceX:t,sourceY:n,sourcePosition:o,targetX:r,targetY:i,targetPosition:a}),m=h_(l,u);return re(Ce,{children:[S("path",{id:e,style:c,className:"react-flow__edge-path",d:h,markerEnd:m}),!d&&S("text",{children:S("textPath",{href:`#${e}`,style:{fontSize:"11px"},startOffset:"50%",textAnchor:"middle",children:s})}),d&&S("foreignObject",{width:jn,height:jn,x:p-jn/2,y:g-jn/2,className:"edgebutton-foreignobject",requiredExtensions:"http://www.w3.org/1999/xhtml",children:S("button",{className:"edgebutton",onClick:v=>f(v,e),children:S(lh,{})})})]})},bC=({data:e,selected:t})=>re(Ce,{children:[S(Nt,{position:U.Right,type:"source"}),S("div",{className:`react-flow__node-default keycloak__authentication__conditional_node ${t?"selected":""}`,children:S("div",{children:e.label})}),S(Nt,{position:U.Left,type:"target"})]}),_C=ue(bC),xC=({data:{label:e},prefix:t,selected:n})=>re(Ce,{children:[S(Nt,{position:U.Right,type:"source"}),S("div",{className:`react-flow__node-default keycloak__authentication__subflow_node ${n?"selected":""}`,children:re("div",{children:[t," ",e]})}),S(Nt,{position:U.Left,type:"target"})]}),im=ue(xC),EC=({...e})=>S(im,{...e,prefix:"Start"}),SC=({...e})=>S(im,{...e,prefix:"End"}),NC={conditional:_C,startSubFlow:EC,endSubFlow:SC},CC=new Map([["input","keycloak__authentication__input_node"],["output","keycloak__authentication__output_node"]]);function IC(e,t){const n=[];for(let r=0;r<t.length-1;r++)n.push(e(t[r],t[r+1]));return n}const AC=e=>e.requirement==="ALTERNATIVE"||e.requirement==="CONDITIONAL",Hr=(e,t,n)=>({id:`edge-${e}-to-${t}`,type:"buttonEdge",source:e,target:t,label:n,data:{onEdgeClick:(r,i)=>{r.stopPropagation(),alert(`hello ${i}`)}}}),$s=(e,t)=>({id:e.id,type:t,sourcePosition:t==="output"?void 0:U.Right,targetPosition:t==="input"?void 0:U.Left,data:{label:e.displayName},position:{x:0,y:0},className:CC.get(t||"")}),MC=e=>{const t=[];for(let n=0;n<e.length;n++){const r=e[n];if(!AC(r))break;t.push(r)}return t},Kf=(e,t=!0)=>({startId:e.id,nodes:[e],edges:[],nextLinkFns:t?[n=>Hr(e.id,n)]:[]}),TC=e=>{if(!e.executionList)throw new Error("Execution list is required for subflow");const t=om(Ac(e.executionList));return t.nextLinkFns.push(...e.executionList.filter(n=>yr(n)).map(n=>r=>Hr(n.id,r,"false"))),t},RC=e=>{const t=MC(e);return t.length>0?t:[e[0]]},kC=e=>e.length===0?[]:RC(e).map(n=>{if(n.executionList)return TC(n);const r=yr(n),i=(()=>{if(r)return"true";if(n.requirement==="ALTERNATIVE")return"success"})();return{startId:n.id,nodes:[$s(n,r?"conditional":void 0)],edges:[],nextLinkFns:[o=>Hr(n.id,o,i)]}}),Ac=e=>{if(e.length===0)return[];const t=kC(e);return[t,...Ac(e.slice(t.length))]},om=e=>{const t=[],n=[];let r=[];for(const i of e)t.push(...i.flatMap(o=>o.nodes)),n.push(...i.flatMap(o=>o.edges),...r.map(o=>o(i[0].startId)),...IC((o,a)=>Hr(o.startId,a.startId,"attempted"),i)),r=i.flatMap(o=>o.nextLinkFns);return{startId:e[0][0].startId,nodes:t,edges:n,nextLinkFns:r}},qC={buttonEdge:wC};function Zf(e){const t=e.filter(o=>o.requirement!=="DISABLED"),n=[[Kf($s({id:"start",displayName:"Start"},"input"))],...Ac(t),[Kf($s({id:"end",displayName:"End"},"output"),!1)]],{nodes:r,edges:i}=om(n);return[vC(r),yC(i)]}const LC=({executionList:{expandableList:e}})=>{const[t,n]=ae(!1),[r,i]=Oe(()=>Zf(e),[]),[o,a,s]=Y1(r),[c,l,u]=W1(i);return vx(()=>{const[h,p]=Zf(e);a(h),l(p)},[e]),re(Yp,{nodes:o,edges:c,onNodesChange:s,onEdgesChange:u,onInit:h=>h.fitView({duration:100}),nodeTypes:NC,edgeTypes:qC,onNodeClick:()=>{n(!t)},nodesConnectable:!1,children:[S(rx,{}),S(lx,{}),S(mx,{})]})},PC=()=>{const{t:e}=ze();return S(vh,{"aria-labelledby":"headerName",id:"header",children:re(yh,{children:[S(mh,{className:"keycloak__authentication__header-drag-button","aria-label":e("disabled")}),S(wh,{className:"keycloak__authentication__header",dataListCells:[S(Kt,{id:"headerName",children:e("steps")},"step"),S(Kt,{children:e("requirement")},"requirement"),S(Kt,{},"config")]})]})})},$C=({execution:e,onAddExecution:t,onAddFlow:n})=>{const{adminClient:r}=nn(),{t:i}=ze(),[o,a]=ae(!1),[s,c]=ae(),[l,u]=ae();return Tn(()=>r.authenticationManagement.getFlow({flowId:e.flowId}),({providerId:d})=>u(d),[]),S(Nr,{content:i("add"),children:re(Ce,{children:[S(fv,{popperProps:{position:"right"},isOpen:o,onOpenChange:d=>a(d),toggle:d=>S(dh,{ref:d,variant:"plain",onClick:()=>a(!o),"aria-label":i("add"),"data-testid":`${e.displayName}-edit-dropdown`,children:S(lh,{})}),onSelect:()=>a(!1),children:re(hv,{children:[S(Rt,{onClick:()=>c(l==="form-flow"?"form":"basic"),children:i("addStep")},"addStep"),S(Rt,{onClick:()=>c("condition"),children:i("addCondition")},"addCondition"),S(Rt,{onClick:()=>c("subFlow"),children:i("addSubFlow")},"addSubFlow")]})}),s&&s!=="subFlow"&&S(Ks,{name:e.displayName,type:s,onSelect:d=>{d&&t(e,d),c(void 0)}}),s==="subFlow"&&S(Zs,{name:e.displayName,onCancel:()=>c(void 0),onConfirm:d=>{n(e,d),c(void 0)}})]})})},DC=({execution:e,onRowChange:t})=>{const{t:n}=ze(),r=wr({mode:"onChange",defaultValues:e}),[i,o]=gs();ce(()=>r.reset(e),[e]);const a=s=>{t({...e,...s}),o()};return re(Ce,{children:[S(Nr,{content:n("edit"),children:S(_e,{variant:"plain","data-testid":`${e.id}-edit`,"aria-label":n("edit"),onClick:o,children:S(Bv,{})})}),i&&S(In,{title:n("editFlow"),onClose:o,variant:An.small,actions:[S(_e,{"data-testid":"confirm",type:"submit",form:"edit-flow-form",isDisabled:!r.formState.isValid,children:n("edit")},"confirm"),S(_e,{"data-testid":"cancel",variant:ut.link,onClick:o,children:n("cancel")},"cancel")],isOpen:!0,children:S(Mn,{id:"edit-flow-form",onSubmit:r.handleSubmit(a),isHorizontal:!0,children:re(br,{...r,children:[S(nr,{name:"displayName",label:n("name"),labelIcon:n("flowNameHelp"),rules:{required:{value:!0,message:n("required")}}}),S(pv,{name:"description",label:n("description"),labelIcon:n("flowDescriptionHelp"),rules:{maxLength:{value:255,message:n("maxLength",{length:255})}}})]})})})]})},FC=({execution:e})=>{const{adminClient:t}=nn(),{t:n}=ze(),{addAlert:r,addError:i}=Fs(),[o,a]=ae(!1),[s,c]=ae(),[l,u]=ae(),d=wr(),{setValue:f,handleSubmit:h}=d,p=e.authenticationFlow?[]:[{helpText:n("authenticatorRefConfig.value.help"),label:n("authenticatorRefConfig.value.label"),name:"default.reference.value",readOnly:!1,secret:!1,type:"String"},{helpText:n("authenticatorRefConfig.maxAge.help"),label:n("authenticatorRefConfig.maxAge.label"),name:"default.reference.maxAge",readOnly:!1,secret:!1,type:"String"}],g=v=>{mv(v||{},f)};Tn(async()=>{let v;const b=e.configurable?await t.authenticationManagement.getConfigDescription({providerId:e.providerId}):{name:e.displayName,properties:[]};return e.authenticationConfig&&(v=await t.authenticationManagement.getConfig({id:e.authenticationConfig})),b.properties=[...p,...b.properties],{configDescription:b,config:v}},({configDescription:v,config:b})=>{u(v),c(b)},[]),ce(()=>{s&&g(s)},[s]);const m=async v=>{const b=vv(v);try{if(s){const _={id:s.id,alias:s.alias,config:b.config};await t.authenticationManagement.updateConfig(_),c({..._})}else{const _={id:e.id,alias:b.alias,config:b.config},{id:w}=await t.authenticationManagement.createConfig(_);c({..._.config,id:w,alias:_.alias})}r(n("configSaveSuccess"),vt.success),a(!1)}catch(_){i("configSaveError",_)}};return re(Ce,{children:[S(Nr,{content:n("settings"),children:S(_e,{variant:"plain","aria-label":n("settings"),onClick:()=>a(!0),children:S(Rv,{})})}),l&&S(In,{variant:An.small,isOpen:o,title:n("executionConfig",{name:l.name}),onClose:()=>a(!1),children:re(Mn,{id:"execution-config-form",onSubmit:h(m),children:[re(br,{...d,children:[S(nr,{name:"alias",label:n("alias"),labelIcon:n("authenticationAliasHelp"),rules:{required:{value:!0,message:n("required")}},isDisabled:!!s}),S(Vv,{stringify:!0,properties:l.properties||[]})]}),re(gv,{children:[S(_e,{"data-testid":"save",variant:"primary",type:"submit",children:n("save")}),S(_e,{"data-testid":"cancel",variant:ut.link,onClick:()=>{a(!1)},children:n("cancel")}),s&&re(_e,{className:"pf-v5-u-ml-4xl","data-testid":"clear",variant:ut.link,onClick:async()=>{await t.authenticationManagement.delConfig({id:s.id}),c(void 0),a(!1)},children:[n("clear")," ",S(bh,{})]})]})]})})]})},OC=({flow:e,onChange:t})=>{const{t:n}=ze(),[r,i]=ae(!1),o=e.requirementChoices.map((a,s)=>S(yv,{value:a,children:n(`requirements.${a}`)},s));return re(Ce,{children:[e.requirementChoices&&e.requirementChoices.length>1&&S(wv,{onOpenChange:a=>i(a),onSelect:(a,s)=>{e.requirement=s?.toString(),t(e),i(!1)},selected:e.requirement,isOpen:r,toggle:a=>S(dh,{className:"keycloak__authentication__requirement-dropdown",ref:a,onClick:()=>i(!r),isExpanded:r,children:n(`requirements.${e.requirement}`)}),children:S(bv,{children:o})}),(!e.requirementChoices||e.requirementChoices.length<=1)&&S(Ce,{children:n(`requirements.${e.requirement}`)})]})},zC=({id:e,title:t,alias:n})=>S(_v,{"data-testid":t,className:"keycloak__authentication__title",isFlat:!0,children:re(xv,{"data-id":e,id:`title-id-${e}`,children:[t," ",S("br",{}),S(fh,{component:hh.small,children:n})]})}),am=({builtIn:e,execution:t,onRowClick:n,onRowChange:r,onAddExecution:i,onAddFlow:o,onDelete:a})=>{const{t:s}=ze(),c=!!t.executionList?.length;return re(Ce,{children:[S(Dv,{hasNoWrapper:!0,children:S(vh,{className:"keycloak__authentication__flow-item",id:t.id,isExpanded:!t.isCollapsed,"aria-labelledby":`title-id-${t.id}`,children:re(yh,{className:"keycloak__authentication__flow-row","aria-level":t.level+1,role:"heading","aria-labelledby":t.id,children:[S(Fv,{children:S(mh,{"aria-label":s("dragHelp")})}),c&&S(_h,{onClick:()=>n(t),isExpanded:!t.isCollapsed,id:`toggle1-${t.id}`,"aria-controls":t.executionList[0].id}),S(wh,{dataListCells:[re(Kt,{children:[!t.authenticationFlow&&S(zC,{id:t.id,alias:t.alias,title:t.displayName},t.id),t.authenticationFlow&&re(Ce,{children:[t.displayName," ",S("br",{})," ",re(fh,{component:hh.small,children:[t.alias," ",t.description]})]})]},`${t.id}-name`),S(Kt,{children:S(OC,{flow:t,onChange:r})},`${t.id}-requirement`),re(Kt,{children:[S(FC,{execution:t}),t.authenticationFlow&&!e&&re(Ce,{children:[S($C,{execution:t,onAddExecution:i,onAddFlow:o}),S(DC,{execution:t,onRowChange:r})]}),!e&&S(Nr,{content:s("delete"),children:S(_e,{variant:"plain","data-testid":`${t.displayName}-delete`,"aria-label":s("delete"),onClick:()=>a(t),children:S(bh,{})})})]},`${t.id}-config`)]})]})})},`draggable-${t.id}`),!t.isCollapsed&&c&&t.executionList?.map(l=>S(am,{builtIn:e,execution:l,onRowClick:n,onRowChange:r,onAddExecution:i,onAddFlow:o,onDelete:a},l.id))]})};class sm{oldIndex;newIndex;constructor(t,n){this.oldIndex=t,this.newIndex=n}}class Xf extends sm{parent;constructor(t,n,r){super(t,n),this.parent=r}}class Mc{#e;expandableList;constructor(t){this.#e=t;const n={executionList:[],isCollapsed:!1};this.#t(0,-1,n),this.expandableList=n.executionList}#t(t,n,r){for(let i=t;i<this.#e.length;i++){const o=this.#e[i],a=o.level||0;if(a<=n)return i-1;const s=this.#e[i+1]?.level||0;if(a<s){const l={...o,executionList:[],isCollapsed:!1};i=this.#t(i+1,a,l),r.executionList?.push(l)}else r.executionList?.push(o)}return this.#e.length}order(t){let n=[];for(const r of t||this.expandableList)n.push(r),r.executionList&&!r.isCollapsed&&(n=n.concat(this.order(r.executionList)));return n}findExecution(t,n={index:0},r){const i=r||this.expandableList;for(let o=0;o<i.length;o++){const a=i[o];if(n.index===t)return a;if(n.index++,a.executionList){const s=this.findExecution(t,n,a.executionList);if(s)return s}}}#n(t,n){let r;for(let i=0;i<n;i++){const o=this.#e[i];t-1===o.level&&(r=o)}return r}getChange(t,n){const r=this.order(),i=n.findIndex(u=>u===t.id),o=r.findIndex(u=>u.id===t.id),a=r[o],s=r[i],c=this.#n(a.level,o),l=this.#n(s.level,i);return c?.id!==l?.id?s.level>0?new Xf(l?.executionList?.length||0,s.index,l):new Xf(this.expandableList.length,s.index):new sm(a.index,s.index)}clone(){const t=new Mc([]);return t.#e=this.#e,t.expandableList=this.expandableList,t}}const yr=e=>e.displayName?.startsWith("Condition ");function hI(){const{adminClient:e}=nn(),{t}=ze(),{realm:n}=Ev(),{addAlert:r,addError:i}=Fs(),{id:o,usedBy:a,builtIn:s}=Sv(),c=Nv(),[l,u]=ae(0),d=()=>u(new Date().getTime()),[f,h]=ae(!0),[p,g]=ae(),[m,v]=ae(),[b,_]=ae(""),[w,A]=ae(),[N,T]=ae(),[q,M]=ae(),[L,F,O]=gs(),[P,y]=ae(!1),[C,x]=gs();Tn(async()=>{const V=(await e.authenticationManagement.getFlows()).find(j=>j.id===o);if(!V)throw new Error(t("notFound"));const K=await e.authenticationManagement.getExecutions({flow:V.alias});return{flow:V,executions:K}},({flow:H,executions:V})=>{g(H),v(new Mc(V))},[l]);const R=async(H,V)=>{try{let K=H.id;if("parent"in V){let ie={};"authenticationConfig"in H&&(ie=await e.authenticationManagement.getConfig({id:H.authenticationConfig}));try{await e.authenticationManagement.delExecution({id:K})}catch{}if("authenticationFlow"in H){const oe=H,de=await e.authenticationManagement.addFlowToFlow({flow:V.parent?.displayName||p?.alias,alias:oe.displayName,description:oe.description,provider:H.providerId,type:"basic-flow"});K=de.id,H.executionList?.forEach((me,X)=>R(me,{parent:{...H,id:de.id},newIndex:X,oldIndex:X}))}else{const oe=await e.authenticationManagement.addExecutionToFlow({flow:V.parent?.displayName||p?.alias,provider:H.providerId});if(ie.id){const de={id:oe.id,alias:ie.alias,config:ie.config};await e.authenticationManagement.createConfig(de)}K=oe.id}}const j=V.newIndex-V.oldIndex;for(let ie=0;ie<Math.abs(j);ie++)j>0?await e.authenticationManagement.lowerPriorityExecution({id:K}):await e.authenticationManagement.raisePriorityExecution({id:K});d(),r(t("updateFlowSuccess"),vt.success)}catch(K){i("updateFlowError",K)}},$=async H=>{const{executionList:V,isCollapsed:K,...j}=H;try{await e.authenticationManagement.updateExecution({flow:p?.alias},j),d(),r(t("updateFlowSuccess"),vt.success)}catch(ie){i("updateFlowError",ie)}},E=async(H,V)=>{try{await e.authenticationManagement.addExecutionToFlow({flow:H,provider:V.id}),d(),r(t("updateFlowSuccess"),vt.success)}catch(K){i("updateFlowError",K)}},k=async(H,{name:V,description:K="",type:j,provider:ie})=>{try{await e.authenticationManagement.addFlowToFlow({flow:H,alias:V,description:K,provider:ie,type:j}),d(),r(t("updateFlowSuccess"),vt.success)}catch(oe){i("updateFlowError",oe)}},[D,z]=Dc({titleKey:"deleteConfirmExecution",children:re(Fc,{i18nKey:"deleteConfirmExecutionMessage",children:[" ",S("strong",{children:{name:q?.displayName}}),"."]}),continueButtonLabel:"delete",continueButtonVariant:ut.danger,onConfirm:async()=>{try{await e.authenticationManagement.delExecution({id:q?.id}),r(t("deleteExecutionSuccess"),vt.success),d()}catch(H){i("deleteExecutionError",H)}}}),[G,B]=Dc({titleKey:"deleteConfirmFlow",children:re(Fc,{i18nKey:"deleteConfirmFlowMessage",children:[" ",S("strong",{children:{flow:p?.alias||""}}),"."]}),continueButtonLabel:"delete",continueButtonVariant:ut.danger,onConfirm:async()=>{try{await e.authenticationManagement.deleteFlow({flowId:p.id}),c(Cv({realm:n})),r(t("deleteFlowSuccess"),vt.success)}catch(H){i("deleteFlowError",H)}}}),Z=m?.expandableList.length!==0,J=[...a!=="DEFAULT"?[S(Rt,{"data-testid":"set-as-default",onClick:x,children:t("bindFlow")},"default")]:[],S(Rt,{onClick:()=>O(!0),children:t("duplicate")},"duplicate"),...s?[]:[S(Rt,{"data-testid":"edit-flow",onClick:()=>y(!0),children:t("editInfo")},"edit"),S(Rt,{"data-testid":"delete-flow",onClick:()=>G(),children:t("delete")},"delete")]];return re(Ce,{children:[C&&S(kv,{flowAlias:p?.alias,onClose:H=>{x(),c(Iv({realm:n,id:o,usedBy:H?"DEFAULT":"notInUse",builtIn:s?"builtIn":void 0}))}}),L&&S(qv,{name:p?.alias,description:p?.description,toggleDialog:F,onComplete:()=>{d(),O(!1)}}),P&&S(jv,{flow:p,toggleDialog:()=>{y(!P),d()}}),S(B,{}),S(Tv,{titleKey:p?.alias||"",badges:[{text:S(Qf,{children:t(`used.${a}`)})},s?{text:S(Xv,{}),id:"builtIn"}:{}],dropdownItems:J}),re(Jf,{variant:"light",children:[m&&Z&&re(Ce,{children:[S(Av,{id:"toolbar",children:re(Mv,{children:[S(Yr,{children:re(xh,{children:[S(ir,{icon:S(Wv,{}),"aria-label":t("tableView"),buttonId:"tableView",isSelected:f,onChange:()=>h(!0)}),S(ir,{icon:S(Uv,{}),"aria-label":t("diagramView"),buttonId:"diagramView",isSelected:!f,onChange:()=>h(!1)})]})}),S(Yr,{children:S(_e,{"data-testid":"addStep",variant:"secondary",onClick:()=>A(!0),children:t("addStep")})}),S(Yr,{children:S(_e,{"data-testid":"addSubFlow",variant:"secondary",onClick:()=>T(!0),children:t("addSubFlow")})})]})}),S(z,{}),f&&S(Ov,{onDrag:({index:H})=>{const V=m.findExecution(H);return _(t("onDragStart",{item:V.displayName})),V.isCollapsed||(V.isCollapsed=!0,v(m.clone())),!0},onDragMove:({index:H})=>{const V=m.findExecution(H);_(t("onDragMove",{item:V?.displayName}))},onDrop:(H,V)=>{if(V){const K=m.findExecution(H.index),j=m.order().map(de=>de.id);_(t("onDragFinish",{list:K.displayName}));const[ie]=j.splice(H.index,1);j.splice(V.index,0,ie);const oe=m.getChange(K,j);return R(K,oe),!0}else return _(t("onDragCancel")),!1},children:S(zv,{hasNoWrapper:!0,children:re(Hv,{"aria-label":t("flows"),children:[S(PC,{}),S(Ce,{children:m.expandableList.map(H=>S(am,{builtIn:!!s,execution:H,onRowClick:V=>{V.isCollapsed=!V.isCollapsed,v(m.clone())},onRowChange:$,onAddExecution:(V,K)=>E(V.displayName,K),onAddFlow:(V,K)=>k(V.displayName,K),onDelete:V=>{M(V),D()}},H.id))})]})})}),p&&re(Ce,{children:[w&&S(Ks,{name:p.alias,type:p.providerId==="client-flow"?"client":"basic",onSelect:H=>{H&&E(p.alias,H),A(!1)}}),N&&S(Zs,{name:p.alias,onCancel:()=>T(!1),onConfirm:H=>{k(p.alias,H),T(!1)}})]}),S("div",{className:"pf-v5-screen-reader","aria-live":"assertive",children:b})]}),!f&&m?.expandableList&&S(LC,{executionList:m}),!m?.expandableList||p&&!Z&&S(ey,{flow:p,onAddExecution:H=>E(p.alias,H),onAddFlow:H=>k(p.alias,H)})]})]})}export{hI as default,yr as providerConditionFilter};
//# sourceMappingURL=FlowDetails-BgI_knZ1.js.map
