import{jsx as e,jsxs as a,Fragment as k}from"react/jsx-runtime";import{aq as ae,d9 as C,ar as G,a as L,e as Z,P as u,da as te,c0 as M,c1 as ie,c2 as x,c3 as H,c4 as U,c5 as y,d as A,cL as ne,db as ee,a8 as se,a9 as V,ac as le,x as ce,E as oe,G as W,dc as K,ax as de,H as me,f as _,ak as E,cx as he,cy as Y,bo as q,cv as w,bp as N,K as z,ao as O}from"./main-C047jAp3.js";import*as j from"react";import{useState as X,useMemo as I}from"react";import{R as pe,u as fe}from"./RoutableTabs-BpMBzAU0.js";import{u as be,m as ue}from"./useLocaleSort-O4LGWO8i.js";import{E as ve}from"./ExpandableSection-CzJlltxl.js";import{a as B,b as F}from"./Tabs-Dt-AxIu8.js";import{D as S,a as D,b as f,c as b}from"./DescriptionListTerm-pFw6GB12.js";import{L as $,a as J,b as ge}from"./ListItem-CzCWGkg6.js";import{A as Te,a as R}from"./KeySelect-DvFB2tXI.js";import"react-dom";import"./PageHandler-BsZt2gxJ.js";import"./DynamicComponents-CCNvrlYx.js";import"./ClientSelect-mboGti-R.js";import"./FileUpload-2t3HfN2b.js";import"./CodeEditor--AHMF_Ho.js";import"./copy-icon-D1BxihC2.js";import"./GroupPickerDialog-CRtxj-P-.js";import"./DataListItemRow-BUcm7LGX.js";import"./MultiLineInput-lQlb7SN3.js";import"./useToggle-K3Kx99tM.js";import"./AddRoleMappingModal-BqwO7G2x.js";import"./translationFormatter-CkqjPJdy.js";import"./ConfirmDialog-d09hGFUk.js";import"./filter-icon-BeqpAxqe.js";import"./useParams-6mfeCu18.js";import"./constants-BclHbWtx.js";const P={brand:"pf-v5-c-brand",modifiers:{picture:"pf-m-picture"}},ye={name:"--pf-v5-c-brand--Height",value:"auto",var:"var(--pf-v5-c-brand--Height)"},_e={name:"--pf-v5-c-brand--Width",value:"auto",var:"var(--pf-v5-c-brand--Width)"},re=r=>{var{className:t="",src:d="",alt:i,children:l,widths:o,heights:h,style:p}=r,n=ae(r,["className","src","alt","children","widths","heights","style"]);let c;return o!==void 0&&(c=Object.assign({},C(o,_e.name))),h!==void 0&&(c=Object.assign(Object.assign({},c),C(h,ye.name))),l!==void 0?j.createElement("picture",Object.assign({className:G(P.brand,P.modifiers.picture,t),style:Object.assign(Object.assign({},p),c)},n),l,j.createElement("img",{src:d,alt:i})):j.createElement("img",Object.assign({},n,{className:G(P.brand,t),style:Object.assign(Object.assign({},p),c),src:d,alt:i}))};re.displayName="Brand";var v;(function(r){r.Default="DEFAULT",r.DisabledByDefault="DISABLED_BY_DEFAULT",r.Preview="PREVIEW",r.PreviewDisabledByDefault="PREVIEW_DISABLED_BY_DEFAULT",r.Experimental="EXPERIMENTAL",r.Deprecated="DEPRECATED"})(v||(v={}));const Ee=()=>{const{t:r}=L(),t=Z(),[d,i]=X(""),[l,o]=X([]),h=I(()=>Object.entries(t.providers||[]).filter(([n])=>n.toLowerCase().includes(d.toLowerCase())),[d]),p=n=>{l.includes(n)?o(l.filter(c=>c!==n)):o([...l,n])};return e(u,{variant:"light",children:e(te,{inputGroupName:"search",inputGroupPlaceholder:r("search"),inputGroupOnEnter:i,children:a(M,{variant:"compact",children:[e(ie,{children:a(x,{children:[e(H,{width:20,children:r("spi")}),e(H,{children:r("providers")})]})}),e(U,{children:h.map(([n,{providers:c}])=>a(x,{children:[e(y,{children:n}),e(y,{children:e("ul",{children:Object.entries(c).map(([m,{operationalInfo:g}])=>a("li",{children:[m,g?e(ve,{isExpanded:l.includes(m),onToggle:()=>p(m),toggleText:l.includes(m)?r("showLess"):r("showMore"),children:e(M,{borders:!1,children:e(U,{children:Object.entries(g).map(([T,s])=>a(x,{children:[e(y,{children:T}),e(y,{children:s})]},T))})})},m):null]},m))})})]},n))})]})})})},De=()=>{const{environment:r}=ne(),{t}=L(),{realm:d,realmRepresentation:i}=A(),l=r.logo?r.logo:"/icon.svg",o=ee(t,i?.displayName,d);return e(u,{variant:"light",children:a(se,{variant:"lg",children:[e(re,{src:r.resourceUrl+l,alt:"Keycloak icon",className:"keycloak__dashboard_icon"}),e(V,{titleText:e(k,{children:t("welcome")}),headingLevel:"h2"}),e(V,{titleText:o,headingLevel:"h1"}),e(le,{children:t("introduction")})]})})},Q=({feature:r})=>{const{t}=L();return a(ge,{className:"pf-v5-u-mb-sm",children:[r.name,"Â ",r.type===v.Experimental&&e(O,{color:"orange",children:t("experimental")}),r.type===v.Preview&&e(O,{color:"blue",children:t("preview")}),r.type===v.Default&&e(O,{color:"green",children:t("supported")})]})},Ie=()=>{const{t:r}=L(),{realm:t,realmRepresentation:d}=A(),i=Z(),l=be(),o=I(()=>l(i.features??[],ue("name")),[i.features]),h=I(()=>o.filter(s=>!s.enabled)||[],[i.features]),p=I(()=>o.filter(s=>s.enabled)||[],[i.features]),n=s=>fe(K({realm:t,tab:s})),c=ee(r,d?.displayName,t),m=n("welcome"),g=n("info"),T=n("providers");return Object.keys(i).length===0?e(ce,{}):a(k,{children:[e(u,{variant:"light",children:e(oe,{className:"pf-v5-u-mr-sm",children:e(W,{component:"h1",children:r("realmNameTitle",{name:t})})})}),e(u,{variant:"light",className:"pf-v5-u-p-0",children:a(pe,{"data-testid":"dashboard-tabs",defaultLocation:K({realm:t,tab:"welcome"}),isBox:!0,mountOnEnter:!0,children:[e(B,{id:"welcome","data-testid":"welcomeTab",title:e(F,{children:r("welcomeTabTitle")}),...m,children:e(u,{variant:"light",children:a("div",{className:"pf-v5-l-grid pf-v5-u-ml-lg",children:[e("div",{className:"pf-v5-l-grid__item pf-m-12-col",children:e(de,{className:"pf-v5-u-font-weight-bold",headingLevel:"h2",size:"3xl",children:r("welcomeTo",{realmDisplayInfo:c})})}),e("div",{className:"pf-v5-l-grid__item keycloak__dashboard_welcome_tab",children:e(W,{component:me.h3,children:r("welcomeText")})}),e("div",{className:"pf-v5-l-grid__item pf-m-10-col pf-v5-u-mt-md",children:e(_,{className:"pf-v5-u-px-lg pf-v5-u-py-sm",component:"a",href:E.documentation,target:"_blank",variant:"primary",children:r("viewDocumentation")})}),a(Te,{className:"pf-v5-u-mt-sm",children:[e(R,{children:e(_,{component:"a",href:E.guides,target:"_blank",variant:"tertiary",children:r("viewGuides")})}),e(R,{children:e(_,{component:"a",href:E.community,target:"_blank",variant:"tertiary",children:r("joinCommunity")})}),e(R,{children:e(_,{component:"a",href:E.blog,target:"_blank",variant:"tertiary",children:r("readBlog")})})]})]})})}),e(B,{id:"info","data-testid":"infoTab",title:e(F,{children:r("serverInfo")}),...g,children:e(u,{variant:"light",children:a(he,{hasGutter:!0,children:[e(Y,{lg:2,sm:12,children:a(q,{className:"keycloak__dashboard_card",children:[e(w,{children:r("serverInfo")}),e(N,{children:e(S,{children:a(D,{children:[e(f,{children:r("version")}),e(b,{children:i.systemInfo?.version})]})})}),e(w,{children:r("memory")}),e(N,{children:e(S,{children:a(D,{children:[e(f,{children:r("totalMemory")}),e(b,{children:i.memoryInfo?.totalFormated}),e(f,{children:r("freeMemory")}),e(b,{children:i.memoryInfo?.freeFormated}),e(f,{children:r("usedMemory")}),e(b,{children:i.memoryInfo?.usedFormated})]})})})]})}),e(Y,{lg:10,sm:12,children:a(q,{className:"keycloak__dashboard_card",children:[e(w,{children:r("profile")}),e(N,{children:a(S,{children:[a(D,{children:[a(f,{children:[r("enabledFeatures")," ",e(z,{fieldLabelId:"enabledFeatures",helpText:r("infoEnabledFeatures")})]}),e(b,{children:e($,{variant:J.inline,children:p.map(s=>e(Q,{feature:s},s.name))})})]}),a(D,{children:[a(f,{children:[r("disabledFeatures")," ",e(z,{fieldLabelId:"disabledFeatures",helpText:r("infoDisabledFeatures")})]}),e(b,{children:e($,{variant:J.inline,children:h.map(s=>e(Q,{feature:s},s.name))})})]})]})})]})})]})})}),e(B,{id:"providers","data-testid":"providersTab",title:e(F,{children:r("providerInfo")}),...T,children:e(Ee,{})})]})})]})};function Qe(){const{realm:r}=A(),t=r==="master";return a(k,{children:[!t&&e(De,{}),t&&e(Ie,{})]})}export{Qe as default};
//# sourceMappingURL=Dashboard-CbBeJlo5.js.map
