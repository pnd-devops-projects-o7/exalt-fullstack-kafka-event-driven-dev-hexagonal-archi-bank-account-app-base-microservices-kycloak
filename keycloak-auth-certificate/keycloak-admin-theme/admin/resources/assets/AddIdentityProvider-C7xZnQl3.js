import{jsxs as a,Fragment as I,jsx as e}from"react/jsx-runtime";import{useMemo as b}from"react";import{u as S,a as k,j as A,e as V,$ as C,b as F,d as j,bZ as x,P as D,m as G,A as L,f as p,L as w,dK as E,p as H,dL as K}from"./main-C047jAp3.js";import{D as T}from"./DynamicComponents-CCNvrlYx.js";import{F as $}from"./FormAccess-CEFqBG2E.js";import{V as z}from"./ViewHeader-Y2Z8ln-o.js";import{u as B}from"./useParams-6mfeCu18.js";import{G as M}from"./GeneralSettings-DbJ5HSez.js";import"react-dom";import"./ClientSelect-mboGti-R.js";import"./FileUpload-2t3HfN2b.js";import"./CodeEditor--AHMF_Ho.js";import"./copy-icon-D1BxihC2.js";import"./GroupPickerDialog-CRtxj-P-.js";import"./DataListItemRow-BUcm7LGX.js";import"./KeySelect-DvFB2tXI.js";import"./useToggle-K3Kx99tM.js";import"./MultiLineInput-lQlb7SN3.js";import"./AddRoleMappingModal-BqwO7G2x.js";import"./translationFormatter-CkqjPJdy.js";import"./useLocaleSort-O4LGWO8i.js";import"./ConfirmDialog-d09hGFUk.js";import"./filter-icon-BeqpAxqe.js";import"./ClientIdSecret-D8YFRWLH.js";import"./RedirectUrl-BKPgDV71.js";function fr(){const{adminClient:l}=S(),{t:i}=k(),{providerId:r}=B(),o=A({mode:"onChange"}),n=V(),m=b(()=>{const t=["org.keycloak.broker.social.SocialIdentityProvider","org.keycloak.broker.provider.IdentityProvider"];for(const s of t){const c=n.componentTypes?.[s]?.find(({id:h})=>h===r);if(c)return c}},[n,r]),{handleSubmit:u,formState:{isValid:f}}=o,{addAlert:v,addError:y}=C(),g=F(),{realm:d}=j(),P=async t=>{try{await l.identityProviders.create({...t,providerId:r,alias:t.alias}),v(i("createIdentityProviderSuccess"),H.success),g(K({realm:d,providerId:r,alias:t.alias,tab:"settings"}))}catch(s){y("createError",s)}};return o.getValues("alias")||o.setValue("alias",r),a(I,{children:[e(z,{titleKey:i("addIdentityProvider",{provider:x(r)})}),e(D,{variant:"light",children:a($,{role:"manage-identity-providers",isHorizontal:!0,onSubmit:u(P),children:[a(G,{...o,children:[e(M,{id:r}),m&&e(T,{stringify:!0,properties:m.properties})]}),a(L,{children:[e(p,{isDisabled:!f,variant:"primary",type:"submit","data-testid":"createProvider",children:i("add")}),e(p,{variant:"link","data-testid":"cancel",component:t=>e(w,{...t,to:E({realm:d})}),children:i("cancel")})]})]})})]})}export{fr as default};
//# sourceMappingURL=AddIdentityProvider-C7xZnQl3.js.map
