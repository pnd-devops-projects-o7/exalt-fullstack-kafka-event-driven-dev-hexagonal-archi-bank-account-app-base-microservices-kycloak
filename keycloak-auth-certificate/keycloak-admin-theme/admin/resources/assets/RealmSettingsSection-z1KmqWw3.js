import{jsx as e,jsxs as c,Fragment as Q}from"react/jsx-runtime";import{aq as Na,eJ as Oa,ar as Va,dw as Ma,eK as Ka,eL as Fa,eM as Ha,eN as Ga,eO as Ua,ej as Ba,ex as ra,ey as _a,ds as za,ei as $a,eP as ja,eA as qa,eQ as Wa,du as Ja,u as se,e1 as it,C as Ge,a as G,$ as Ce,j as ye,I as He,P as oe,m as Ue,cw as Se,Q as be,eR as Lt,J as D,N as F,cW as Nt,X as oa,ct as Qa,bs as ft,eS as Xa,L as Ie,cA as Ya,A as Pe,f as R,p as ce,d as ie,x as We,cL as ca,bC as Ht,bD as bt,a4 as Za,bE as Pt,W as Qe,K as V,bS as da,bT as Ne,cM as pt,w as At,n as Ke,q as ge,M as je,l as Xe,B as le,E as st,G as Oe,F as rt,bR as en,bV as lt,a7 as Be,c6 as ve,S as _e,ai as te,ao as ht,b as Ye,av as Gt,aw as Me,ax as ua,R as gt,k as xe,eT as Wt,T as Le,eU as tn,eV as Ot,eW as an,eX as nn,e as ze,c7 as ke,bX as ln,a2 as Jt,a0 as Ct,ew as sn,d2 as rn,d3 as on,H as Ut,eY as ot,aj as cn,b_ as Bt,y as dn,eZ as Qt,bl as ma,ag as pa,bv as ha,bm as fa,D as at,bx as ct,bw as $e,eH as Vt,eI as _t,a5 as ba,cc as un,cd as mn,ce as Xt,cf as ga,e_ as pn,e$ as we,U as Ze,V as Je,f0 as Ve,f1 as Et,au as hn,c0 as fn,c1 as bn,c2 as Yt,c3 as dt,c4 as gn,c5 as ut,f2 as vn,d8 as yn,eq as Tn,cG as Zt,O as wt,f3 as ea,f4 as Cn,a6 as Sn,dD as kn,f5 as In,f6 as ta,f7 as aa,dg as xt,bk as na,dc as Ln,ak as Pn,o as An,s as En,cI as wn,v as xn}from"./main-C047jAp3.js";import Dn,{useState as p,useEffect as Ae,useMemo as nt}from"react";import{u as Te}from"./ConfirmDialog-d09hGFUk.js";import{R as vt,u as yt}from"./RoutableTabs-BpMBzAU0.js";import{V as Rn}from"./ViewHeader-Y2Z8ln-o.js";import{u as zt}from"./useLocale-D_QRvci7.js";import{F as ae,b as Nn,a as On}from"./FormAccess-CEFqBG2E.js";import{u as qe}from"./useToggle-K3Kx99tM.js";/* empty css                               */import{a as Dt}from"./KeySelect-DvFB2tXI.js";import{U as et}from"./userProfileMetadata-CFgHgJ2w.js";import{D as Mt}from"./SwitchControl-87mhceN2.js";import{K as Vn}from"./KeyValueInput-B35agFBw.js";import{J as Mn}from"./JsonFileUpload-Dej5GsDK.js";import{d as va,D as ya,a as Ta,b as Ca,c as Kt}from"./DataListItemRow-BUcm7LGX.js";import{t as Sa}from"./translationFormatter-CkqjPJdy.js";import{b as Kn}from"./_baseSlice-F8doVSIJ.js";import{C as $t,L as jt}from"./CodeEditor--AHMF_Ho.js";import{T as Z,t as Fn}from"./TimeSelector-kOMzNss2.js";import{R as Hn}from"./AddRoleMappingModal-BqwO7G2x.js";import{G as Gn}from"./GroupPickerDialog-CRtxj-P-.js";import{T as Tt}from"./Trans-C8a1WrTl.js";import{Q as Un}from"./question-circle-icon-CJxJ4SYK.js";import{T as St,a as $,b as j}from"./Tabs-Dt-AxIu8.js";import{T as ka}from"./TimeSelectorControl-BN61rXeQ.js";import{i as Ia}from"./isEqual-deZv8OsO.js";import{u as Bn}from"./useFormatDate-Bn-bRoLD.js";import{F as La}from"./filter-icon-BeqpAxqe.js";import{D as Pa}from"./DraggableTable-B53ph1aP.js";import{KeyProviderForm as _n}from"./KeyProviderForm--I1NCSc5.js";import{D as zn}from"./DropdownPanel-BZ5vtrQT.js";import{u as $n,m as jn}from"./useLocaleSort-O4LGWO8i.js";import{p as qn}from"./pickBy-Crd9G7N4.js";import{P as Wn}from"./pencil-alt-icon-Ccyinb6h.js";import{u as qt,U as Jn}from"./UserProfileContext-DnL-Q4sd.js";import"react-dom";import"./PageHandler-BsZt2gxJ.js";import"./DynamicComponents-CCNvrlYx.js";import"./ClientSelect-mboGti-R.js";import"./FileUpload-2t3HfN2b.js";import"./MultiLineInput-lQlb7SN3.js";import"./useParams-6mfeCu18.js";import"./constants-BclHbWtx.js";import"./copy-icon-D1BxihC2.js";import"./FileUploadForm-BSqaRKUe.js";const Ft=l=>{var{children:n,className:a,label:t}=l,i=Na(l,["children","className","label"]);return Dn.createElement(Oa,Object.assign({className:Va(a),label:t},i),n)};Ft.displayName="SelectGroup";function Qn(l){var n=l==null?0:l.length;return n?Ma(l):[]}function Xn(l){return Ka(Fa(l,void 0,Qn),l+"")}var Yn="[object Object]",Zn=Function.prototype,el=Object.prototype,Aa=Zn.toString,tl=el.hasOwnProperty,al=Aa.call(Object);function nl(l){if(!Ha(l)||Ga(l)!=Yn)return!1;var n=Ua(l);if(n===null)return!0;var a=tl.call(n,"constructor")&&n.constructor;return typeof a=="function"&&a instanceof a&&Aa.call(a)==al}function ll(l,n){return n.length<2?l:Ba(l,Kn(n,0,-1))}function il(l,n){return n=ra(n,l),l=ll(l,n),l==null||delete l[_a(za(n))]}function sl(l){return nl(l)?void 0:l}var rl=1,ol=2,cl=4,Ea=Xn(function(l,n){var a={};if(l==null)return a;var t=!1;n=$a(n,function(s){return s=ra(s,l),t||(t=s.length>1),s}),ja(l,qa(l),a),t&&(a=Wa(a,rl|ol|cl,sl));for(var i=n.length;i--;)il(a,n[i]);return a});function dl(l,n){return n=typeof n=="function"?n:void 0,l&&l.length?Ja(l,void 0,n):[]}function ul(){const{adminClient:l}=se(),{whoAmI:n}=it(),[a,t]=p(),i=n.getUserId();return Ge(()=>l.users.findOne({id:i}),t,[i]),{...a,realm:n.getRealm()}}const ml=({realm:l,save:n})=>{const{adminClient:a}=se(),{t}=G(),{addAlert:i,addError:s}=Ce(),u=ul(),d=ye({defaultValues:l}),{control:h,handleSubmit:o,watch:m,reset:L,getValues:k}=d,N=()=>L(l),T=m("smtpServer.from",""),b=m("smtpServer.host",""),[r,f]=qe(),v=He({control:h,name:"smtpServer.auth",defaultValue:""}),S=async()=>{const y=P=>Number(P),M=P=>P==="true",w=new Map([["port",y],["ssl",M],["starttls",M],["auth",M]]),x={...k().smtpServer};for(const[P,B]of w.entries())x[P]=B(x[P]);x.port===0&&(x.port=null);try{f(),await a.realms.testSMTPConnection({realm:l.realm},x),i(t("testConnectionSuccess"),ce.success)}catch(P){s("testConnectionError",P)}f()};return e(oe,{variant:"light",children:c(Ue,{...d,children:[e(Se,{title:t("template"),className:"kc-email-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:o(n),children:[e(be,{name:"smtpServer.from",label:t("from"),type:"email",placeholder:t("smtpFromPlaceholder"),rules:{pattern:{value:Lt,message:t("emailInvalid")},required:t("required")}}),e(be,{name:"smtpServer.fromDisplayName",label:t("fromDisplayName"),labelIcon:t("fromDisplayNameHelp"),placeholder:t("smtpFromDisplayPlaceholder")}),e(be,{name:"smtpServer.replyTo",label:t("replyTo"),type:"email",placeholder:t("replyToEmailPlaceholder"),rules:{pattern:{value:Lt,message:t("emailInvalid")}}}),e(be,{name:"smtpServer.replyToDisplayName",label:t("replyToDisplayName"),labelIcon:t("replyToDisplayNameHelp"),placeholder:t("replyToDisplayPlaceholder")}),e(be,{name:"smtpServer.envelopeFrom",label:t("envelopeFrom"),labelIcon:t("envelopeFromHelp"),placeholder:t("senderEnvelopePlaceholder")})]})}),e(Se,{className:"kc-email-connection",title:t("connectionAndAuthentication"),children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:o(n),children:[e(be,{name:"smtpServer.host",label:t("host"),rules:{required:t("required")}}),e(be,{name:"smtpServer.port",label:t("port"),placeholder:t("smtpPortPlaceholder")}),c(D,{label:t("encryption"),fieldId:"kc-html-display-name",children:[e(F,{name:"smtpServer.ssl",control:h,defaultValue:"false",render:({field:y})=>e(Nt,{id:"kc-enable-ssl","data-testid":"enable-ssl",label:t("enableSSL"),isChecked:y.value==="true",onChange:(M,w)=>y.onChange(""+w)})}),e(F,{name:"smtpServer.starttls",control:h,defaultValue:"false",render:({field:y})=>e(Nt,{id:"kc-enable-start-tls","data-testid":"enable-start-tls",label:t("enableStartTLS"),isChecked:y.value==="true",onChange:(M,w)=>y.onChange(""+w)})})]}),e(oa,{name:"smtpServer.auth",label:t("authentication"),defaultValue:"",labelOn:t("enabled"),labelOff:t("disabled"),stringify:!0}),v==="true"&&c(Q,{children:[e(be,{name:"smtpServer.user",label:t("username"),placeholder:t("loginUsernamePlaceholder"),rules:{required:t("required")}}),e(Qa,{name:"smtpServer.password",label:t("password"),labelIcon:t("passwordHelp"),rules:{required:t("required")}})]}),u&&e(D,{id:"descriptionTestConnection",children:u.email?e(ft,{variant:"info",component:"h2",isInline:!0,title:t("testConnectionHint.withEmail",{email:u.email})}):e(ft,{variant:"warning",component:"h2",isInline:!0,title:t("testConnectionHint.withoutEmail",{userName:u.username}),actionLinks:e(Xa,{component:y=>e(Ie,{...y,to:Ya({realm:u.realm,id:u.id,tab:"settings"})}),children:t("testConnectionHint.withoutEmailAction")})})}),c(Pe,{children:[e(Dt,{children:e(R,{variant:"primary",type:"submit","data-testid":"email-tab-save",children:t("save")})}),e(Dt,{children:e(R,{variant:"secondary",onClick:()=>S(),"data-testid":"test-connection-button",isDisabled:!(Lt.test(T)&&b)||!u?.email,"aria-describedby":"descriptionTestConnection",isLoading:r,spinnerAriaValueText:t("testingConnection"),children:t("testConnection")})}),e(Dt,{children:e(R,{variant:"link",onClick:N,"data-testid":"email-tab-revert",children:t("revert")})})]})]})})]})})},pl=({realm:l,save:n})=>{const{adminClient:a}=se(),{realm:t}=ie(),[i,s]=p();return Ge(()=>a.users.getProfile({realm:t}),u=>s(u),[]),i?e(fl,{realm:l,save:n,userProfileConfig:i}):e(We,{})},hl=["all","external","none"],Rt=[et.Disabled,et.Enabled,et.AdminView,et.AdminEdit];function fl({realm:l,save:n,userProfileConfig:a}){const{environment:{serverBaseUrl:t}}=ca(),{t:i}=G(),{realm:s}=ie(),u=ye(),{control:d,handleSubmit:h,setValue:o,formState:{errors:m}}=u,L=Ht(),k=L(bt.Organizations),N=L(bt.OpenId4VCI),T=()=>{if(Ke(l,o),o("unmanagedAttributePolicy",a.unmanagedAttributePolicy||Rt[0]),l.attributes?.["acr.loa.map"]){const r=Object.entries(JSON.parse(l.attributes["acr.loa.map"])).flatMap(([f,v])=>({key:f,value:v}));r.concat({key:"",value:""}),o(Pt("attributes.acr.loa.map"),r)}};Ae(T,[]);const b=h(async({unmanagedAttributePolicy:r,...f})=>{const v={...a};r===et.Disabled?delete v.unmanagedAttributePolicy:v.unmanagedAttributePolicy=r,await n({...f,upConfig:v})});return e(oe,{variant:"light",children:e(Ue,{...u,children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-u-mt-lg",onSubmit:b,children:[c(D,{label:i("realmName"),fieldId:"kc-realm-id",isRequired:!0,children:[e(F,{name:"realm",control:d,rules:{required:{value:!0,message:i("required")}},defaultValue:"",render:({field:r})=>e(Nn,{"data-testid":"realmName",onChange:r.onChange,children:r.value})}),m.realm&&e(Za,{"data-testid":"realm-id-error",message:m.realm.message})]}),e(be,{name:"displayName",label:i("displayName")}),e(be,{name:"displayNameHtml",label:i("htmlDisplayName")}),e(be,{name:Pt("attributes.frontendUrl"),type:"url",label:i("frontendUrl"),labelIcon:i("frontendUrlHelp")}),e(Qe,{name:"sslRequired",label:i("requireSsl"),labelIcon:i("requireSslHelp"),controller:{defaultValue:"none"},options:hl.map(r=>({key:r,value:i(`sslType.${r}`)}))}),e(D,{label:i("acrToLoAMapping"),fieldId:"acrToLoAMapping",labelIcon:e(V,{helpText:i("acrToLoAMappingHelp"),fieldLabelId:"acrToLoAMapping"}),children:e(Vn,{label:i("acrToLoAMapping"),name:Pt("attributes.acr.loa.map")})}),e(Mt,{name:"userManagedAccessAllowed",label:i("userManagedAccess"),labelIcon:i("userManagedAccessHelp")}),k&&e(Mt,{name:"organizationsEnabled",label:i("organizationsEnabled"),labelIcon:i("organizationsEnabledHelp")}),e(Qe,{name:"unmanagedAttributePolicy",label:i("unmanagedAttributes"),labelIcon:i("unmanagedAttributesHelpText"),controller:{defaultValue:Rt[0]},options:Rt.map(r=>({key:r,value:i(`unmanagedAttributePolicy.${r}`)}))}),e(D,{label:i("endpoints"),labelIcon:e(V,{helpText:i("endpointsHelp"),fieldLabelId:"endpoints"}),fieldId:"kc-endpoints",children:c(da,{children:[e(Ne,{children:e(pt,{href:`${At(t)}realms/${s}/.well-known/openid-configuration`,title:i("openIDEndpointConfiguration")})}),e(Ne,{children:e(pt,{href:`${At(t)}realms/${s}/protocol/saml/descriptor`,title:i("samlIdentityProviderMetadata")})}),N&&e(Ne,{children:e(pt,{href:`${At(t)}realms/${s}/.well-known/openid-credential-issuer`,title:i("oid4vcIssuerMetadata")})})]})}),e(On,{name:"realmSettingsGeneralTab",reset:T,isSubmit:!0})]})})})}const bl=({realm:l,refresh:n})=>{const{adminClient:a}=se(),{t}=G(),{addAlert:i,addError:s}=Ce(),{realm:u}=ie(),d=async h=>{const o=Array.isArray(h)?Object.keys(h[0])[0]:Object.keys(h)[0];try{await a.realms.update({realm:u},Array.isArray(h)?h.reduce((m,L)=>Object.assign(m,L),l):Object.assign(l,h)),i(t("enableSwitchSuccess",{switch:t(o)})),n()}catch(m){s("enableSwitchError",m)}};return c(oe,{variant:"light",children:[e(Se,{className:"kc-login-screen",title:t("loginScreenCustomization"),children:c(ae,{isHorizontal:!0,role:"manage-realm",children:[e(D,{label:t("registrationAllowed"),fieldId:"kc-user-reg",labelIcon:e(V,{helpText:t("userRegistrationHelpText"),fieldLabelId:"registrationAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-user-reg-switch","data-testid":"user-reg-switch",value:l.registrationAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.registrationAllowed,onChange:(h,o)=>{d({registrationAllowed:o})},"aria-label":t("registrationAllowed")})}),e(D,{label:t("resetPasswordAllowed"),fieldId:"kc-forgot-pw",labelIcon:e(V,{helpText:t("forgotPasswordHelpText"),fieldLabelId:"resetPasswordAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-forgot-pw-switch","data-testid":"forgot-pw-switch",name:"resetPasswordAllowed",value:l.resetPasswordAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.resetPasswordAllowed,onChange:(h,o)=>{d({resetPasswordAllowed:o})},"aria-label":t("resetPasswordAllowed")})}),e(D,{label:t("rememberMe"),fieldId:"kc-remember-me",labelIcon:e(V,{helpText:t("rememberMeHelpText"),fieldLabelId:"rememberMe"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-remember-me-switch","data-testid":"remember-me-switch",value:l.rememberMe?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.rememberMe,onChange:(h,o)=>{d({rememberMe:o})},"aria-label":t("rememberMe")})})]})}),e(Se,{className:"kc-email-settings",title:t("emailSettings"),children:c(ae,{isHorizontal:!0,role:"manage-realm",children:[e(D,{label:t("registrationEmailAsUsername"),fieldId:"kc-email-as-username",labelIcon:e(V,{helpText:t("emailAsUsernameHelpText"),fieldLabelId:"registrationEmailAsUsername"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-email-as-username-switch","data-testid":"email-as-username-switch",value:l.registrationEmailAsUsername?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.registrationEmailAsUsername,onChange:(h,o)=>{d([{registrationEmailAsUsername:o},{duplicateEmailsAllowed:!1}])},"aria-label":t("registrationEmailAsUsername")})}),e(D,{label:t("loginWithEmailAllowed"),fieldId:"kc-login-with-email",labelIcon:e(V,{helpText:t("loginWithEmailHelpText"),fieldLabelId:"loginWithEmailAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-login-with-email-switch","data-testid":"login-with-email-switch",value:l.loginWithEmailAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.loginWithEmailAllowed,onChange:(h,o)=>{d([{loginWithEmailAllowed:o},{duplicateEmailsAllowed:!1}])},"aria-label":t("loginWithEmailAllowed")})}),e(D,{label:t("duplicateEmailsAllowed"),fieldId:"kc-duplicate-emails",labelIcon:e(V,{helpText:t("duplicateEmailsHelpText"),fieldLabelId:"duplicateEmailsAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-duplicate-emails-switch","data-testid":"duplicate-emails-switch",label:t("on"),labelOff:t("off"),isChecked:l.duplicateEmailsAllowed,onChange:(h,o)=>{d({duplicateEmailsAllowed:o})},isDisabled:l.loginWithEmailAllowed||l.registrationEmailAsUsername,"aria-label":t("duplicateEmailsAllowed")})}),e(D,{label:t("verifyEmail"),fieldId:"kc-verify-email",labelIcon:e(V,{helpText:t("verifyEmailHelpText"),fieldLabelId:"verifyEmail"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-verify-email-switch","data-testid":"verify-email-switch",name:"verifyEmail",value:l.verifyEmail?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.verifyEmail,onChange:(h,o)=>{d({verifyEmail:o})},"aria-label":t("verifyEmail")})})]})}),e(Se,{className:"kc-user-info-settings",title:t("userInfoSettings"),children:e(ae,{isHorizontal:!0,role:"manage-realm",children:e(D,{label:t("editUsernameAllowed"),fieldId:"kc-edit-username",labelIcon:e(V,{helpText:t("editUsernameHelp"),fieldLabelId:"editUsernameAllowed"}),hasNoPaddingTop:!0,children:e(ge,{id:"kc-edit-username-switch","data-testid":"edit-username-switch",value:l.editUsernameAllowed?"on":"off",label:t("on"),labelOff:t("off"),isChecked:l.editUsernameAllowed,onChange:(h,o)=>{d({editUsernameAllowed:o})},"aria-label":t("editUsernameAllowed")})})})})]})},gl=({isOpen:l,onClose:n})=>{const{adminClient:a}=se(),{t}=G(),{realm:i}=ie(),{addAlert:s,addError:u}=Ce(),[d,h]=p(!1),[o,m]=p(!1),[L,k]=p(!1),N=d||o;async function T(){k(!0);try{const b=await a.realms.export({realm:i,exportClients:o,exportGroupsAndRoles:d});en.saveAs(new Blob([lt(b)],{type:"application/json"}),"realm-export.json"),s(t("exportSuccess"),ce.success),n()}catch(b){u("exportFail",b)}k(!1)}return c(je,{variant:Xe.small,title:t("partialExport"),isOpen:l,onClose:n,actions:[e(R,{"data-testid":"export-button",isDisabled:L,onClick:T,children:t("export")},"export"),e(R,{"data-testid":"cancel-button",variant:le.link,onClick:n,children:t("cancel")},"cancel")],children:[e(st,{children:e(Oe,{children:t("partialExportHeaderText")})}),c(rt,{isHorizontal:!0,className:"keycloak__realm-settings__partial-import_form",children:[e(D,{label:t("includeGroupsAndRoles"),fieldId:"include-groups-and-roles-check",hasNoPaddingTop:!0,children:e(ge,{id:"include-groups-and-roles-check","data-testid":"include-groups-and-roles-check",isChecked:d,onChange:(b,r)=>h(r),label:t("on"),labelOff:t("off"),"aria-label":t("includeGroupsAndRoles")})}),e(D,{label:t("includeClients"),fieldId:"include-clients-check",hasNoPaddingTop:!0,children:e(ge,{id:"include-clients-check","data-testid":"include-clients-check",onChange:(b,r)=>m(r),isChecked:o,label:t("on"),labelOff:t("off"),"aria-label":t("includeClients")})})]}),N&&e(ft,{"data-testid":"warning-message",variant:"warning",component:"p",title:t("exportWarningTitle"),isInline:!0,children:t("exportWarningDescription")})]})},la={users:!1,clients:!1,groups:!1,identityProviders:!1,realmRoles:!1,clientRoles:!1},vl=l=>{const{adminClient:n}=se(),{t:a}=G(),{realm:t}=ie(),[i,s]=p(),u=!!i,[d,h]=p(!1),[o,m]=p(!1),[L,k]=p(!1),[N,T]=p("FAIL"),[b,r]=p({}),[f,v]=p(),{addError:S}=Ce(),[y,M]=p(la),w=Object.values(y).some(C=>C),x=()=>{M(la)},P=()=>{s(void 0),r({}),T("FAIL"),x()};Ae(()=>{k(!1),v(void 0),P()},[l.open]);const B=C=>{P(),s(C),Array.isArray(C)?C.length>0&&r(C[0]):r(C)},g=C=>{r(C),h(!1),x()},A=(C,ee)=>{const De=ee.currentTarget.name;M({...y,[De]:C})},O=C=>C.map(ee=>e(te,{value:ee,"data-testid":ee.id+"-select-option",children:ee.realm||ee.id},ee.id)),_=C=>{T(C),m(!1)},J=()=>[e(te,{value:"FAIL",children:a("FAIL")},"fail"),e(te,{value:"SKIP",children:a("SKIP")},"skip"),e(te,{value:"OVERWRITE",children:a("OVERWRITE")},"overwrite")],U=()=>q("users")||q("groups")||q("clients")||q("identityProviders")||re()||ne(),q=C=>{const ee=b[C];return ee!==void 0&&ee.length>0},re=()=>{const C=b.roles?.realm;return C!==void 0&&C.length>0},ne=()=>{const C=b.roles?.client;return C!==void 0&&Object.keys(C).length>0},pe=C=>u?C==="realmRoles"?b.roles?.realm?.length??0:C==="clientRoles"?ne()?he(b.roles.client):0:b[C]?.length??0:0,he=C=>Object.values(C).reduce((ee,De)=>ee+De.length,0),ue=(C,ee)=>e(ya,{"aria-labelledby":`${C}-list-item`,children:e(Ta,{children:e(Ca,{dataListCells:[e(Kt,{children:e(Nt,{id:`${C}-checkbox`,label:`${pe(C)} ${ee}`,"aria-labelledby":`${C}-checkbox`,name:C,isChecked:y[C],onChange:(De,kt)=>A(kt,De),"data-testid":C+"-checkbox"})},C)]})})}),fe=()=>{const C={ifResourceExists:N,id:b.id,realm:b.realm};return y.users&&(C.users=b.users),y.groups&&(C.groups=b.groups),y.identityProviders&&(C.identityProviders=b.identityProviders),y.clients&&(C.clients=b.clients),(y.realmRoles||y.clientRoles)&&(C.roles=b.roles,y.realmRoles||delete C.roles?.realm,y.clientRoles||delete C.roles?.client),C};async function I(){if(!L){k(!0);try{const C=await n.realms.partialImport({realm:t,rep:fe()});v(C)}catch(C){S("importFail",C)}k(!1)}}const E=()=>e(je,{variant:Xe.medium,title:a("partialImport"),isOpen:l.open,onClose:l.toggleDialog,actions:[e(R,{id:"modal-import","data-testid":"import-button",isDisabled:!w,onClick:()=>{I()},children:a("import")},"import"),e(R,{id:"modal-cancel","data-testid":"cancel-button",variant:le.link,onClick:()=>{l.toggleDialog()},children:a("cancel")},"cancel")],children:c(da,{hasGutter:!0,children:[e(Ne,{children:e(st,{children:e(Oe,{children:a("partialImportHeaderText")})})}),e(Ne,{children:e(Mn,{id:"partial-import-file",allowEditingUploadedText:!0,onChange:B})}),u&&U()&&c(Q,{children:[e(Ne,{children:e(Be,{})}),Array.isArray(i)&&i.length>1&&c(Ne,{children:[c(Oe,{children:[a("selectRealm"),":"]}),e(ve,{toggleId:"realm-selector",isOpen:d,typeAheadAriaLabel:a("realmSelector"),"aria-label":a("realmSelector"),onToggle:()=>h(!d),selections:b.id,onSelect:C=>g(C),placeholderText:b.realm||b.id,children:O(i)})]}),c(Ne,{children:[c(Oe,{children:[a("chooseResources"),":"]}),c(va,{"aria-label":a("resourcesToImport"),isCompact:!0,children:[q("users")&&ue("users",a("users")),q("groups")&&ue("groups",a("groups")),q("clients")&&ue("clients",a("clients")),q("identityProviders")&&ue("identityProviders",a("identityProviders")),re()&&ue("realmRoles",a("realmRoles")),ne()&&ue("clientRoles",a("clientRoles"))]})]}),c(Ne,{children:[c(Oe,{children:[a("selectIfResourceExists"),":"]}),e(ve,{isOpen:o,direction:"up",onToggle:()=>{m(!o)},selections:N,onSelect:_,placeholderText:a(N),children:J()})]})]})]})}),H=()=>`${a("importAdded",{count:f?.added})}  ${a("importSkipped",{count:f?.skipped})} ${a("importOverwritten",{count:f?.overwritten})}`,X=async(C=0,ee=15)=>{if(!f)return[];const De=Math.min(C+ee,f.results.length);return f.results.slice(C,De)},W=C=>{switch(C.action){case"ADDED":return e(ht,{color:"green",children:a("added")},C.id);case"SKIPPED":return e(ht,{color:"orange",children:a("skipped")},C.id);case"OVERWRITTEN":return e(ht,{color:"purple",children:a("overwritten")},C.id);default:return""}},me=C=>{const ee=new Map([["CLIENT",a("clients")],["REALM_ROLE",a("realmRoles")],["USER",a("users")],["CLIENT_ROLE",a("clientRoles")],["IDP",a("identityProviders")],["GROUP",a("groups")]]);return e("span",{children:ee.get(C.resourceType)})},Ee=()=>c(je,{variant:Xe.medium,title:a("partialImport"),isOpen:l.open,onClose:l.toggleDialog,actions:[e(R,{id:"modal-close","data-testid":"close-button",variant:le.primary,onClick:()=>{l.toggleDialog()},children:a("close")},"close")],children:[e(ft,{variant:"success",component:"p",isInline:!0,title:H()}),e(_e,{loader:X,isPaginated:!0,ariaLabelKey:"partialImport",columns:[{name:"action",displayKey:"action",cellRenderer:W},{name:"resourceType",displayKey:"type",cellRenderer:me},{name:"resourceName",displayKey:"name"},{name:"id",displayKey:"id"}]})]});return f?Ee():E()},yl=()=>{const{adminClient:l}=se(),{t:n}=G(),{addAlert:a,addError:t}=Ce(),{realm:i}=ie(),s=Ye(),[u,d]=p(!1),[h,o]=p(),[m,L]=p(),[k,N]=p(0),[T,b]=p(),[r,f]=p(),v=()=>N(k+1),S=ye({mode:"onChange"});Ge(()=>l.clientPolicies.listPolicies({includeGlobalPolicies:!0}),g=>{const A=g.globalPolicies?.map(J=>({...J,global:!0})),O=g.policies?.map(J=>({...J,global:!1})),_=A?.concat(O??[]);o(_),f(_||[]),b(lt(_))},[k]);const y=async()=>h??[],M=async()=>{const g=S.getValues(),A=h?.filter(O=>!O.global).map(O=>{const _=g[O.name],J={...O,enabled:_};return delete J.global,J});try{await l.clientPolicies.updatePolicy({policies:A}),s(Ot({realm:i,tab:"policies"})),a(n("updateClientPolicySuccess"),ce.success)}catch(O){t("updateClientPolicyError",O)}},w=g=>Ea(g,"global"),x=async()=>{if(T)try{const g=JSON.parse(T),A=g.filter(_=>!_.global).map(_=>w(_)),O=g.filter(_=>_.global).map(_=>w(_));try{await l.clientPolicies.updatePolicy({policies:A,globalPolicies:O}),a(n("updateClientPoliciesSuccess"),ce.success),v()}catch(_){t("updateClientPoliciesError",_)}}catch(g){console.warn("Invalid json, ignoring value using {}"),t("invalidJsonClientPoliciesError",g)}},[P,B]=Te({titleKey:n("deleteClientPolicyConfirmTitle"),messageKey:n("deleteClientPolicyConfirm",{policyName:m?.name}),continueButtonLabel:n("delete"),continueButtonVariant:le.danger,onConfirm:async()=>{const g=h?.filter(A=>!A.global&&A.name!==m?.name).map(A=>{const O={...A};return delete O.global,O});try{await l.clientPolicies.updatePolicy({policies:g}),a(n("deleteClientPolicySuccess"),ce.success),v()}catch(A){t("deleteClientPolicyError",A)}}});return h?c(Q,{children:[e(B,{}),e(oe,{children:c(Gt,{className:"kc-policies-config-section",children:[e(Me,{children:e(ua,{headingLevel:"h1",size:"md",children:n("policiesConfigType")})}),e(Me,{children:e(gt,{isChecked:!u,name:"policiesView",onChange:()=>d(!1),label:n("policiesConfigTypes.formView"),id:"formView-policiesView","data-testid":"formView-policiesView",className:"kc-form-radio-btn pf-v5-u-mr-sm pf-v5-u-ml-sm"})}),e(Me,{children:e(gt,{isChecked:u,name:"policiesView",onChange:()=>d(!0),label:n("policiesConfigTypes.jsonEditor"),id:"jsonEditor-policiesView","data-testid":"jsonEditor-policiesView",className:"kc-editor-radio-btn"})})]})}),e(Be,{}),u?c(Q,{children:[e("div",{className:"pf-v5-u-mt-md pf-v5-u-ml-lg",children:e($t,{isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isReadOnly:!1,code:T,language:jt.json,height:"30rem",onChange:b})}),c("div",{className:"pf-v5-u-mt-md",children:[e(R,{variant:le.primary,className:"pf-v5-u-mr-md pf-v5-u-ml-lg","data-testid":"jsonEditor-policies-saveBtn",onClick:x,children:n("save")}),e(R,{variant:le.link,"data-testid":"jsonEditor-reloadBtn",onClick:()=>{b(lt(r))},children:n("reload")})]})]}):e(_e,{emptyState:e(xe,{message:n("noClientPolicies"),instructions:n("noClientPoliciesInstructions"),primaryActionText:n("createClientPolicy"),onPrimaryAction:()=>s(Wt({realm:i}))}),ariaLabelKey:"clientPolicies",searchPlaceholderKey:"clientPolicySearch",loader:y,toolbarItem:e(Le,{children:e(R,{id:"createPolicy",component:g=>e(Ie,{...g,to:Wt({realm:i})}),"data-testid":"createPolicy",children:n("createClientPolicy")})}),isRowDisabled:g=>!!g.global,actions:[{title:n("delete"),onRowClick:g=>{P(),L(g)}}],columns:[{name:"name",cellRenderer:({name:g})=>e(Ie,{to:tn({realm:i,policyName:g}),children:g})},{name:"enabled",displayKey:"status",cellRenderer:g=>e(Tl,{clientPolicy:g,form:S,saveStatus:M,onConfirm:()=>{S.setValue(g.name,!1),M()}})},{name:"description",cellFormatters:[Sa(n)]}]},h.length)]}):e(We,{})},Tl=({clientPolicy:l,form:n,saveStatus:a,onConfirm:t})=>{const{t:i}=G(),[s,u]=Te({titleKey:"disablePolicyConfirmTitle",messageKey:"disablePolicyConfirm",continueButtonLabel:"disable",onConfirm:t});return c(Q,{children:[e(u,{}),e(F,{name:l.name,"data-testid":`${l.name}-switch`,defaultValue:l.enabled,control:n.control,render:({field:d})=>e(ge,{label:i("enabled"),labelOff:i("disabled"),isChecked:d.value,isDisabled:l.global,onChange:(h,o)=>{o?(d.onChange(o),a()):s()},"aria-label":l.name})})]})};function Cl(){const{adminClient:l}=se(),{t:n}=G(),{realm:a}=ie(),{addAlert:t,addError:i}=Ce(),[s,u]=p(),[d,h]=p(),[o,m]=p(),[L,k]=p(!1),[N,T]=p(),[b,r]=p(0);Ge(()=>l.clientPolicies.listProfiles({includeGlobalProfiles:!0}),x=>{h(x.globalProfiles);const P=x.globalProfiles?.map(A=>({...A,global:!0})),B=x.profiles?.map(A=>({...A,global:!1})),g=P?.concat(B??[]);u(g||[]),T(JSON.stringify(g,null,2))},[b]);const f=async()=>s??[],v=x=>Ea(x,"global"),[S,y]=Te({titleKey:n("deleteClientProfileConfirmTitle"),messageKey:n("deleteClientProfileConfirm",{profileName:o?.name}),continueButtonLabel:n("delete"),continueButtonVariant:le.danger,onConfirm:async()=>{const x=s?.filter(P=>P.name!==o?.name&&!P.global).map(P=>v(P));try{await l.clientPolicies.createProfiles({profiles:x,globalProfiles:d}),t(n("deleteClientSuccess"),ce.success),r(b+1)}catch(P){i("deleteClientError",P)}}}),M=x=>c(Ie,{to:nn({realm:a,profileName:x.name}),children:[x.name," ",x.global&&e(ht,{color:"blue",children:n("global")})]},x.name);if(!s)return e(We,{});const w=async()=>{if(N)try{const x=JSON.parse(N),P=x.filter(g=>!g.global).map(g=>v(g)),B=x.filter(g=>g.global).map(g=>v(g));try{await l.clientPolicies.createProfiles({profiles:P,globalProfiles:B}),t(n("updateClientProfilesSuccess"),ce.success),r(b+1)}catch(g){i("updateClientProfilesError",g)}}catch(x){i("invalidJsonClientProfilesError",x)}};return c(Q,{children:[e(y,{}),e(oe,{children:c(Gt,{className:"kc-profiles-config-section",children:[e(Me,{children:e(ua,{headingLevel:"h1",size:"md",children:n("profilesConfigType")})}),e(Me,{children:e(gt,{isChecked:!L,name:"profilesView",onChange:()=>k(!1),label:n("profilesConfigTypes.formView"),id:"formView-profilesView",className:"kc-form-radio-btn pf-v5-u-mr-sm pf-v5-u-ml-sm","data-testid":"formView-profilesView"})}),e(Me,{children:e(gt,{isChecked:L,name:"profilesView",onChange:()=>k(!0),label:n("profilesConfigTypes.jsonEditor"),id:"jsonEditor-profilesView",className:"kc-editor-radio-btn","data-testid":"jsonEditor-profilesView"})})]})}),e(Be,{}),L?c(D,{fieldId:"jsonEditor",children:[e("div",{className:"pf-v5-u-mt-md pf-v5-u-ml-lg",children:e($t,{isLineNumbersVisible:!0,isLanguageLabelVisible:!0,isReadOnly:!1,code:N,language:jt.json,height:"30rem",onChange:x=>{T(x??"")}})}),e(Pe,{children:c("div",{className:"pf-v5-u-mt-md",children:[e(R,{variant:le.primary,className:"pf-v5-u-mr-md pf-v5-u-ml-lg",onClick:w,"data-testid":"jsonEditor-saveBtn",children:n("save")}),e(R,{variant:le.link,onClick:()=>{T(lt(s))},"data-testid":"jsonEditor-reloadBtn",children:n("reload")})]})})]}):e(_e,{ariaLabelKey:"profiles",searchPlaceholderKey:"clientProfileSearch",loader:f,toolbarItem:e(Le,{children:e(R,{id:"createProfile",component:x=>e(Ie,{...x,to:an({realm:a,tab:"profiles"})}),"data-testid":"createProfile",children:n("createClientProfile")})}),isRowDisabled:x=>x.global,actions:[{title:n("delete"),onRowClick:x=>{m(x),S()}}],columns:[{name:"name",displayKey:n("name"),cellRenderer:M},{name:"description",displayKey:n("clientProfileDescription")}],emptyState:e(xe,{message:n("emptyClientProfiles"),instructions:n("emptyClientProfilesInstructions")})},s.length)]})}const Sl=({realm:l,save:n})=>{const{t:a}=G(),{setValue:t,control:i,handleSubmit:s,formState:u}=ye(),d=He({control:i,name:"offlineSessionMaxLifespanEnabled"}),h=()=>{Ke(l,t)};return Ae(h,[]),c(oe,{variant:"light",children:[e(Se,{title:a("SSOSessionSettings"),className:"kc-sso-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",onSubmit:s(n),children:[e(D,{label:a("SSOSessionIdle"),fieldId:"SSOSessionIdle",labelIcon:e(V,{helpText:a("ssoSessionIdle"),fieldLabelId:"SSOSessionIdle"}),children:e(F,{name:"ssoSessionIdleTimeout",defaultValue:l.ssoSessionIdleTimeout,control:i,render:({field:o})=>e(Z,{className:"kc-sso-session-idle","data-testid":"sso-session-idle-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("SSOSessionMax"),fieldId:"SSOSessionMax",labelIcon:e(V,{helpText:a("ssoSessionMax"),fieldLabelId:"SSOSessionMax"}),children:e(F,{name:"ssoSessionMaxLifespan",control:i,render:({field:o})=>e(Z,{className:"kc-sso-session-max","data-testid":"sso-session-max-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("SSOSessionIdleRememberMe"),fieldId:"SSOSessionIdleRememberMe",labelIcon:e(V,{helpText:a("ssoSessionIdleRememberMe"),fieldLabelId:"SSOSessionIdleRememberMe"}),children:e(F,{name:"ssoSessionIdleTimeoutRememberMe",control:i,render:({field:o})=>e(Z,{className:"kc-sso-session-idle-remember-me","data-testid":"sso-session-idle-remember-me-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("SSOSessionMaxRememberMe"),fieldId:"SSOSessionMaxRememberMe",labelIcon:e(V,{helpText:a("ssoSessionMaxRememberMe"),fieldLabelId:"SSOSessionMaxRememberMe"}),children:e(F,{name:"ssoSessionMaxLifespanRememberMe",control:i,render:({field:o})=>e(Z,{className:"kc-sso-session-max-remember-me","data-testid":"sso-session-max-remember-me-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})})]})}),e(Se,{title:a("clientSessionSettings"),className:"kc-client-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:s(n),children:[e(D,{label:a("clientSessionIdle"),fieldId:"clientSessionIdle",labelIcon:e(V,{helpText:a("clientSessionIdleHelp"),fieldLabelId:"clientSessionIdle"}),children:e(F,{name:"clientSessionIdleTimeout",control:i,render:({field:o})=>e(Z,{className:"kc-client-session-idle","data-testid":"client-session-idle-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("clientSessionMax"),fieldId:"clientSessionMax",labelIcon:e(V,{helpText:a("clientSessionMaxHelp"),fieldLabelId:"clientSessionMax"}),children:e(F,{name:"clientSessionMaxLifespan",control:i,render:({field:o})=>e(Z,{className:"kc-client-session-max","data-testid":"client-session-max-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})})]})}),e(Se,{title:a("offlineSessionSettings"),className:"kc-offline-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:s(n),children:[e(D,{label:a("offlineSessionIdle"),fieldId:"offlineSessionIdle",labelIcon:e(V,{helpText:a("offlineSessionIdleHelp"),fieldLabelId:"offlineSessionIdle"}),children:e(F,{name:"offlineSessionIdleTimeout",control:i,render:({field:o})=>e(Z,{className:"kc-offline-session-idle","data-testid":"offline-session-idle-input","aria-label":"offline-session-idle-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{hasNoPaddingTop:!0,label:a("offlineSessionMaxLimited"),fieldId:"kc-offlineSessionMaxLimited",labelIcon:e(V,{helpText:a("offlineSessionMaxLimitedHelp"),fieldLabelId:"offlineSessionMaxLimited"}),children:e(F,{name:"offlineSessionMaxLifespanEnabled",control:i,defaultValue:!1,render:({field:o})=>e(ge,{id:"kc-offline-session-max","data-testid":"offline-session-max-switch","aria-label":a("offlineSessionMaxLimited"),label:a("enabled"),labelOff:a("disabled"),isChecked:o.value,onChange:o.onChange})})}),d&&e(D,{label:a("offlineSessionMax"),fieldId:"offlineSessionMax",id:"offline-session-max-label",labelIcon:e(V,{helpText:a("offlineSessionMaxHelp"),fieldLabelId:"offlineSessionMax"}),children:e(F,{name:"offlineSessionMaxLifespan",control:i,render:({field:o})=>e(Z,{className:"kc-offline-session-max","data-testid":"offline-session-max-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})})]})}),e(Se,{className:"kc-login-settings-template",title:a("loginSettings"),children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:s(n),children:[e(D,{label:a("loginTimeout"),id:"kc-login-timeout-label",fieldId:"offlineSessionIdle",labelIcon:e(V,{helpText:a("loginTimeoutHelp"),fieldLabelId:"loginTimeout"}),children:e(F,{name:"accessCodeLifespanLogin",control:i,render:({field:o})=>e(Z,{className:"kc-login-timeout","data-testid":"login-timeout-input","aria-label":"login-timeout-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),e(D,{label:a("loginActionTimeout"),fieldId:"loginActionTimeout",id:"login-action-timeout-label",labelIcon:e(V,{helpText:a("loginActionTimeoutHelp"),fieldLabelId:"loginActionTimeout"}),children:e(F,{name:"accessCodeLifespanUserAction",control:i,render:({field:o})=>e(Z,{className:"kc-login-action-timeout","data-testid":"login-action-timeout-input",value:o.value,onChange:o.onChange,units:["minute","hour","day"]})})}),c(Pe,{children:[e(R,{variant:"primary",type:"submit","data-testid":"sessions-tab-save",isDisabled:!u.isDirty,children:a("save")}),e(R,{variant:"link",onClick:h,children:a("revert")})]})]})})]})},kl=({realm:l,save:n})=>{const{t:a}=G(),[t,i]=p(!1),[s,u]=p(!1),[d,h]=p(!1),[o,m]=p(!1),{control:L,handleSubmit:k,setValue:N}=ye(),T=ze().themes,b=()=>{Ke(l,N)};return Ae(b,[]),e(oe,{variant:"light",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:k(n),children:[e(D,{label:a("loginTheme"),fieldId:"kc-login-theme",labelIcon:e(V,{helpText:a("loginThemeHelp"),fieldLabelId:"loginTheme"}),children:e(F,{name:"loginTheme",control:L,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-login-theme",onToggle:()=>i(!t),onSelect:f=>{r.onChange(f),i(!1)},selections:r.value,variant:ke.single,isOpen:t,placeholderText:a("selectATheme"),"data-testid":"select-login-theme","aria-label":a("selectLoginTheme"),children:T.login.map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:f.name},`login-theme-${v}`))})})}),e(D,{label:a("accountTheme"),fieldId:"kc-account-theme",labelIcon:e(V,{helpText:a("accountThemeHelp"),fieldLabelId:"accountTheme"}),children:e(F,{name:"accountTheme",control:L,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-account-theme",onToggle:()=>u(!s),onSelect:f=>{r.onChange(f),u(!1)},selections:r.value,variant:ke.single,"aria-label":a("selectAccountTheme"),isOpen:s,placeholderText:a("selectATheme"),"data-testid":"select-account-theme",children:T.account.filter(f=>f.name!=="base").map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:a(f.name)},`account-theme-${v}`))})})}),e(D,{label:a("adminTheme"),fieldId:"kc-admin-ui-theme",labelIcon:e(V,{helpText:a("adminThemeHelp"),fieldLabelId:"adminTheme"}),children:e(F,{name:"adminTheme",control:L,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-admin-ui-theme",onToggle:()=>h(!d),onSelect:f=>{r.onChange(f),h(!1)},selections:r.value,variant:ke.single,isOpen:d,placeholderText:a("selectATheme"),"data-testid":"select-admin-theme","aria-label":a("selectAdminTheme"),children:T.admin.filter(f=>f.name!=="base").map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:a(f.name)},`admin-theme-${v}`))})})}),e(D,{label:a("emailTheme"),fieldId:"kc-email-theme",labelIcon:e(V,{helpText:a("emailThemeHelp"),fieldLabelId:"emailTheme"}),children:e(F,{name:"emailTheme",control:L,defaultValue:"",render:({field:r})=>e(ve,{toggleId:"kc-email-theme",onToggle:()=>m(!o),onSelect:f=>{r.onChange(f),m(!1)},selections:r.value,variant:ke.single,isOpen:o,placeholderText:a("selectATheme"),"data-testid":"select-email-theme","aria-label":a("selectEmailTheme"),children:T.email.map((f,v)=>e(te,{selected:f.name===r.value,value:f.name,children:a(f.name)},`email-theme-${v}`))})})}),c(Pe,{children:[e(R,{variant:"primary",type:"submit","data-testid":"themes-tab-save",children:a("save")}),e(R,{variant:"link",onClick:b,children:a("revert")})]})]})})},Il=({realm:l,reset:n,save:a})=>{const{t}=G(),i=ze(),s=Ht(),{whoAmI:u}=it(),[d,h]=p(!1),o=ln(i.providers.signature.providers),m=ye(),{setValue:L,control:k}=m,N=He({control:k,name:"offlineSessionMaxLifespanEnabled",defaultValue:l.offlineSessionMaxLifespanEnabled}),T=He({control:k,name:"ssoSessionIdleTimeout",defaultValue:36e3}),b=He({control:k,name:"revokeRefreshToken",defaultValue:!1});return Ae(()=>{Ke(l,L)},[]),c(oe,{variant:"light",children:[e(Se,{title:t("general"),className:"kc-sso-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",onSubmit:m.handleSubmit(a),children:[e(D,{label:t("defaultSigAlg"),fieldId:"kc-default-signature-algorithm",labelIcon:e(V,{helpText:t("defaultSigAlgHelp"),fieldLabelId:"algorithm"}),children:e(F,{name:"defaultSignatureAlgorithm",defaultValue:"RS256",control:m.control,render:({field:r})=>e(ve,{toggleId:"kc-default-sig-alg",onToggle:()=>h(!d),onSelect:f=>{r.onChange(f.toString()),h(!1)},selections:r.value?.toString(),variant:ke.single,"aria-label":t("defaultSigAlg"),isOpen:d,"data-testid":"select-default-sig-alg",children:o.map((f,v)=>e(te,{selected:f===r.value,value:f,children:f},`default-sig-alg-${v}`))})})}),s(bt.DeviceFlow)&&c(Q,{children:[e(D,{label:t("oAuthDeviceCodeLifespan"),fieldId:"oAuthDeviceCodeLifespan",labelIcon:e(V,{helpText:t("oAuthDeviceCodeLifespanHelp"),fieldLabelId:"oAuthDeviceCodeLifespan"}),children:e(F,{name:"oauth2DeviceCodeLifespan",defaultValue:0,control:m.control,render:({field:r})=>e(Z,{id:"oAuthDeviceCodeLifespan","data-testid":"oAuthDeviceCodeLifespan",value:r.value||0,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("oAuthDevicePollingInterval"),fieldId:"oAuthDevicePollingInterval",labelIcon:e(V,{helpText:t("oAuthDevicePollingIntervalHelp"),fieldLabelId:"oAuthDevicePollingInterval"}),children:e(F,{name:"oauth2DevicePollingInterval",defaultValue:0,control:m.control,render:({field:r})=>e(Jt,{id:"oAuthDevicePollingInterval",value:r.value,min:0,onPlus:()=>r.onChange(Number(r?.value)+1),onMinus:()=>r.onChange(Number(r?.value)>0?Number(r?.value)-1:0),onChange:f=>{const v=Number(f.currentTarget.value);r.onChange(isNaN(v)?0:v)},placeholder:t("oAuthDevicePollingInterval")})})}),e(D,{label:t("shortVerificationUri"),fieldId:"shortVerificationUri",labelIcon:e(V,{helpText:t("shortVerificationUriTooltipHelp"),fieldLabelId:"shortVerificationUri"}),children:e(Ct,{id:"shortVerificationUri",placeholder:t("shortVerificationUri"),...m.register("attributes.shortVerificationUri")})}),e(D,{label:t("parRequestUriLifespan"),fieldId:"parRequestUriLifespan",labelIcon:e(V,{helpText:t("parRequestUriLifespanHelp"),fieldLabelId:"parRequestUriLifespan"}),children:e(F,{name:"attributes.parRequestUriLifespan",control:m.control,render:({field:r})=>e(Z,{id:"parRequestUriLifespan",className:"par-request-uri-lifespan","data-testid":"par-request-uri-lifespan-input","aria-label":"par-request-uri-lifespan",value:r.value,onChange:r.onChange})})})]})]})}),e(Se,{title:t("refreshTokens"),className:"kc-client-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:m.handleSubmit(a),children:[e(D,{hasNoPaddingTop:!0,label:t("revokeRefreshToken"),fieldId:"kc-revoke-refresh-token",labelIcon:e(V,{helpText:t("revokeRefreshTokenHelp"),fieldLabelId:"revokeRefreshToken"}),children:e(F,{name:"revokeRefreshToken",control:m.control,defaultValue:!1,render:({field:r})=>e(ge,{id:"kc-revoke-refresh-token","data-testid":"revoke-refresh-token-switch","aria-label":t("revokeRefreshToken"),label:t("enabled"),labelOff:t("disabled"),isChecked:r.value,onChange:r.onChange})})}),b&&e(D,{label:t("refreshTokenMaxReuse"),labelIcon:e(V,{helpText:t("refreshTokenMaxReuseHelp"),fieldLabelId:"refreshTokenMaxReuse"}),fieldId:"refreshTokenMaxReuse",children:e(F,{name:"refreshTokenMaxReuse",defaultValue:0,control:m.control,render:({field:r})=>e(Jt,{type:"text",id:"refreshTokenMaxReuseMs",value:r.value,onPlus:()=>r.onChange(r.value+1),onMinus:()=>r.onChange(r.value-1),onChange:f=>r.onChange(Number(f.target.value))})})})]})}),e(Se,{title:t("accessTokens"),className:"kc-offline-session-template",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:m.handleSubmit(a),children:[c(D,{label:t("accessTokenLifespan"),fieldId:"accessTokenLifespan",labelIcon:e(V,{helpText:t("accessTokenLifespanHelp"),fieldLabelId:"accessTokenLifespan"}),children:[e(F,{name:"accessTokenLifespan",control:m.control,render:({field:r})=>e(Z,{validated:r.value>T?"warning":"default",className:"kc-access-token-lifespan","data-testid":"access-token-lifespan-input","aria-label":"access-token-lifespan",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})}),e(sn,{children:e(rn,{children:e(on,{children:t("recommendedSsoTimeout",{time:Fn(T,u.getLocale())})})})})]}),e(D,{label:t("accessTokenLifespanImplicitFlow"),fieldId:"accessTokenLifespanImplicitFlow",labelIcon:e(V,{helpText:t("accessTokenLifespanImplicitFlow"),fieldLabelId:"accessTokenLifespanImplicitFlow"}),children:e(F,{name:"accessTokenLifespanForImplicitFlow",control:m.control,render:({field:r})=>e(Z,{className:"kc-access-token-lifespan-implicit","data-testid":"access-token-lifespan-implicit-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("clientLoginTimeout"),fieldId:"clientLoginTimeout",labelIcon:e(V,{helpText:t("clientLoginTimeoutHelp"),fieldLabelId:"clientLoginTimeout"}),children:e(F,{name:"accessCodeLifespan",control:m.control,render:({field:r})=>e(Z,{className:"kc-client-login-timeout","data-testid":"client-login-timeout-input","aria-label":"client-login-timeout",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),N&&e(D,{label:t("offlineSessionMax"),fieldId:"offlineSessionMax",id:"offline-session-max-label",labelIcon:e(V,{helpText:t("offlineSessionMaxHelp"),fieldLabelId:"offlineSessionMax"}),children:e(F,{name:"offlineSessionMaxLifespan",control:m.control,render:({field:r})=>e(Z,{className:"kc-offline-session-max","data-testid":"offline-session-max-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})})]})}),e(Se,{className:"kc-login-settings-template",title:t("actionTokens"),children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg",onSubmit:m.handleSubmit(a),children:[e(D,{label:t("userInitiatedActionLifespan"),id:"kc-user-initiated-action-lifespan",fieldId:"userInitiatedActionLifespan",labelIcon:e(V,{helpText:t("userInitiatedActionLifespanHelp"),fieldLabelId:"userInitiatedActionLifespan"}),children:e(F,{name:"actionTokenGeneratedByUserLifespan",control:m.control,render:({field:r})=>e(Z,{className:"kc-user-initiated-action-lifespan","data-testid":"user-initiated-action-lifespan","aria-label":"user-initiated-action-lifespan",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("defaultAdminInitiated"),fieldId:"defaultAdminInitiated",id:"default-admin-initiated-label",labelIcon:e(V,{helpText:t("defaultAdminInitiatedActionLifespanHelp"),fieldLabelId:"defaultAdminInitiated"}),children:e(F,{name:"actionTokenGeneratedByAdminLifespan",control:m.control,render:({field:r})=>e(Z,{className:"kc-default-admin-initiated","data-testid":"default-admin-initated-input","aria-label":"default-admin-initated-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(Oe,{className:"kc-override-action-tokens-subtitle",component:Ut.h1,children:t("overrideActionTokens")}),e(D,{label:t("emailVerification"),fieldId:"emailVerification",id:"email-verification",labelIcon:e(V,{helpText:t("emailVerificationHelp"),fieldLabelId:"emailVerification"}),children:e(F,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.verify-email")}`,defaultValue:"",control:m.control,render:({field:r})=>e(Z,{className:"kc-email-verification","data-testid":"email-verification-input",value:r.value,onChange:f=>r.onChange(f.toString()),units:["minute","hour","day"]})})}),e(D,{label:t("idpAccountEmailVerification"),fieldId:"idpAccountEmailVerification",id:"idp-acct-label",labelIcon:e(V,{helpText:t("idpAccountEmailVerificationHelp"),fieldLabelId:"idpAccountEmailVerification"}),children:e(F,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.idp-verify-account-via-email")}`,defaultValue:"",control:m.control,render:({field:r})=>e(Z,{className:"kc-idp-email-verification","data-testid":"idp-email-verification-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("forgotPassword"),fieldId:"forgotPassword",id:"forgot-password-label",labelIcon:e(V,{helpText:t("forgotPasswordHelp"),fieldLabelId:"forgotPassword"}),children:e(F,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.reset-credentials")}`,defaultValue:"",control:m.control,render:({field:r})=>e(Z,{className:"kc-forgot-pw","data-testid":"forgot-pw-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),e(D,{label:t("executeActions"),fieldId:"executeActions",id:"execute-actions",labelIcon:e(V,{helpText:t("executeActionsHelp"),fieldLabelId:"executeActions"}),children:e(F,{name:`attributes.${ot("actionTokenGeneratedByUserLifespan.execute-actions")}`,defaultValue:"",control:m.control,render:({field:r})=>e(Z,{className:"kc-execute-actions","data-testid":"execute-actions-input",value:r.value,onChange:r.onChange,units:["minute","hour","day"]})})}),c(Pe,{children:[e(R,{variant:"primary",type:"submit","data-testid":"tokens-tab-save",isDisabled:!m.formState.isDirty,children:t("save")}),e(R,{variant:"link",onClick:n,children:t("revert")})]})]})})]})},Ll=()=>{const{adminClient:l}=se(),{t:n}=G(),[a,t]=qe(),[i,s]=qe(),[u,d]=p(),[h,o]=p([]),[m,L]=p(0),[k,N]=p(0),T=()=>N(k+1),{realm:b}=ie(),{addAlert:r,addError:f}=Ce(),{enabled:v}=cn(),{hasAccess:S}=Bt(),y=S("view-users","manage-realm");Ge(()=>l.realms.getDefaultGroups({realm:b}),g=>{d(g),L(m+1)},[k]);const M=()=>Promise.resolve(u),w=async()=>{try{await Promise.all(h.map(g=>l.realms.removeDefaultGroup({realm:b,id:g.id}))),r(n("groupRemove",{count:h.length}),ce.success),o([])}catch(g){f("groupRemoveError",g)}T()},x=async g=>{try{await Promise.all(g.map(A=>l.realms.addDefaultGroup({realm:b,id:A.id}))),r(n("defaultGroupAdded",{count:g.length}),ce.success)}catch(A){f("defaultGroupAddedError",A)}T()},[P,B]=Te({titleKey:n("removeConfirmTitle",{count:h.length}),messageKey:n("removeConfirm",{count:h.length}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:w});return u?c(Q,{children:[e(B,{}),i&&e(Gn,{type:"selectMany",text:{title:"addDefaultGroups",ok:"add"},onConfirm:g=>{x(g||[]),s()},onClose:s}),v&&e(dn,{bodyContent:c(Tt,{i18nKey:"defaultGroupsHelp",children:[" ",e(Ie,{to:Qt({realm:b})}),"."]}),children:e(st,{className:"keycloak__section_intro__help",style:{paddingLeft:"var(--pf-v5-c-page__main-section--PaddingLeft)"},children:c(Oe,{children:[e(Un,{})," ",n("whatIsDefaultGroups")]})})}),e(_e,{canSelectAll:!0,onSelect:g=>o([...g]),loader:M,ariaLabelKey:"defaultGroups",searchPlaceholderKey:"searchForGroups",toolbarItem:y&&c(Q,{children:[e(Le,{children:e(R,{"data-testid":"openCreateGroupModal",variant:"primary",onClick:s,children:n("addGroups")})}),e(Le,{children:e(ma,{onOpenChange:t,toggle:g=>e(pa,{ref:g,isExpanded:a,variant:"plain",onClick:t,isDisabled:h.length===0,children:e(ha,{})}),isOpen:a,shouldFocusToggleOnSelect:!0,children:e(fa,{children:e(at,{component:"button",onClick:()=>{P(),t()},children:n("remove")},"action")})})})]}),actions:y?[{title:n("remove"),onRowClick:g=>(o([g]),P(),Promise.resolve(!1))}]:[],columns:[{name:"name",displayKey:"groupName"},{name:"path",displayKey:"path"}],emptyState:e(xe,{hasIcon:!0,message:n("noDefaultGroups"),instructions:c(Tt,{i18nKey:"noDefaultGroupsInstructions",children:[" ",e(Ie,{className:"pf-v5-u-font-weight-light",to:Qt({realm:b}),role:"navigation","aria-label":n("identityBrokeringLink")}),"Add groups..."]}),primaryActionText:y?n("addGroups"):"",onPrimaryAction:s})},m)]}):e(We,{})},Pl=()=>{const{adminClient:l}=se(),{t:n}=G(),[a,t]=p(10),{realmRepresentation:i}=ie(),[s,u]=p(0),{addAlert:d,addError:h}=Ce(),{realm:o}=ie(),m=async L=>{const k=L;try{await l.roles.createComposite({roleId:i?.defaultRole.id,realm:o},k),u(s+1),d(n("addAssociatedRolesSuccess"),ce.success)}catch(N){h("addAssociatedRolesError",N)}};return c(St,{activeKey:a,onSelect:(L,k)=>t(k),children:[e($,{id:"roles",eventKey:10,title:e(j,{children:n("defaultRoles")}),"data-testid":"default-roles-tab",children:e(Hn,{name:i?.defaultRole.name,id:i?.defaultRole.id,type:"roles",isManager:!0,save:L=>m(L.map(k=>k.role))})},s),e($,{id:"groups",eventKey:20,title:e(j,{children:n("defaultGroups")}),"data-testid":"default-groups-tab",children:e(Ll,{})})]})};function wa({ariaLabelKey:l="userEventsRegistered",eventTypes:n,addTypes:a,onSelect:t,onDelete:i}){const{t:s}=G(),u=n.map(d=>({id:d,name:s(`eventTypes.${d}.name`),description:s(`eventTypes.${d}.description`)}));return e(_e,{ariaLabelKey:l,searchPlaceholderKey:"searchEventType",loader:u,onSelect:t||void 0,canSelectAll:!!t,toolbarItem:a&&e(Le,{children:e(R,{id:"addTypes",onClick:a,"data-testid":"addTypes",children:s("addSavedTypes")})}),actions:i?[{title:s("remove"),onRowClick:i}]:[],columns:[{name:"name",displayKey:"eventType"},{name:"description",cellFormatters:[Sa(s)]}],emptyState:e(xe,{message:s("emptyEvents"),instructions:s("emptyEventsInstructions")})})}const Al=({onConfirm:l,onClose:n,configured:a})=>{const{t}=G(),{enums:i}=ze(),[s,u]=p([]);return e(je,{variant:Xe.medium,title:t("addTypes"),isOpen:!0,onClose:n,actions:[e(R,{"data-testid":"addEventTypeConfirm",variant:"primary",onClick:()=>l(s),children:t("add")},"confirm"),e(R,{"data-testid":"moveCancel",variant:"link",onClick:n,children:t("cancel")},"cancel")],children:e(wa,{ariaLabelKey:"addTypes",onSelect:d=>u(d),eventTypes:i.eventType.filter(d=>!a.includes(d))})})},ia=({type:l,form:n,reset:a,clear:t})=>{const{t:i}=G(),{control:s,watch:u,setValue:d,formState:{isDirty:h}}=n,o=l==="admin"?"adminEventsEnabled":"eventsEnabled",m=u(o),[L,k]=Te({titleKey:"events-disable-title",messageKey:"events-disable-confirm",continueButtonLabel:"confirm",onConfirm:()=>d(o,!1,{shouldDirty:!0})});return c(Ue,{...n,children:[e(k,{}),e(D,{hasNoPaddingTop:!0,label:i("saveEvents"),fieldId:o,labelIcon:e(V,{helpText:i(`save-${l}-eventsHelp`),fieldLabelId:"saveEvents"}),children:e(F,{name:o,defaultValue:!1,control:s,render:({field:N})=>e(ge,{"data-testid":o,id:`${o}-switch`,label:i("on"),labelOff:i("off"),isChecked:N.value,onChange:(T,b)=>{b?N.onChange(b):L()},"aria-label":i("saveEvents")})})}),m&&c(Q,{children:[l==="admin"&&e(Mt,{name:"adminEventsDetailsEnabled",label:i("includeRepresentation"),labelIcon:i("includeRepresentationHelp")}),e(ka,{name:l==="user"?"eventsExpiration":"adminEventsExpiration",label:i("expiration"),labelIcon:i("expirationHelp"),defaultValue:"",units:["minute","hour","day"],controller:{defaultValue:""}})]}),c(Pe,{children:[e(R,{variant:"primary",type:"submit",id:`save-${l}`,"data-testid":`save-${l}`,isDisabled:!h,children:i("save")}),e(R,{variant:"link",onClick:a,children:i("revert")})]}),e(Be,{}),e(D,{label:i(l==="user"?"clearUserEvents":"clearAdminEvents"),fieldId:`clear-${l}-events`,labelIcon:e(V,{helpText:i(`${l}-clearEventsHelp`),fieldLabelId:`clear-${l}-events`}),children:e(R,{variant:"danger",id:`clear-${l}-events`,"data-testid":`clear-${l}-events`,onClick:()=>t(),children:i(l==="user"?"clearUserEvents":"clearAdminEvents")})})]})},El=({form:l,reset:n})=>{const{t:a}=G(),i=ze().providers?.eventsListener.providers;return c(Ue,{...l,children:[e(Qe,{name:"eventsListeners",label:a("eventListeners"),labelIcon:a("eventListenersHelpTextHelp"),controller:{defaultValue:""},className:"kc_eventListeners_select",chipGroupProps:{numChips:3,expandedText:a("hide"),collapsedText:a("showRemaining")},variant:ke.typeaheadMulti,options:Object.keys(i)}),c(Pe,{children:[e(R,{variant:"primary",type:"submit","data-testid":"saveEventListenerBtn",children:a("save")}),e(R,{variant:"link","data-testid":"revertEventListenerBtn",onClick:n,children:a("revert")})]})]})},wl=({realm:l})=>{const{adminClient:n}=se(),{t:a}=G(),t=ye(),{setValue:i,handleSubmit:s}=t,[u,d]=p(0),h=()=>d(new Date().getTime()),[o,m]=p(0),L=()=>m(new Date().getTime()),[k,N]=p("event"),[T,b]=p(),[r,f]=p(),[v,S]=p(!1),{addAlert:y,addError:M}=Ce(),{realm:w,refresh:x}=ie(),P=U=>{b(U),Ke(U||{},i)},B=async U=>{f(U),g()},[g,A]=Te({titleKey:"deleteEvents",messageKey:"deleteEventsConfirm",continueButtonLabel:"clear",continueButtonVariant:le.danger,onConfirm:async()=>{try{switch(r){case"admin":await n.realms.clearAdminEvents({realm:w});break;case"user":await n.realms.clearEvents({realm:w});break}y(a(`${r}-events-cleared`),ce.success)}catch(U){M(`${r}-events-cleared-error`,U)}}});Ge(()=>n.realms.getConfigEvents({realm:w}),U=>{P({...U,adminEventsExpiration:l.attributes?.adminEventsExpiration}),L()},[u]);const O=async U=>{const q=!Ia(T?.eventsListeners,U.eventsListeners),{adminEventsExpiration:re,...ne}=U;l.attributes?.adminEventsExpiration!==re&&await n.realms.update({realm:w},{...l,attributes:{...l.attributes||{},adminEventsExpiration:re}}),x();try{await n.realms.updateConfigEvents({realm:w},ne),P({...T,...ne,adminEventsExpiration:re}),y(a(q?"saveEventListenersSuccess":"eventConfigSuccessfully"),ce.success)}catch(pe){M(a(q?"saveEventListenersError":"eventConfigError"),pe)}},_=async U=>{const q=U.map(ne=>ne.id),re=T.enabledEventTypes?.concat(q);await J(re)},J=async(U=[])=>{const q={...t.getValues(),enabledEventTypes:U};await O(q),S(!1),h()};return c(Q,{children:[e(A,{}),v&&e(Al,{onConfirm:U=>_(U),configured:T?.enabledEventTypes||[],onClose:()=>S(!1)}),c(St,{activeKey:k,onSelect:(U,q)=>N(q),children:[e($,{eventKey:"event",title:e(j,{children:a("eventListeners")}),"data-testid":"rs-event-listeners-tab",children:e(oe,{children:e(ae,{role:"manage-events",isHorizontal:!0,onSubmit:s(O),children:e(El,{form:t,reset:()=>P(T)})})})}),c($,{eventKey:"user",title:e(j,{children:a("userEventsSettings")}),"data-testid":"rs-events-tab",children:[e(oe,{children:e(ae,{role:"manage-events",isHorizontal:!0,onSubmit:s(O),children:e(ia,{type:"user",form:t,reset:()=>P(T),clear:()=>B("user")})})}),e(oe,{children:e(wa,{addTypes:()=>S(!0),eventTypes:T?.enabledEventTypes||[],onDelete:U=>{const q=T?.enabledEventTypes?.filter(re=>re!==U.id);J(q),b({...T,enabledEventTypes:q})}},o)})]}),e($,{eventKey:"admin",title:e(j,{children:a("adminEventsSettings")}),"data-testid":"rs-admin-events-tab",children:e(oe,{children:e(ae,{role:"manage-events",isHorizontal:!0,onSubmit:s(O),children:e(ia,{type:"admin",form:t,reset:()=>P(T),clear:()=>B("admin")})})})})]})]})},tt=["ACTIVE","PASSIVE","DISABLED"],xl=({onFilter:l})=>{const{t:n}=G(),[a,t]=p(tt[0]),[i,s]=qe();return e(ve,{width:300,"data-testid":"filter-type-select",isOpen:i,className:"kc-filter-type-select",variant:ke.single,onToggle:s,toggleIcon:e(La,{}),onSelect:u=>{const d=tt.find(h=>h===u.toString())||tt[0];t(d),l(d),s()},selections:a,"aria-label":n("selectFilterType"),children:tt.map(u=>e(te,{"data-testid":`${u}-option`,value:u,children:n(`keysFilter.${u}`)},u))})},Dl=({realmComponents:l})=>{const{adminClient:n}=se(),{t:a}=G(),t=Ye(),i=Bn(),[s,u]=p(""),[d,h]=p(""),{realm:o}=ie(),[m,L]=p(),[k,N]=p();Ge(async()=>(await n.realms.getKeys({realm:o})).keys?.map(S=>{const y=l.find(M=>M.id===S.providerId);return{...S,provider:y?.name}}),L,[]);const[T,b]=Te({titleKey:a("publicKey"),messageKey:s,continueButtonLabel:"close",continueButtonVariant:le.primary,onConfirm:()=>Promise.resolve()}),[r,f]=Te({titleKey:a("certificate"),messageKey:d,continueButtonLabel:"close",continueButtonVariant:le.primary,onConfirm:()=>Promise.resolve()});return m?c(oe,{variant:"light",padding:{default:"noPadding"},children:[e(b,{}),e(f,{}),e(_e,{isNotCompact:!0,className:"kc-keys-list",loader:k||m,ariaLabelKey:"keysList",searchPlaceholderKey:"searchKey",searchTypeComponent:e(xl,{onFilter:v=>N(v!==tt[0]?m.filter(({status:S})=>S===v):void 0)}),columns:[{name:"algorithm",displayKey:"algorithm",cellFormatters:[ct()],transforms:[$e(15)]},{name:"type",displayKey:"type",cellFormatters:[ct()],transforms:[$e(10)]},{name:"kid",displayKey:"kid",cellFormatters:[ct()],transforms:[$e(10)]},{name:"use",displayKey:"use",cellFormatters:[ct()],transforms:[$e(10)]},{name:"provider",displayKey:"provider",cellRenderer:({provider:v})=>v||"-",transforms:[$e(10)]},{name:"validTo",displayKey:"validTo",cellRenderer:({validTo:v})=>v?i(new Date(v)):"-",transforms:[$e(10)]},{name:"publicKeys",displayKey:"publicKeys",cellRenderer:({type:v,publicKey:S,certificate:y})=>v==="EC"?e(R,{onClick:()=>{T(),u(S)},variant:"secondary",id:"kc-public-key",children:a("publicKey")}):v==="RSA"?c("div",{className:"button-wrapper",children:[e(R,{onClick:()=>{T(),u(S)},variant:"secondary",id:S,children:a("publicKey")}),e(R,{onClick:()=>{r(),h(y)},variant:"secondary",id:y,className:"kc-certificate",children:a("certificate")})]}):v==="OKP"?e(R,{onClick:()=>{T(),u(S)},variant:"secondary",id:"kc-public-key",children:a("publicKey")}):"",transforms:[$e(20)]}],isSearching:!!k,emptyState:e(xe,{hasIcon:!0,message:a("noKeys"),instructions:a("noKeysDescription"),primaryActionText:a("addProvider"),onPrimaryAction:()=>t(Vt({realm:o,tab:"providers"}))})})]}):e(We,{})},Rl="_dialog_121se_2",Nl={dialog:Rl},Ol=({providerType:l,onClose:n})=>{const{t:a}=G();return e(je,{className:Nl.dialog,variant:Xe.medium,title:a("addProvider"),isOpen:!0,onClose:n,children:e(_n,{providerType:l,onClose:n})})},Vl=({onConfirm:l,onClose:n})=>{const{t:a}=G(),i=ze().componentTypes?.[_t]??[];return e(je,{variant:"medium",title:a("addProvider"),isOpen:!0,onClose:n,children:e(va,{onSelectDataListItem:(s,u)=>{l(u)},"aria-label":a("addPredefinedMappers"),isCompact:!0,children:i.map(s=>e(ya,{"aria-label":s.id,id:s.id,children:e(Ta,{children:e(Ca,{dataListCells:[e(Kt,{"data-testid":`option-${s.id}`,children:s.id},`name-${s.id}`),e(Kt,{width:2,children:s.helpText},`helpText-${s.helpText}`)]})})},s.id))})})},Ml=({realmComponents:l,refresh:n})=>{const{adminClient:a}=se(),{t}=G(),{addAlert:i,addError:s}=Ce(),{realm:u}=ie(),[d,h]=p(""),[o,m]=p([]),[L,k]=qe(),T=ze().componentTypes?.[_t]??[],[b,r]=qe(),[f,v]=p(),[S,y]=p(),M=nt(()=>l.map(A=>{const O=T.find(_=>A.providerId===_.id);return{...A,providerDescription:O?.helpText}}),[l]),[w,x]=Te({titleKey:"deleteProviderTitle",messageKey:t("deleteProviderConfirm",{provider:S?.name}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:async()=>{try{await a.components.del({id:S.id,realm:u}),n(),i(t("deleteProviderSuccess"),ce.success)}catch(A){s("deleteProviderError",A)}}}),P=()=>{if(d!==""){h(d);const A=M.filter(O=>O.name?.includes(d)||O.providerId?.includes(d));m(A)}else h(""),m(M)},B=A=>{A.key==="Enter"&&P()},g=A=>{h(A)};return c(Q,{children:[b&&e(Vl,{onClose:()=>r(),onConfirm:A=>{k(),v(A),r()}}),L&&f&&e(Ol,{providerType:f,onClose:()=>{k(),n()}}),e(x,{}),c(oe,{variant:"light",padding:{default:"noPadding"},children:[e(ba,{children:c(un,{className:"providers-toolbar",children:[e(Le,{children:c(mn,{children:[e(Xt,{isFill:!0,children:e(Ct,{name:"inputGroupName",id:"inputGroupName","data-testid":"provider-search-input",type:"search","aria-label":t("search"),placeholder:t("search"),onChange:(A,O)=>g(O),onKeyDown:B})}),e(Xt,{children:e(R,{variant:le.control,"aria-label":t("search"),onClick:P,children:e(ga,{})})})]})}),e(Le,{children:e(R,{"data-testid":"addProviderDropdown",className:"add-provider-dropdown",onClick:()=>r(),children:t("addProvider")})})]})}),e(Pa,{variant:"compact",className:"kc-draggable-table",keyField:"id",data:o.length===0?M:o,onDragFinish:async(A,O)=>{const _=M.map(J=>{const U={...J};return delete U.providerDescription,a.components.update({id:J.id},{...U,config:{priority:[(O.length-O.indexOf(J.id)+100).toString()]}})});try{await Promise.all(_),n(),i(t("saveProviderListSuccess"),ce.success)}catch(J){s("saveProviderError",J)}},columns:[{name:"name",displayKey:"name",cellRenderer:A=>e(Ie,{"data-testid":"provider-name-link",to:pn({realm:u,id:A.id,providerType:A.providerId}),children:A.name},A.name)},{name:"providerId",displayKey:"provider"},{name:"providerDescription",displayKey:"providerDescription"}],actions:[{title:t("delete"),onClick:(A,O,_)=>{y(_),w()}}]})]})]})},Kl=l=>[...l].sort((a,t)=>{const i=Number(a.config?.priority),s=Number(t.config?.priority);return(isNaN(s)?0:s)-(isNaN(i)?0:i)}),Fl=()=>{const{adminClient:l}=se(),{t:n}=G(),{realm:a}=ie(),[t,i]=p(),[s,u]=p(0),d=()=>{u(s+1)};Ge(()=>l.components.find({type:_t,realm:a}),L=>i(Kl(L)),[s]);const h=L=>yt(Vt({realm:a,tab:L})),o=h("list"),m=h("providers");return t?c(vt,{mountOnEnter:!0,unmountOnExit:!0,defaultLocation:Vt({realm:a,tab:"list"}),children:[e($,{id:"keysList","data-testid":"rs-keys-list-tab","aria-label":"keys-list-subtab",title:e(j,{children:n("keysList")}),...o,children:e(Dl,{realmComponents:t})}),e($,{id:"providers","data-testid":"rs-providers-tab","aria-label":"rs-providers-tab",title:e(j,{children:n("providers")}),...m,children:e(Ml,{realmComponents:t,refresh:d})})]}):e(We,{})},sa={theme:"",themeType:"",locale:"",hasWords:[]},Hl=({defaultSupportedLocales:l,defaultLocales:n})=>{const{adminClient:a}=se(),{t}=G(),{realm:i}=ie(),s=ze(),{whoAmI:u}=it(),d=$n(),[h,o]=p(!1),[m,L]=p(!1),[k,N]=p(!1),[T,b]=p(!1),[r,f]=p(!1),[v,S]=p({}),[y,M]=p(0),w=s.themes,x=nt(()=>w?d(Object.keys(w),I=>I):[],[w]),P=nt(()=>w?d(Object.values(w).flatMap(I=>I.map(E=>E.name)).filter((I,E,H)=>H.indexOf(I)===E),I=>I):[],[w]),B=nt(()=>Array.from(new Set([...n,...l])),[n,l]),g={theme:t("theme"),themeType:t("themeType"),locale:t("language"),hasWords:t("hasWords")},{getValues:A,reset:O,formState:{isDirty:_,isValid:J},control:U}=ye({mode:"onChange",defaultValues:sa}),q=async()=>{try{const I=A();if(["theme","themeType","locale"].some(Ee=>!I[Ee]))return[];const X=await a.serverInfo.findEffectiveMessageBundles({realm:i,...I,locale:I.locale||we,source:!0}),W=I.hasWords.length>0?X.filter(Ee=>I.hasWords.some(C=>Ee.value.includes(C)||Ee.key.includes(C))):X;return d([...W],jn("key"))}catch{return[]}};function re(){o(!1),ue()}function ne(){O(),ue()}function pe(I){const E={...A()};delete E[I],O({...sa,...E}),ue()}function he(I,E){const H=A(),X=H[I],W=Array.isArray(X)?X.filter(me=>me!==E):X;O({...H,[I]:W}),ue()}function ue(){const I=qn(A(),E=>E!==""||Array.isArray(E)&&E.length>0);S(I),M(y+1)}const fe=()=>c(Gt,{direction:{default:"column"},spaceItems:{default:"spaceItemsNone"},children:[e(Me,{children:e(st,{children:e(Oe,{className:"pf-v5-u-mb-md pf-v5-u-mt-0 pf-v5-u-mr-md",component:Ut.p,children:t("effectiveMessageBundlesDescription")})})}),e(Me,{children:e(zn,{buttonText:t("searchForEffectiveMessageBundles"),setSearchDropdownOpen:o,searchDropdownOpen:h,marginRight:"2.5rem",width:"15vw",children:c(rt,{isHorizontal:!0,className:"pf-v5-u-w-25vw","data-testid":"effectiveMessageBundlesSearchForm",onSubmit:I=>I.preventDefault(),children:[e(D,{label:t("theme"),fieldId:"kc-theme",isRequired:!0,children:e(F,{name:"theme",control:U,defaultValue:"",rules:{validate:I=>(I||"").length>0},render:({field:I})=>e(ve,{"data-testid":"effective_message_bundles-theme-searchField",chipGroupProps:{numChips:1,expandedText:t("hide"),collapsedText:t("showRemaining")},variant:ke.single,typeAheadAriaLabel:"Select",onToggle:E=>N(E),selections:I.value,onSelect:E=>{I.onChange(E.toString()),N(!1)},onClear:()=>{I.onChange("")},isOpen:k,"aria-label":t("selectTheme"),chipGroupComponent:e(Ze,{children:e(Je,{onClick:E=>{E.stopPropagation(),I.onChange("")},children:I.value},I.value)}),children:[e(te,{label:t("selectTheme"),isDisabled:!0,children:t("selectTheme")},"theme_placeholder")].concat(P.map(E=>e(te,{value:E,children:E},E)))})})}),e(D,{label:t("themeType"),fieldId:"kc-themeType",isRequired:!0,children:e(F,{name:"themeType",control:U,defaultValue:"",rules:{validate:I=>(I||"").length>0},render:({field:I})=>e(ve,{"data-testid":"effective-message-bundles-feature-searchField",chipGroupProps:{numChips:1,expandedText:t("hide"),collapsedText:t("showRemaining")},variant:ke.single,typeAheadAriaLabel:"Select",onToggle:E=>b(E),selections:I.value,onSelect:E=>{I.onChange(E.toString()),b(!1)},onClear:()=>{I.onChange("")},isOpen:T,"aria-label":t("selectThemeType"),chipGroupComponent:e(Ze,{children:e(Je,{onClick:E=>{E.stopPropagation(),I.onChange("")},children:I.value},I.value)}),children:[e(te,{label:t("selectThemeType"),isDisabled:!0,children:t("selectThemeType")},"themeType_placeholder")].concat(x.map(E=>e(te,{value:E,children:E},E)))})})}),e(D,{label:t("language"),fieldId:"kc-language",isRequired:!0,children:e(F,{name:"locale",control:U,defaultValue:"",rules:{validate:I=>(I||"").length>0},render:({field:I})=>e(ve,{"data-testid":"effective-message-bundles-language-searchField",chipGroupProps:{numChips:1,expandedText:t("hide"),collapsedText:t("showRemaining")},variant:ke.single,typeAheadAriaLabel:"Select",onToggle:E=>f(E),selections:I.value,onSelect:E=>{I.onChange(E.toString()),f(!1)},onClear:()=>{I.onChange("")},isOpen:r,"aria-label":t("selectLanguage"),chipGroupComponent:e(Ze,{children:I.value?e(Je,{onClick:E=>{E.stopPropagation(),I.onChange("")},children:Ve(I.value,u.getLocale())},I.value):null}),children:[e(te,{label:t("selectLanguage"),isDisabled:!0,children:t("selectLanguage")},"language_placeholder")].concat(B.map(E=>e(te,{value:E,children:Ve(E,u.getLocale())},E)))})})}),e(D,{label:t("hasWords"),fieldId:"kc-hasWords",children:e(F,{name:"hasWords",control:U,render:({field:I})=>c("div",{children:[e(Ct,{id:"kc-hasWords","data-testid":"effective-message-bundles-hasWords-searchField",value:I.value.join(" "),onChange:E=>{const X=E.target.value;if(X.trim().length===0)I.onChange([]);else{const W=X.split(" ").map(me=>me.trim());I.onChange(W)}}}),e(Ze,{children:I.value.map((E,H)=>e(Je,{onClick:X=>{X.stopPropagation();const W=I.value.filter((me,Ee)=>Ee!==H);I.onChange(W)},children:E},H))})]})})}),c(Pe,{className:"pf-v5-u-mt-sm",children:[e(R,{variant:"primary",onClick:()=>{L(!0),re()},"data-testid":"search-effective-message-bundles-btn",isDisabled:!J,children:t("search")}),e(R,{variant:"secondary",onClick:ne,"data-testid":"reset-search-effective-message-bundles-btn",isDisabled:!_,children:t("reset")})]})]})})}),e(Me,{children:Object.entries(v).length>0&&e(Q,{children:Object.entries(v).map(I=>{const[E,H]=I;return e(Ze,{className:"pf-v5-u-mt-md pf-v5-u-mr-md",categoryName:g[E],isClosable:!0,onClick:()=>pe(E),children:typeof H=="string"?e(Je,{isReadOnly:!0,children:E==="locale"?Ve(H,u.getLocale())?.toLowerCase():H}):H.map(X=>e(Je,{onClick:()=>he(E,X),children:X},X))},E)})})})]});return m?e(_e,{loader:q,ariaLabelKey:"effectiveMessageBundles",toolbarItem:fe(),columns:[{name:"key",displayKey:"key"},{name:"value",displayKey:"value"}],emptyState:e(xe,{message:t("noSearchResults"),instructions:t("noSearchResultsInstructions")}),isSearching:Object.keys(v).length>0},y):c(Q,{children:[e("div",{className:"pf-v5-u-py-lg pf-v5-u-pl-md",children:fe()}),e(Be,{}),e(xe,{message:t("emptyEffectiveMessageBundles"),instructions:t("emptyEffectiveMessageBundlesInstructions"),isSearchVariant:!0})]})},Gl=({handleModalToggle:l,save:n,form:a})=>{const{t}=G();return e(je,{variant:Xe.small,title:t("addTranslation"),isOpen:!0,onClose:l,actions:[e(R,{"data-testid":"add-translation-confirm-button",variant:"primary",type:"submit",form:"translation-form",children:t("create")},"confirm"),e(R,{id:"modal-cancel","data-testid":"cancel",variant:le.link,onClick:()=>{l()},children:t("cancel")},"cancel")],children:e(rt,{id:"translation-form",isHorizontal:!0,onSubmit:a.handleSubmit(n),children:c(Ue,{...a,children:[e(be,{name:"key",label:t("key"),autoFocus:!0,rules:{required:t("required")}}),e(be,{name:"value",label:t("value"),rules:{required:t("required")}})]})})})},Ul=({internationalizationEnabled:l,watchSupportedLocales:n,realm:a,tableData:t})=>{const{adminClient:i}=se(),{t:s}=G(),[u,d]=p(!1),[h,o]=p(!1),[m,L]=p([]),[k,N]=p(we),[T,b]=p(!1),{getValues:r,handleSubmit:f}=ye(),[v,S]=p(!1),[y,M]=p([]),[w,x]=p(0),[P,B]=p(10),[g,A]=p(0),[O,_]=p(""),J=ye({mode:"onChange"}),{addAlert:U,addError:q}=Ce(),{realm:re}=ie(),{whoAmI:ne}=it(),[pe,he]=p([]),[ue,fe]=p(!1),[I,E]=p({}),[H,X]=p(""),W=()=>{x(w+1)};Ae(()=>{(async()=>{try{let z=await i.realms.getRealmLocalizationTexts({first:g,max:P,realm:a.realm,selectedLocale:k||r("defaultLocale")||ne.getLocale()});if(L(Object.entries(z)),O){const de=Re=>Object.entries(z).filter(It=>It[Re].includes(O)),Y=dl(de(0).concat(de(1)),Ia);z=Object.fromEntries(Y)}return Object.entries(z).slice(g,g+P)}catch{return[]}})().then(z=>{const de=z.map(Y=>({rowEditBtnAriaLabel:()=>s("rowEditBtnAriaLabel",{translation:Y[1]}),rowSaveBtnAriaLabel:()=>s("rowSaveBtnAriaLabel",{translation:Y[1]}),rowCancelBtnAriaLabel:()=>s("rowCancelBtnAriaLabel",{translation:Y[1]}),cells:[{title:Y[0],props:{value:Y[0]}},{title:Y[1],props:{value:Y[1]}}]}));M(de)})},[w,t,g,P,O]);const me=()=>{d(!u)},Ee=[e(Ft,{label:s("defaultLocale"),children:e(te,{value:we,children:Ve(we,ne.getDisplayName())},we)},"group1"),e(Be,{},"divider"),e(Ft,{label:s("supportedLocales"),children:n.map(K=>e(te,{value:K,children:Ve(K,ne.getLocale())},K))},"group2")],C=async K=>{try{await i.realms.addLocalization({realm:re,selectedLocale:k||r("defaultLocale")||we,key:K.key},K.value),i.setConfig({realmName:re}),W(),J.setValue("key",""),J.setValue("value",""),Et.reloadResources(),U(s("addTranslationSuccess"),ce.success)}catch(z){q("addTranslationError",z)}},[ee,De]=Te({titleKey:"deleteConfirmTranslationTitle",messageKey:s("translationDeleteConfirmDialog",{count:pe.length}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onCancel:()=>{he([]),fe(!1)},onConfirm:async()=>{try{for(const K of pe)delete Et.store.data[ne.getLocale()][re][K],await i.realms.deleteRealmLocalizationTexts({realm:re,selectedLocale:k,key:K});fe(!1),he([]),W(),U(s("deleteAllTranslationsSuccess"),ce.success)}catch(K){q("deleteAllTranslationsError",K)}}}),kt=(K,z)=>{const de=(y[z].cells?.[0]).props.value;K.target.checked?he(Y=>[...Y,de]):he(Y=>Y.filter(Re=>Re!==de)),fe(y.length===pe.length+(K.target.checked?1:-1))},xa=()=>{he(ue?[]:y.map(K=>(K.cells?.[0]).props.value)),fe(!ue)},Da=K=>pe.includes(K),Ra=async(K,z)=>{const de=Zt(y),Y=Zt(de[z]);(Y.cells?.[1]).props.value=K,de[z]=Y;try{const Re=(Y.cells?.[0]).props.value,It=(Y.cells?.[1]).props.value;await i.realms.addLocalization({realm:a.realm,selectedLocale:k||r("defaultLocale")||we,key:Re},It),Et.reloadResources(),U(s("updateTranslationSuccess"),ce.success),M(de)}catch(Re){q("updateTranslationError",Re)}E(Re=>({...Re,[z]:!1}))};return c(Q,{children:[e(De,{}),u&&e(Gl,{handleModalToggle:me,save:K=>{C(K),me()},form:J}),e(st,{children:e(Oe,{className:"pf-v5-u-mt-lg pf-v5-u-ml-md",component:Ut.p,children:s("realmOverridesDescription")})}),c(hn,{count:m.length,first:g,max:P,onNextClick:A,onPreviousClick:A,onPerPageSelect:(K,z)=>{A(K),B(z)},inputGroupName:"search",inputGroupOnEnter:K=>{_(K),A(0),B(10)},inputGroupPlaceholder:s("searchForTranslation"),toolbarItem:c(Q,{children:[e(R,{"data-testid":"add-translationBtn",onClick:()=>{d(!0),fe(!1),he([])},children:s("addTranslation")}),e(Le,{children:e(ma,{onOpenChange:K=>b(K),toggle:K=>e(pa,{ref:K,onClick:()=>b(!T),variant:"plain",isExpanded:T,"data-testid":"toolbar-deleteBtn","aria-label":"kebab",children:e(ha,{})}),isOpen:T,isPlain:!0,children:e(fa,{children:e(at,{component:"button","data-testid":"delete-selected-TranslationBtn",isDisabled:m.length===0||pe.length===0,onClick:()=>{ee(),b(!1)},children:s("delete")},"action")})})})]}),searchTypeComponent:e(Le,{children:e(ve,{width:180,isOpen:h,className:"kc-filter-by-locale-select",variant:ke.single,isDisabled:!l,onToggle:K=>o(K),onSelect:K=>{N(K.toString()),S(!0),W(),o(!1)},selections:v?Ve(k,ne.getLocale()):a.defaultLocale!==""?Ve(we,ne.getLocale()):s("placeholderText"),children:Ee})}),children:[m.length===0&&!O&&e(xe,{hasIcon:!0,message:s("noTranslations"),instructions:s("noTranslationsInstructions"),onPrimaryAction:me}),m.length===0&&O&&e(xe,{hasIcon:!0,icon:ga,isSearchVariant:!0,message:s("noSearchResults"),instructions:s("noRealmOverridesSearchResultsInstructions")}),m.length!==0&&c(fn,{"aria-label":s("editableRowsTable"),"data-testid":"editable-rows-table",children:[e(bn,{children:c(Yt,{children:[e(dt,{className:"pf-v5-u-px-lg",children:e("input",{type:"checkbox","aria-label":s("selectAll"),checked:ue,onChange:xa,"data-testid":"selectAll"})}),e(dt,{className:"pf-v5-u-py-lg",children:s("key")}),e(dt,{className:"pf-v5-u-py-lg",children:s("value")}),e(dt,{"aria-hidden":"true"})]})}),e(gn,{children:y.map((K,z)=>c(Yt,{children:[e(ut,{className:"pf-v5-u-px-lg",select:{rowIndex:z,onSelect:de=>kt(de,z),isSelected:Da((K.cells?.[0]).props.value)}}),e(ut,{className:"pf-m-sm pf-v5-u-px-sm",dataLabel:s("key"),children:(K.cells?.[0]).props.value}),e(ut,{className:"pf-m-sm pf-v5-u-px-sm",dataLabel:s("value"),children:e(rt,{isHorizontal:!0,className:"kc-form-translationValue",onSubmit:f(()=>{Ra(H,z)}),children:e(D,{fieldId:"kc-translationValue",className:"pf-v5-u-display-inline-block",children:I[z]?c(Q,{children:[e(Ct,{"aria-label":s("editTranslationValue"),type:"text",className:"pf-v5-u-w-initial","data-testid":`editTranslationValueInput-${z}`,value:H,onChange:(de,Y)=>{X(Y)}},`edit-input-${z}`),e(R,{variant:"link",className:"pf-m-plain","data-testid":`editTranslationAcceptBtn-${z}`,type:"submit","aria-label":s("acceptBtn"),icon:e(vn,{})}),e(R,{variant:"link",className:"pf-m-plain","data-testid":`editTranslationCancelBtn-${z}`,icon:e(yn,{}),"aria-label":s("cancelBtn"),onClick:()=>{E(de=>({...de,[z]:!1}))}})]}):c(Q,{children:[e("span",{children:(K.cells?.[1]).props.value}),e(R,{onClick:()=>{const de=(y[z].cells?.[1]).props.value;X(de),E(Y=>({...Y,[z]:!0}))},"aria-label":s("editBtn"),variant:"link",className:"pf-m-plain","data-testid":`editTranslationBtn-${z}`,children:e(Wn,{})},`edit-button-${z}`)]})})})},z),e(ut,{isActionCell:!0,children:e(Tn,{items:[{title:s("delete"),onClick:()=>{he([(K.cells?.[0]).props.value]),m.length===1&&fe(!0),ee(),b(!1)}}]})})]},(K.cells?.[0]).props.value))})]})]})]})},Bl=({save:l,realm:n,tableData:a})=>{const{t}=G(),{whoAmI:i}=it(),[s,u]=p(0),d=ye(),{setValue:h,control:o,handleSubmit:m,formState:L}=d,k=n.supportedLocales?.length?n.supportedLocales:[we],N=ze().themes,T=nt(()=>{const S=Object.values(N).flatMap(y=>y.flatMap(({locales:M})=>M||[]));return Array.from(new Set(S))},[N]),b=()=>{Ke(n,h),h("supportedLocales",k)};Ae(b,[]);const r=He({control:o,name:"supportedLocales",defaultValue:k}),f=He({control:o,name:"internationalizationEnabled",defaultValue:n.internationalizationEnabled}),v=He({name:"defaultLocale",control:o,defaultValue:n.defaultLocale?[n.defaultLocale]:[]});return c(St,{activeKey:s,onSelect:(S,y)=>u(y),children:[e($,{id:"locales",eventKey:0,title:e(j,{children:t("locales")}),"data-testid":"rs-localization-locales-tab",children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"pf-v5-u-mt-lg pf-v5-u-ml-md",onSubmit:m(l),children:[c(Ue,{...d,children:[e(oa,{name:"internationalizationEnabled",label:t("internationalization"),labelIcon:t("internationalizationHelp"),labelOn:t("enabled"),labelOff:t("disabled"),"aria-label":t("internationalization")}),f&&c(Q,{children:[e(Qe,{name:"supportedLocales",isScrollable:!0,label:t("supportedLocales"),controller:{defaultValue:k},variant:"typeaheadMulti",placeholderText:t("selectLocales"),options:T.map(S=>({key:S,value:Ve(S,i.getLocale())||S}))}),e(Qe,{name:"defaultLocale",label:t("defaultLocale"),controller:{defaultValue:we},"data-testid":"select-default-locale",options:r.map(S=>({key:S,value:Ve(S,i.getLocale())||S}))})]})]}),c(Pe,{children:[e(R,{variant:"primary",isDisabled:!L.isDirty,type:"submit","data-testid":"localization-tab-save",children:t("save")}),e(R,{variant:"link",onClick:b,children:t("revert")})]})]})}),e($,{id:"realm-overrides",eventKey:1,title:c(j,{children:[t("realmOverrides")," "]}),"data-testid":"rs-localization-realm-overrides-tab",children:e(Ul,{internationalizationEnabled:f,watchSupportedLocales:r,realm:n,tableData:a})}),e($,{id:"effective-message-bundles",eventKey:2,title:e(j,{children:t("effectiveMessageBundles")}),"data-testid":"rs-localization-effective-message-bundles-tab",children:e(Hl,{defaultSupportedLocales:k,defaultLocales:v})})]})},Fe=({fieldName:l,url:n})=>{const{t:a}=G(),t=l.substring(l.indexOf(".")+1);return e(be,{name:l,label:a(t),labelIcon:c(Tt,{i18nKey:`${t}Help`,children:["Default value prevents pages from being included",e(pt,{href:n,title:a("learnMore")})]})})},_l=({realm:l,save:n})=>{const{t:a}=G(),t=ye(),{setValue:i,formState:{isDirty:s},handleSubmit:u}=t,d=()=>Ke(l,i);return Ae(d,[]),e(Ue,{...t,children:c(ae,{isHorizontal:!0,role:"manage-realm",className:"keycloak__security-defences__form",onSubmit:u(n),children:[e(Fe,{fieldName:"browserSecurityHeaders.xFrameOptions",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options"}),e(Fe,{fieldName:"browserSecurityHeaders.contentSecurityPolicy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy"}),e(Fe,{fieldName:"browserSecurityHeaders.contentSecurityPolicyReportOnly",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy-Report-Only"}),e(Fe,{fieldName:"browserSecurityHeaders.xContentTypeOptions",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options"}),e(Fe,{fieldName:"browserSecurityHeaders.xRobotsTag",url:"https://developers.google.com/search/docs/advanced/robots/robots_meta_tag"}),e(Fe,{fieldName:"browserSecurityHeaders.xXSSProtection",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection"}),e(Fe,{fieldName:"browserSecurityHeaders.strictTransportSecurity",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security"}),e(Fe,{fieldName:"browserSecurityHeaders.referrerPolicy",url:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Referrer-Policy"}),c(Pe,{children:[e(R,{variant:"primary",type:"submit","data-testid":"headers-form-tab-save",isDisabled:!s,children:a("save")}),e(R,{variant:"link",onClick:d,children:a("revert")})]})]})})},mt=({name:l,style:n})=>{const{t:a}=G();return e(ka,{name:l,style:n,label:a(l),labelIcon:a(`${l}Help`),controller:{defaultValue:"",rules:{required:a("required")}}})},zl=({realm:l,save:n})=>{const{t:a}=G(),t=ye(),{setValue:i,handleSubmit:s,formState:{isDirty:u}}=t,[d,h]=p(!1),[o,m]=p(!1);let L;(r=>{r.Disabled="Disabled",r.PermanentLockout="PermanentLockout",r.TemporaryLockout="TemporaryLockout",r.PermanentAfterTemporaryLockout="PermanentAfterTemporaryLockout"})(L||(L={}));const k=["Disabled","PermanentLockout","TemporaryLockout","PermanentAfterTemporaryLockout"],N=["MULTIPLE","LINEAR"],T=()=>{Ke(l,i),m(!1)};Ae(T,[]);const b=t.getValues("bruteForceProtected")?t.getValues("permanentLockout")?t.getValues("maxTemporaryLockouts")==0?"PermanentLockout":"PermanentAfterTemporaryLockout":"TemporaryLockout":"Disabled";return e(Ue,{...t,children:c(ae,{role:"manage-realm",isHorizontal:!0,onSubmit:s(n),children:[e(D,{label:a("bruteForceMode"),fieldId:"kc-brute-force-mode",labelIcon:e(V,{helpText:a("bruteForceModeHelpText"),fieldLabelId:"bruteForceMode"}),children:e(ve,{toggleId:"kc-brute-force-mode",onToggle:()=>h(!d),onSelect:r=>{switch(r){case"Disabled":t.setValue("bruteForceProtected",!1),t.setValue("permanentLockout",!1),t.setValue("maxTemporaryLockouts",0);break;case"TemporaryLockout":t.setValue("bruteForceProtected",!0),t.setValue("permanentLockout",!1),t.setValue("maxTemporaryLockouts",0);break;case"PermanentLockout":t.setValue("bruteForceProtected",!0),t.setValue("permanentLockout",!0),t.setValue("maxTemporaryLockouts",0);break;case"PermanentAfterTemporaryLockout":t.setValue("bruteForceProtected",!0),t.setValue("permanentLockout",!0),t.setValue("maxTemporaryLockouts",1);break}m(!0),h(!1)},selections:b,variant:ke.single,isOpen:d,"data-testid":"select-brute-force-mode","aria-label":a("selectUnmanagedAttributePolicy"),children:k.map(r=>e(te,{value:r,children:a(`bruteForceMode.${r}`)},r))})}),b!=="Disabled"&&c(Q,{children:[e(wt,{name:"failureFactor",label:a("failureFactor"),labelIcon:a("failureFactorHelp"),controller:{defaultValue:0,rules:{required:a("required")}}}),b==="PermanentAfterTemporaryLockout"&&e(wt,{name:"maxTemporaryLockouts",label:a("maxTemporaryLockouts"),labelIcon:a("maxTemporaryLockoutsHelp"),controller:{defaultValue:0}}),(b==="TemporaryLockout"||b==="PermanentAfterTemporaryLockout")&&c(Q,{children:[e(Qe,{name:"bruteForceStrategy",label:a("bruteForceStrategy"),labelIcon:a("bruteForceStrategyHelp"),controller:{defaultValue:""},options:N.map(r=>({key:r,value:a(`bruteForceStrategy.${r}`)}))}),e(mt,{name:"waitIncrementSeconds"}),e(mt,{name:"maxFailureWaitSeconds"}),e(mt,{name:"maxDeltaTimeSeconds"})]}),e(wt,{name:"quickLoginCheckMilliSeconds",label:a("quickLoginCheckMilliSeconds"),labelIcon:a("quickLoginCheckMilliSecondsHelp"),controller:{defaultValue:0}}),e(mt,{name:"minimumQuickLoginWaitSeconds"})]}),c(Pe,{children:[e(R,{variant:"primary",type:"submit","data-testid":"brute-force-tab-save",isDisabled:!u&&!o,children:a("save")}),e(R,{variant:"link",onClick:T,children:a("revert")})]})]})})},$l=({realm:l,save:n})=>{const{t:a}=G(),[t,i]=p(10);return c(St,{activeKey:t,onSelect:(s,u)=>i(u),children:[e($,{id:"headers",eventKey:10,"data-testid":"security-defenses-headers-tab",title:e(j,{children:a("headers")}),children:e(oe,{variant:"light",children:e(_l,{realm:l,save:n})})}),e($,{id:"bruteForce",eventKey:20,"data-testid":"security-defenses-brute-force-tab",title:e(j,{children:a("bruteForceDetection")}),children:e(oe,{variant:"light",children:e(zl,{realm:l,save:n})})})]})},jl=({setTableData:l})=>{const{adminClient:n}=se(),{config:a,save:t}=qt(),{t:i}=G(),s=zt(),u=Ye(),{realm:d}=ie(),[h,o]=p(0),[m,L]=p();Ae(()=>o(r=>r+1),[a]);async function k(){return a?.groups??[]}const[N,T]=Te({titleKey:"deleteDialogTitle",children:c(Tt,{i18nKey:"deleteDialogDescription",children:[" ",e("strong",{children:{group:m?.name}}),"."]}),continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:async()=>{const r=(a?.groups??[]).filter(S=>S!==m),f=m?.displayHeader?.substring(2,m?.displayHeader.length-1),v=m?.displayDescription?.substring(2,m?.displayDescription.length-1);try{await Promise.all(s.map(async S=>{try{if(await n.realms.getRealmLocalizationTexts({realm:d,selectedLocale:S})){await n.realms.deleteRealmLocalizationTexts({realm:d,selectedLocale:S,key:f}),await n.realms.deleteRealmLocalizationTexts({realm:d,selectedLocale:S,key:v});const M=await n.realms.getRealmLocalizationTexts({realm:d,selectedLocale:S});l([M])}}catch{console.error(`Error removing translations for ${S}`)}})),t({...a,groups:r},{successMessageKey:"deleteSuccess",errorMessageKey:"deleteAttributeGroupError"})}catch(S){console.error(`Error removing translations or updating attributes group: ${S}`)}}});function b(r){L(r),N()}return c(oe,{variant:"light",className:"pf-v5-u-p-0",children:[e(T,{}),e(_e,{loader:k,ariaLabelKey:"tableTitle",toolbarItem:e(Le,{children:e(R,{component:r=>e(Ie,{"data-testid":"create-attributes-groups-action",...r,to:ea({realm:d})}),children:i("createGroupText")})}),columns:[{name:"name",displayKey:"columnName",cellRenderer:r=>e(Ie,{to:Cn({realm:d,name:r.name}),children:r.name})},{name:"displayHeader",displayKey:"columnDisplayName"},{name:"displayDescription",displayKey:"columnDisplayDescription"}],actions:[{title:i("delete"),onRowClick:b}],emptyState:e(xe,{message:i("emptyStateMessage"),instructions:i("emptyStateInstructions"),primaryActionText:i("createGroupText"),onPrimaryAction:()=>u(ea({realm:d}))})},h)]})},ql=["username","email"],Wl=({setTableData:l})=>{const{adminClient:n}=se(),{config:a,save:t}=qt(),{realm:i}=ie(),{t:s}=G(),u=zt(),d=Ye(),[h,o]=p("allGroups"),[m,L]=qe(),[k,N]=p(a?.attributes),[T,b]=p(""),[r,f]=Te({titleKey:s("deleteAttributeConfirmTitle"),messageKey:s("deleteAttributeConfirm",{attributeName:T}),continueButtonLabel:s("delete"),continueButtonVariant:le.danger,onConfirm:async()=>{if(!a?.attributes)return;const w=a.attributes.find(P=>P.name===T)?.displayName,x=w?.substring(2,w.length-1);try{await Promise.all(u.map(async B=>{try{if(await n.realms.getRealmLocalizationTexts({realm:i,selectedLocale:B})){await n.realms.deleteRealmLocalizationTexts({realm:i,selectedLocale:B,key:x});const A=await n.realms.getRealmLocalizationTexts({realm:i,selectedLocale:B});l([A])}}catch{console.error(`Error removing translations for ${B}`)}}));const P=a.attributes.filter(B=>B.name!==T);t({...a,attributes:P,groups:a.groups},{successMessageKey:"deleteAttributeSuccess",errorMessageKey:"deleteAttributeError"}),b("")}catch(P){console.error(`Error removing translations or updating attributes: ${P}`)}}});if(!a)return e(We,{});const v=a.attributes??[],S=a.groups??[],y=async(w,x)=>{const P=v.findIndex(g=>g.name===w.name);let B={};B=v[P],v.splice(P,1),v.splice(x,0,B),t({attributes:v,groups:S},{successMessageKey:"updatedUserProfileSuccess",errorMessageKey:"updatedUserProfileError"})},M=w=>e(Ie,{to:ta({realm:i,attributeName:w.name}),children:w.name},w.name);return c(Q,{children:[e(ba,{children:c(Sn,{children:[e(Le,{children:e(ve,{toggleId:"kc-group-filter",width:200,"data-testid":"filter-select",isOpen:m,variant:ke.single,onToggle:L,toggleIcon:e(La,{}),onSelect:w=>{const x=w.toString();o(x),N(x==="allGroups"?v:v.filter(P=>P.group===x)),L()},selections:h==="allGroups"?s(h):h,children:[e(te,{"data-testid":"all-groups",value:"allGroups",children:s("allGroups")},"allGroups"),...kn(v.filter(w=>!!w.group),"group").map(w=>e(te,{value:w.group,children:w.group},w.group))]})}),e(Le,{className:"kc-toolbar-attributesTab",children:e(R,{"data-testid":"createAttributeBtn",variant:"primary",component:w=>e(Ie,{...w,to:In({realm:i})}),children:s("createAttribute")})})]})}),e(Be,{}),e(f,{}),e(Pa,{keyField:"name",onDragFinish:async(w,x)=>{const P=v.map(O=>O.name),B=x.indexOf(w),g=P.indexOf(w),A=v[g];A.name&&y(A,B)},actions:[{title:s("edit"),onClick:(w,x,P)=>{d(ta({realm:i,attributeName:P.name}))}},{title:s("delete"),isActionable:({name:w})=>!ql.includes(w),onClick:(w,x,P)=>{b(P.name),r()}}],columns:[{name:"name",displayKey:s("attributeName"),cellRenderer:M},{name:"displayName",displayKey:s("attributeDisplayName")},{name:"group",displayKey:s("attributeGroup")}],data:k??v})]})},Jl=()=>{const{config:l,save:n,isSaving:a}=qt(),{t}=G(),{addError:i}=Ce(),[s,u]=p();Ae(()=>d(),[l,s]);function d(){s?.setValue(l?lt(l):"")}async function h(){const o=s?.getValue();if(o)try{await n(JSON.parse(o))}catch(m){i("invalidJsonError",m);return}}return c(oe,{variant:"light",children:[e($t,{language:jt.json,height:"30rem",onEditorDidMount:o=>u(o),isLanguageLabelVisible:!0}),e(rt,{children:c(Pe,{children:[e(R,{"data-testid":"save",variant:"primary",onClick:h,isDisabled:a,children:t("save")}),e(R,{variant:"link",onClick:d,isDisabled:a,children:t("revert")})]})})]})},Ql=({setTableData:l})=>{const{realm:n}=ie(),{t:a}=G(),t=d=>yt(aa({realm:n,tab:d})),i=t("attributes"),s=t("attributes-group"),u=t("json-editor");return e(Jn,{children:c(vt,{defaultLocation:aa({realm:n,tab:"attributes"}),mountOnEnter:!0,children:[e($,{title:e(j,{children:a("attributes")}),"data-testid":"attributesTab",...i,children:e(Wl,{setTableData:l})}),e($,{title:e(j,{children:a("attributesGroup")}),"data-testid":"attributesGroupTab",...s,children:e(jl,{setTableData:l})}),e($,{title:e(j,{children:a("jsonEditor")}),"data-testid":"jsonEditorTab",...u,children:e(Jl,{})})]})})},Xl=({save:l,onChange:n,value:a,realmName:t,refresh:i})=>{const{adminClient:s}=se(),{environment:u}=ca(),{t:d}=G(),{addAlert:h,addError:o}=Ce(),m=Ye(),[L,k]=p(!1),[N,T]=p(!1),{hasAccess:b}=Bt(),r=b("manage-realm"),[f,v]=Te({titleKey:"disableConfirmTitle",messageKey:"disableConfirmRealm",continueButtonLabel:"disable",onConfirm:()=>{n(!a),l()}}),[S,y]=Te({titleKey:"deleteConfirmTitle",messageKey:"deleteConfirmRealmSetting",continueButtonLabel:"delete",continueButtonVariant:le.danger,onConfirm:async()=>{try{await s.realms.del({realm:t}),h(d("deletedSuccessRealmSetting"),ce.success),m(Ln({realm:u.masterRealm})),i()}catch(M){o("deleteErrorRealmSetting",M)}}});return c(Q,{children:[e(v,{}),e(y,{}),e(vl,{open:L,toggleDialog:()=>k(!L)}),e(gl,{isOpen:N,onClose:()=>T(!1)}),e(Rn,{titleKey:t,subKey:"realmSettingsExplain",helpUrl:Pn.realmSettingsUrl,divider:!1,dropdownItems:[e(at,{"data-testid":"openPartialImportModal",isDisabled:!r,onClick:()=>{k(!0)},children:d("partialImport")},"import"),e(at,{"data-testid":"openPartialExportModal",isDisabled:!r,onClick:()=>T(!0),children:d("partialExport")},"export"),e(Be,{},"separator"),e(at,{isDisabled:!r,onClick:S,children:d("delete")},"delete")],isEnabled:a,isReadOnly:!r,onToggle:M=>{M?(n(M),l()):f()}})]})},Yl=()=>{const{adminClient:l}=se(),{t:n}=G(),{addAlert:a,addError:t}=Ce(),{realm:i,realmRepresentation:s,refresh:u}=ie(),d=zt(),h=Ye(),o=Ht(),[m,L]=p(void 0),{control:k,setValue:N,getValues:T}=ye({mode:"onChange"}),[b,r]=p(0),f=()=>{r(b+1)},v=(H=s)=>{Ke(H,N)};Ae(()=>{v(),(async()=>{try{await Promise.all(d.map(async X=>{try{const W=await l.realms.getRealmLocalizationTexts({realm:i,selectedLocale:X});W&&L([W])}catch{return[]}}))}catch{return[]}})()},[N,s]);const S=async H=>{H=An(H),H.attributes?.["acr.loa.map"]&&typeof H.attributes["acr.loa.map"]!="string"&&(H.attributes["acr.loa.map"]=JSON.stringify(Object.fromEntries(H.attributes["acr.loa.map"].filter(({key:W})=>W!=="").map(({key:W,value:me})=>[W,me]))));try{const W={...s,...H,id:H.realm};W.smtpServer?.port===""&&(W.smtpServer={...W.smtpServer,port:null});const me=await En(wn(l.baseUrl,`admin/realms/${i}/ui-ext`),{method:"PUT",body:JSON.stringify(W),headers:{"Content-Type":"application/json",...xn(await l.getAccessToken())}});if(!me.ok)throw new Error(me.statusText);a(n("realmSaveSuccess"),ce.success)}catch(W){t("realmSaveError",W)}i!==(H.realm||s?.realm)&&h(xt({realm:H.realm,tab:"general"})),u()},y=H=>yt(xt({realm:i,tab:H})),M=y("general"),w=y("login"),x=y("email"),P=y("themes"),B=y("keys"),g=y("events"),A=y("localization"),O=y("security-defenses"),_=y("sessions"),J=y("tokens"),U=y("client-policies"),q=y("user-profile"),re=y("user-registration"),{hasAccess:ne,hasSomeAccess:pe}=Bt(),he=ne("view-realm")&&pe("view-events","manage-events"),ue=ne("view-realm")&&pe("view-clients","manage-clients"),fe=H=>yt(Ot({realm:i,tab:H})),I=fe("profiles"),E=fe("policies");return c(Q,{children:[e(F,{name:"enabled",defaultValue:!0,control:k,render:({field:H})=>e(Xl,{value:H.value,onChange:H.onChange,realmName:i,refresh:f,save:()=>S(T())})}),e(oe,{variant:"light",className:"pf-v5-u-p-0",children:c(vt,{isBox:!0,mountOnEnter:!0,"aria-label":"realm-settings-tabs",defaultLocation:xt({realm:i,tab:"general"}),children:[e($,{title:e(j,{children:n("general")}),"data-testid":"rs-general-tab",...M,children:e(pl,{realm:s,save:S})}),e($,{title:e(j,{children:n("login")}),"data-testid":"rs-login-tab",...w,children:e(bl,{refresh:u,realm:s})}),e($,{title:e(j,{children:n("email")}),"data-testid":"rs-email-tab",...x,children:e(ml,{realm:s,save:S})}),e($,{title:e(j,{children:n("themes")}),"data-testid":"rs-themes-tab",...P,children:e(kl,{realm:s,save:S})}),e($,{title:e(j,{children:n("keys")}),"data-testid":"rs-keys-tab",...B,children:e(Fl,{})}),he&&e($,{title:e(j,{children:n("events")}),"data-testid":"rs-realm-events-tab",...g,children:e(wl,{realm:s})}),e($,{title:e(j,{children:n("localization")}),"data-testid":"rs-localization-tab",...A,children:e(Bl,{save:S,realm:s,tableData:m},b)}),e($,{title:e(j,{children:n("securityDefences")}),"data-testid":"rs-security-defenses-tab",...O,children:e($l,{realm:s,save:S})}),e($,{title:e(j,{children:n("sessions")}),"data-testid":"rs-sessions-tab",..._,children:e(Sl,{realm:s,save:S},b)}),e($,{title:e(j,{children:n("tokens")}),"data-testid":"rs-tokens-tab",...J,children:e(Il,{save:S,realm:s})}),o(bt.ClientPolicies)&&e($,{title:e(j,{children:n("clientPolicies")}),"data-testid":"rs-clientPolicies-tab",...U,children:c(vt,{mountOnEnter:!0,defaultLocation:Ot({realm:i,tab:"profiles"}),children:[e($,{id:"profiles","data-testid":"rs-policies-clientProfiles-tab","aria-label":n("clientProfilesSubTab"),title:e(j,{children:n("profiles")}),tooltip:e(na,{content:n("clientPoliciesProfilesHelpText")}),...I,children:e(Cl,{})}),e($,{id:"policies","data-testid":"rs-policies-clientPolicies-tab","aria-label":n("clientPoliciesSubTab"),...E,title:e(j,{children:n("policies")}),tooltip:e(na,{content:n("clientPoliciesPoliciesHelpText")}),children:e(yl,{})})]})}),e($,{title:e(j,{children:n("userProfile")}),"data-testid":"rs-user-profile-tab",...q,children:e(Ql,{setTableData:L})}),ue&&e($,{title:e(j,{children:n("userRegistration")}),"data-testid":"rs-userRegistration-tab",...re,children:e(Pl,{})})]})})]})};function $i(){return e(Yl,{})}export{$i as default};
//# sourceMappingURL=RealmSettingsSection-z1KmqWw3.js.map
