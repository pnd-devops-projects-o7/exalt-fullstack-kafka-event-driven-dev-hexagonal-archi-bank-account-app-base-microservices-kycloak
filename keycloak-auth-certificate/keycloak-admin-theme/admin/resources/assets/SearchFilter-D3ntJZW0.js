import{jsx as e,jsxs as S,Fragment as T}from"react/jsx-runtime";import{useState as O}from"react";import{u as w,a as y,$ as x,af as f,ag as C,p as F,ah as u,bl as k,bm as A,T as g,ai as $,D as E}from"./main-C047jAp3.js";import{f as P,c as L,g as b,b as _,A as m}from"./ClientScopeTypes-Cr5mTApE.js";import{F as j}from"./filter-icon-BeqpAxqe.js";const B=({clientId:n,selectedRows:c,refresh:r})=>{const{adminClient:p}=w(),{t:a}=y(),[i,t]=O(!1),{addAlert:s,addError:l}=x();return e(f,{"aria-label":"change-type-to",onOpenChange:o=>t(o),isOpen:i,toggle:o=>e(C,{id:"change-type-dropdown",isDisabled:c.length===0,ref:o,onClick:()=>t(!i),isExpanded:i,children:a("changeTypeTo")}),onSelect:async(o,d)=>{try{await Promise.all(c.map(h=>n?P(p,n,h,h.type,d):L(p,h,d))),t(!1),r(),s(a("clientScopeSuccess"),F.success)}catch(h){l("clientScopeError",h)}},children:e(u,{children:b(a,n?void 0:_)})})},v=["all","saml","openid-connect"],G=(n="")=>c=>c.name?.includes(n),H=n=>c=>n===m.none||c.type===n,J=n=>c=>n==="all"||c.protocol===n,D=({searchType:n,withProtocol:c=!1,onSelect:r})=>{const{t:p}=y(),[a,i]=O(!1),t=l=>e(E,{onClick:()=>{r(l),i(!1)},children:p(`clientScopeSearch.${l}`)},l),s=[t("name"),t("type")];return c&&s.push(t("protocol")),e(k,{onOpenChange:l=>i(l),toggle:l=>S(C,{"data-testid":"clientScopeSearch",ref:l,id:"toggle-id",onClick:()=>i(!a),children:[e(j,{})," ",p(`clientScopeSearch.${n}`)]}),isOpen:a,children:e(A,{children:s})})},K=({searchType:n,onSelect:c,type:r,onType:p,protocol:a,onProtocol:i})=>{const{t}=y(),[s,l]=O(!1);return S(T,{children:[n==="type"&&S(T,{children:[e(g,{children:e(D,{searchType:n,onSelect:c,withProtocol:!!a})}),e(g,{children:e(f,{toggle:o=>e(C,{"data-testid":"clientScopeSearchType",ref:o,isExpanded:s,onClick:()=>l(!s),children:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`)}),onOpenChange:o=>l(o),isOpen:s,selected:r===m.none?t("allTypes"):t(`clientScopeTypes.${r}`),onSelect:(o,d)=>{p(d),l(!1)},children:S(u,{children:[e($,{value:m.none,children:t("allTypes")}),b(t)]})})})]}),n==="protocol"&&!!a&&S(T,{children:[e(g,{children:e(D,{searchType:n,onSelect:c,withProtocol:!0})}),e(g,{children:e(f,{toggle:o=>e(C,{"data-testid":"clientScopeSearchProtocol",ref:o,isExpanded:s,onClick:()=>l(!s),children:t(`protocolTypes.${a}`)}),onOpenChange:o=>l(o),isOpen:s,selected:t(`protocolTypes.${a}`),onSelect:(o,d)=>{i?.(d),l(!1)},children:e(u,{children:v.map(o=>e($,{value:o,children:t(`protocolTypes.${o}`)},o))})})})]})]})};export{B as C,D as S,K as a,G as n,J as p,H as t};
//# sourceMappingURL=SearchFilter-D3ntJZW0.js.map
