import{jsx as a,jsxs as v,Fragment as w}from"react/jsx-runtime";import{u as x,a as A,$ as b,b as E,d as F,j as P,C as V,x as j,P as y,p as G,cA as N,fm as R,fn as M}from"./main-C047jAp3.js";import{useState as l}from"react";import{V as S}from"./ViewHeader-Y2Z8ln-o.js";import{U as $,t as k}from"./UserForm--6_Ea0DI.js";/* empty css                     */import"react-dom";import"./SwitchControl-87mhceN2.js";import"./FormAccess-CEFqBG2E.js";import"./copy-icon-D1BxihC2.js";import"./GroupPickerDialog-CRtxj-P-.js";import"./DataListItemRow-BUcm7LGX.js";import"./useFormatDate-Bn-bRoLD.js";function X(){const{adminClient:i}=x(),{t:r}=A(),{addAlert:c,addError:u}=b(),p=E(),{realm:m,realmRepresentation:s}=F(),o=P({mode:"onChange"}),[f,g]=l([]),[d,U]=l();V(()=>i.users.getProfileMetadata({realm:m}),t=>{if(!t)throw new Error(r("notFound"));o.setValue("attributes.locale",s?.defaultLocale||""),U(t)},[]);const h=async t=>{try{const e=await i.users.create({...k(t),groups:f.map(n=>n.path),enabled:!0});c(r("userCreated"),G.success),p(N({id:e.id,realm:m,tab:"settings"}))}catch(e){R(e)?M(e,o.setError,(n,C)=>r(n,C)):u("userCreateError",e)}};return!s||!d?a(j,{}):v(w,{children:[a(S,{titleKey:r("createUser"),className:"kc-username-view-header"}),a(y,{variant:"light",children:a($,{form:o,realm:s,userProfileMetadata:d,onGroupsUpdate:g,save:h})})]})}export{X as default};
//# sourceMappingURL=CreateUser-BzbQO7E2.js.map
